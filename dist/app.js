!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){t.exports=n(154)},function(t,e,n){function r(){if(!a){a=!0;for(var t,e=s.length;e;){t=s,s=[];for(var n=-1;++n<e;)t[n]();e=s.length}a=!1}}function i(){}var o=t.exports={},s=[],a=!1;o.nextTick=function(t){s.push(t),a||setTimeout(r,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t){function t(e,n){var r=this;if(!(r instanceof t))return new t(e,n);var i,o=typeof e;if("number"===o)i=+e;else if("string"===o)i=t.byteLength(e,n);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&P(e.data)&&(e=e.data),i=+e.length}if(i>M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");0>i?i=0:i>>>=0,t.TYPED_ARRAY_SUPPORT?r=t._augment(new Uint8Array(i)):(r.length=i,r._isBuffer=!0);var s;if(t.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)r._set(e);else if(C(e))if(t.isBuffer(e))for(s=0;i>s;s++)r[s]=e.readUInt8(s);else for(s=0;i>s;s++)r[s]=(e[s]%256+256)%256;else if("string"===o)r.write(e,0,n);else if("number"===o&&!t.TYPED_ARRAY_SUPPORT)for(s=0;i>s;s++)r[s]=0;return i>0&&i<=t.poolSize&&(r.parent=L),r}function r(e,n){if(!(this instanceof r))return new r(e,n);var i=new t(e,n);return delete i.parent,i}function i(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function o(t,e,n,r){var i=I(O(e,t.length-n),t,n,r);return i}function s(t,e,n,r){var i=I(T(e),t,n,r);return i}function a(t,e,n,r){return s(t,e,n,r)}function u(t,e,n,r){var i=I(j(e),t,n,r);return i}function c(t,e,n,r){var i=I(D(e,t.length-n),t,n,r);return i}function l(t,e,n){return R.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function p(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=A(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+A(i)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function d(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function h(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=N(t[o]);return i}function m(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function g(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function v(e,n,r,i,o,s){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||s>n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function y(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function _(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function b(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function E(t,e,n,r,i){return i||b(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),k.write(t,e,n,r,23,4),n+4}function x(t,e,n,r,i){return i||b(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),k.write(t,e,n,r,52,8),n+8}function w(t){if(t=S(t).replace(B,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function S(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(e){return P(e)||t.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function N(t){return 16>t?"0"+t.toString(16):t.toString(16)}function O(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function T(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function D(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function j(t){return R.toByteArray(w(t))}function I(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function A(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var R=n(504),k=n(505),P=n(506);e.Buffer=t,e.SlowBuffer=r,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var M=1073741823,L={};t.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,s=Math.min(r,i);s>o&&e[o]===n[o];o++);return o!==s&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!P(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);if(1===e.length)return e[0];var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(i,o),o+=s.length}return i},t.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=O(t).length;break;case"base64":n=j(t).length;break;default:n=t.length}return n},t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return h(this,e,n);case"utf8":case"utf-8":return p(this,e,n);case"ascii":return f(this,e,n);case"binary":return d(this,e,n);case"base64":return l(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var l=r;r=e,e=n,n=l}if(e=Number(e)||0,0>n||0>e||e>this.length)throw new RangeError("attempt to write outside buffer bounds");var p=this.length-e;n?(n=Number(n),n>p&&(n=p)):n=p,r=String(r||"utf8").toLowerCase();var f;switch(r){case"hex":f=i(this,t,e,n);break;case"utf8":case"utf-8":f=o(this,t,e,n);break;case"ascii":f=s(this,t,e,n);break;case"binary":f=a(this,t,e,n);break;case"base64":f=u(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=c(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return f},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,void 0);for(var s=0;o>s;s++)i[s]=this[s+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||g(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||g(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||g(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||g(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||g(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||g(t,4,this.length),k.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||g(t,4,this.length),k.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||g(t,8,this.length),k.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||g(t,8,this.length),k.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||v(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i>>>0&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||v(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o>>>0&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):y(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):y(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e):_(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):_(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||v(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=0,o=1,s=0>t?1:0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||v(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=n-1,o=1,s=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):y(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):y(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):_(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n>>>=0,r||v(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):_(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return E(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return E(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r;if(1e3>o||!t.TYPED_ARRAY_SUPPORT)for(var s=0;o>s;s++)e[s+n]=this[s+r];else e._set(this.subarray(r,r+o),n);return o},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=O(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var F=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=F.get,e.set=F.set,e.write=F.write,e.toString=F.toString,e.toLocaleString=F.toString,e.toJSON=F.toJSON,e.equals=F.equals,e.compare=F.compare,e.indexOf=F.indexOf,e.copy=F.copy,e.slice=F.slice,e.readUIntLE=F.readUIntLE,e.readUIntBE=F.readUIntBE,e.readUInt8=F.readUInt8,e.readUInt16LE=F.readUInt16LE,e.readUInt16BE=F.readUInt16BE,e.readUInt32LE=F.readUInt32LE,e.readUInt32BE=F.readUInt32BE,e.readIntLE=F.readIntLE,e.readIntBE=F.readIntBE,e.readInt8=F.readInt8,e.readInt16LE=F.readInt16LE,e.readInt16BE=F.readInt16BE,e.readInt32LE=F.readInt32LE,e.readInt32BE=F.readInt32BE,e.readFloatLE=F.readFloatLE,e.readFloatBE=F.readFloatBE,e.readDoubleLE=F.readDoubleLE,e.readDoubleBE=F.readDoubleBE,e.writeUInt8=F.writeUInt8,e.writeUIntLE=F.writeUIntLE,e.writeUIntBE=F.writeUIntBE,e.writeUInt16LE=F.writeUInt16LE,e.writeUInt16BE=F.writeUInt16BE,e.writeUInt32LE=F.writeUInt32LE,e.writeUInt32BE=F.writeUInt32BE,e.writeIntLE=F.writeIntLE,e.writeIntBE=F.writeIntBE,e.writeInt8=F.writeInt8,e.writeInt16LE=F.writeInt16LE,e.writeInt16BE=F.writeInt16BE,e.writeInt32LE=F.writeInt32LE,e.writeInt32BE=F.writeInt32BE,e.writeFloatLE=F.writeFloatLE,e.writeFloatBE=F.writeFloatBE,e.writeDoubleLE=F.writeDoubleLE,e.writeDoubleBE=F.writeDoubleBE,e.fill=F.fill,e.inspect=F.inspect,e.toArrayBuffer=F.toArrayBuffer,e};var B=/[^+\/0-9A-z\-]/g}).call(e,n(2).Buffer)},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,i,o,s,a,u){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,i,o,s,a,u],p=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return l[p++]}))}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var s=Object(o);for(var a in s)r.call(s,a)&&(n[a]=s[a])}}return n}t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,n){Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[n]:null},set:function(t){"production"!==e.env.NODE_ENV?u(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",n):null,this._store[n]=t}})}function i(t){try{var e={props:!0};for(var n in e)r(t,n);l=!0}catch(i){}}var o=n(78),s=n(20),a=n(4),u=n(7),c={key:!0,ref:!0},l=!1,p=function(t,n,r,i,o,s){if(this.type=t,this.key=n,this.ref=r,this._owner=i,this._context=o,"production"!==e.env.NODE_ENV){this._store={props:s,originalProps:a({},s)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(u){}if(this._store.validated=!1,l)return void Object.freeze(this)}this.props=s};p.prototype={_isReactElement:!0},"production"!==e.env.NODE_ENV&&i(p.prototype),p.createElement=function(t,e,n){var r,i={},a=null,u=null;if(null!=e){u=void 0===e.ref?null:e.ref,a=void 0===e.key?null:""+e.key;for(r in e)e.hasOwnProperty(r)&&!c.hasOwnProperty(r)&&(i[r]=e[r])}var l=arguments.length-2;if(1===l)i.children=n;else if(l>1){for(var f=Array(l),d=0;l>d;d++)f[d]=arguments[d+2];i.children=f}if(t&&t.defaultProps){var h=t.defaultProps;for(r in h)"undefined"==typeof i[r]&&(i[r]=h[r])}return new p(t,a,u,s.current,o.current,i)},p.createFactory=function(t){var e=p.createElement.bind(null,t);return e.type=t,e},p.cloneAndReplaceProps=function(t,n){var r=new p(t.type,t.key,t.ref,t._owner,t._context,n);return"production"!==e.env.NODE_ENV&&(r._store.validated=t._store.validated),r},p.cloneElement=function(t,e,n){var r,i=a({},t.props),o=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=s.current),void 0!==e.key&&(o=""+e.key);for(r in e)e.hasOwnProperty(r)&&!c.hasOwnProperty(r)&&(i[r]=e[r])}var f=arguments.length-2;if(1===f)i.children=n;else if(f>1){for(var d=Array(f),h=0;f>h;h++)d[h]=arguments[h+2];i.children=d}return new p(t.type,o,u,l,t._context,i)},p.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},t.exports=p}).call(e,n(1))},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&e._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&N(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return _(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var s=Object.keys(n),m=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),C(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(N(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(C(n))return l(n)}var v="",y=!1,b=["{","}"];if(h(n)&&(y=!0,b=["[","]"]),N(n)){var E=n.name?": "+n.name:"";v=" [Function"+E+"]"}if(x(n)&&(v=" "+RegExp.prototype.toString.call(n)),S(n)&&(v=" "+Date.prototype.toUTCString.call(n)),C(n)&&(v=" "+l(n)),0===s.length&&(!y||0==n.length))return b[0]+v+b[1];if(0>r)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=y?p(t,n,r,m,s):s.map(function(e){return f(t,n,r,m,e,y)}),t.seen.pop(),d(w,v,b)}function c(t,e){if(E(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i){for(var o=[],s=0,a=e.length;a>s;++s)o.push(I(e,String(s))?f(t,e,n,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),I(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?u(t,c.value,null):u(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),E(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function h(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function E(t){return void 0===t}function x(t){return w(t)&&"[object RegExp]"===T(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===T(t)}function C(t){return w(t)&&("[object Error]"===T(t)||t instanceof Error)}function N(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function D(t){return 10>t?"0"+t.toString(10):t.toString(10)}function j(){var t=new Date,e=[D(t.getHours()),D(t.getMinutes()),D(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(A,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];o>n;a=r[++n])s+=g(a)||!w(a)?" "+a:" "+i(a);return s},e.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(E(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return o};var R,k={};e.debuglog=function(t){if(E(R)&&(R=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!k[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var n=r.pid;k[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else k[t]=function(){};return k[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=m,e.isNull=g,e.isNullOrUndefined=v,e.isNumber=y,e.isString=_,e.isSymbol=b,e.isUndefined=E,e.isRegExp=x,e.isObject=w,e.isDate=S,e.isError=C,e.isFunction=N,e.isPrimitive=O,e.isBuffer=n(516);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=n(515),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(1))},function(t,e,n){(function(e){"use strict";var r=n(23),i=r;"production"!==e.env.NODE_ENV&&(i=function(t,e){for(var n=[],r=2,i=arguments.length;i>r;r++)n.push(arguments[r]);if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!t){var o=0,s="Warning: "+e.replace(/%s/g,function(){return n[o++]});console.warn(s);try{throw new Error(s)}catch(a){}}}),t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function s(t){return null==t?!1:m.call(t)==c?g.test(h.call(t)):i(t)&&l.test(t)}function a(t){return t=r(t),t&&f.test(t)?t.replace(p,"\\$&"):t}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,p=/[.*+?^${}()|[\]\/\\]/g,f=RegExp(p.source),d=Object.prototype,h=Function.prototype.toString,m=d.toString,g=RegExp("^"+a(m).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=s(v=Array.isArray)&&v,y=Math.pow(2,53)-1,_=v||function(t){return i(t)&&o(t.length)&&m.call(t)==u};t.exports=_},function(t,e,n){"use strict";var r=n(46),i=r({bubbled:null,captured:null}),o=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),s={topLevelTypes:o,PropagationPhases:i};t.exports=s},function(t,e,n){(function(e){"use strict";function r(t,n,r){for(var i in n)n.hasOwnProperty(i)&&("production"!==e.env.NODE_ENV?C("function"==typeof n[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",_[r],i):null)}function i(t,n){var r=D.hasOwnProperty(n)?D[n]:null;A.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?x(r===O.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):x(r===O.OVERRIDE_BASE)),t.hasOwnProperty(n)&&("production"!==e.env.NODE_ENV?x(r===O.DEFINE_MANY||r===O.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):x(r===O.DEFINE_MANY||r===O.DEFINE_MANY_MERGED))}function o(t,n){if(n){"production"!==e.env.NODE_ENV?x("function"!=typeof n,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):x("function"!=typeof n),"production"!==e.env.NODE_ENV?x(!h.isValidElement(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):x(!h.isValidElement(n));var r=t.prototype;n.hasOwnProperty(N)&&j.mixins(t,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==N){var s=n[o];if(i(r,o),j.hasOwnProperty(o))j[o](t,s);else{var a=D.hasOwnProperty(o),l=r.hasOwnProperty(o),p=s&&s.__reactDontBind,f="function"==typeof s,d=f&&!a&&!l&&!p;if(d)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[o]=s,r[o]=s;else if(l){var m=D[o];"production"!==e.env.NODE_ENV?x(a&&(m===O.DEFINE_MANY_MERGED||m===O.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,o):x(a&&(m===O.DEFINE_MANY_MERGED||m===O.DEFINE_MANY)),m===O.DEFINE_MANY_MERGED?r[o]=u(r[o],s):m===O.DEFINE_MANY&&(r[o]=c(r[o],s))}else r[o]=s,"production"!==e.env.NODE_ENV&&"function"==typeof s&&n.displayName&&(r[o].displayName=n.displayName+"_"+o)}}}}function s(t,n){if(n)for(var r in n){var i=n[r];if(n.hasOwnProperty(r)){var o=r in j;"production"!==e.env.NODE_ENV?x(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):x(!o);var s=r in t;"production"!==e.env.NODE_ENV?x(!s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):x(!s),t[r]=i}}}function a(t,n){"production"!==e.env.NODE_ENV?x(t&&n&&"object"==typeof t&&"object"==typeof n,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):x(t&&n&&"object"==typeof t&&"object"==typeof n);for(var r in n)n.hasOwnProperty(r)&&("production"!==e.env.NODE_ENV?x(void 0===t[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):x(void 0===t[r]),t[r]=n[r]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function c(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,n){var r=n.bind(t);if("production"!==e.env.NODE_ENV){r.__reactBoundContext=t,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var i=t.constructor.displayName,o=r.bind;r.bind=function(s){for(var a=[],u=1,c=arguments.length;c>u;u++)a.push(arguments[u]);if(s!==t&&null!==s)"production"!==e.env.NODE_ENV?C(!1,"bind(): React component methods may only be bound to the component instance. See %s",i):null;else if(!a.length)return"production"!==e.env.NODE_ENV?C(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",i):null,r;var l=o.apply(r,arguments);return l.__reactBoundContext=t,l.__reactBoundMethod=n,l.__reactBoundArguments=a,l}}return r}function p(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=l(t,m.guard(n,t.constructor.displayName+"."+e))}}var f=n(111),d=n(20),h=n(5),m=n(204),g=n(35),v=n(81),y=n(82),_=n(56),b=n(83),E=n(4),x=n(3),w=n(46),S=n(24),C=n(7),N=S({mixins:null}),O=w({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),T=[],D={mixins:O.DEFINE_MANY,statics:O.DEFINE_MANY,propTypes:O.DEFINE_MANY,contextTypes:O.DEFINE_MANY,childContextTypes:O.DEFINE_MANY,getDefaultProps:O.DEFINE_MANY_MERGED,getInitialState:O.DEFINE_MANY_MERGED,getChildContext:O.DEFINE_MANY_MERGED,render:O.DEFINE_ONCE,componentWillMount:O.DEFINE_MANY,componentDidMount:O.DEFINE_MANY,componentWillReceiveProps:O.DEFINE_MANY,shouldComponentUpdate:O.DEFINE_ONCE,componentWillUpdate:O.DEFINE_MANY,componentDidUpdate:O.DEFINE_MANY,componentWillUnmount:O.DEFINE_MANY,updateComponent:O.OVERRIDE_BASE},j={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,y.childContext),t.childContextTypes=E({},t.childContextTypes,n)},contextTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,y.context),t.contextTypes=E({},t.contextTypes,n)},getDefaultProps:function(t,e){t.getDefaultProps=t.getDefaultProps?u(t.getDefaultProps,e):e},propTypes:function(t,n){"production"!==e.env.NODE_ENV&&r(t,n,y.prop),t.propTypes=E({},t.propTypes,n)},statics:function(t,e){s(t,e)}},I={enumerable:!1,get:function(){var t=this.displayName||this.name||"Component";return"production"!==e.env.NODE_ENV?C(!1,"%s.type is deprecated. Use %s directly to access the class.",t,t):null,Object.defineProperty(this,"type",{value:this}),this}},A={replaceState:function(t,e){b.enqueueReplaceState(this,t),e&&b.enqueueCallback(this,e)},isMounted:function(){if("production"!==e.env.NODE_ENV){var t=d.current;null!==t&&("production"!==e.env.NODE_ENV?C(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"):null,t._warnedAboutRefsInRender=!0)}var n=g.get(this);return n&&n!==v.currentlyMountingInstance},setProps:function(t,e){b.enqueueSetProps(this,t),e&&b.enqueueCallback(this,e)},replaceProps:function(t,e){b.enqueueReplaceProps(this,t),e&&b.enqueueCallback(this,e)}},R=function(){};E(R.prototype,f.prototype,A);var k={createClass:function(t){var n=function(t,r){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?C(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: http://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&p(this),this.props=t,this.context=r,this.state=null;var i=this.getInitialState?this.getInitialState():null;"production"!==e.env.NODE_ENV&&"undefined"==typeof i&&this.getInitialState._isMockFunction&&(i=null),"production"!==e.env.NODE_ENV?x("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"):x("object"==typeof i&&!Array.isArray(i)),this.state=i};n.prototype=new R,n.prototype.constructor=n,T.forEach(o.bind(null,n)),o(n,t),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==e.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),"production"!==e.env.NODE_ENV?x(n.prototype.render,"createClass(...): Class specification must implement a `render` method."):x(n.prototype.render),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?C(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component"):null);for(var r in D)n.prototype[r]||(n.prototype[r]=null);if(n.type=n,"production"!==e.env.NODE_ENV)try{Object.defineProperty(n,"type",I)}catch(i){}return n;

},injection:{injectMixin:function(t){T.push(t)}}};t.exports=k}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e){return t?t+"@"+e:e}function i(t,e,n){return n?r(t,e)+"/"+n:r(t,e)}var o=n(498);e.prep=function(t){var n=t.local,s=t.domain,a=t.resource,u=n;return n&&(n=o.nodeprep(n),u=e.unescape(n)),a&&(a=o.resourceprep(a)),"."===s[s.length-1]&&(s=s.slice(0,s.length-1)),s=o.nameprep(s.split(".").map(o.toUnicode).join(".")),{prepped:t.prepped||o.available,local:n,domain:s,resource:a,bare:r(n,s),full:i(n,s,a),unescapedLocal:u,unescapedBare:r(u,s),unescapedFull:i(u,s,a)}},e.parse=function(t,n){var r="",i="",o="";n=/^[\x00-\x7F]*$/.test(t);var s=t.indexOf("/");s>0&&(o=t.slice(s+1),t=t.slice(0,s));var a=t.indexOf("@");a>0&&(r=t.slice(0,a),t=t.slice(a+1)),i=t;var u=e.prep({local:r,domain:i,resource:o});return u.prepped=u.prepped||n,u},e.equal=function(t,n,r){return t=new e.JID(t),n=new e.JID(n),2===arguments.length&&(r=!0),t.local===n.local&&t.domain===n.domain&&t.resource===n.resource&&(r?t.prepped&&n.prepped:!0)},e.equalBare=function(t,n,r){return t=new e.JID(t),n=new e.JID(n),2===arguments.length&&(r=!0),t.local===n.local&&t.domain===n.domain&&(r?t.prepped&&n.prepped:!0)},e.escape=function(t){return t.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},e.unescape=function(t){return t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},e.create=function(t,n,r){return new e.JID(t,n,r)},e.JID=function(t,n,r){var i={};if(!t||n||r)i=n?e.prep({local:e.escape(t),domain:n,resource:r}):{};else if("string"==typeof t)i=e.parse(t);else{if(!(t._isJID||t instanceof e.JID))throw new Error("Invalid argument type");i=t}this._isJID=!0,this.local=i.local||"",this.domain=i.domain||"",this.resource=i.resource||"",this.bare=i.bare||"",this.full=i.full||"",this.unescapedLocal=i.unescapedLocal||"",this.unescapedBare=i.unescapedBare||"",this.unescapedFull=i.unescapedFull||"",this.prepped=i.prepped},e.JID.prototype.toString=function(){return this.full},e.JID.prototype.toJSON=function(){return this.full}},function(t,e,n){(function(e){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;n>r;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function i(t){var e=I(t);return e&&G.getID(e)}function o(t){var n=s(t);if(n)if(B.hasOwnProperty(n)){var r=B[n];r!==t&&("production"!==e.env.NODE_ENV?R(!l(r,n),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",F,n):R(!l(r,n)),B[n]=t)}else B[n]=t;return n}function s(t){return t&&t.getAttribute&&t.getAttribute(F)||""}function a(t,e){var n=s(t);n!==e&&delete B[n],t.setAttribute(F,e),B[e]=t}function u(t){return B.hasOwnProperty(t)&&l(B[t],t)||(B[t]=G.findReactNodeByID(t)),B[t]}function c(t){var e=w.get(t)._rootNodeID;return E.isNullComponentID(e)?null:(B.hasOwnProperty(e)&&l(B[e],e)||(B[e]=G.findReactNodeByID(e)),B[e])}function l(t,n){if(t){"production"!==e.env.NODE_ENV?R(s(t)===n,"ReactMount: Unexpected modification of `%s`",F):R(s(t)===n);var r=G.findReactContainerForID(n);if(r&&j(r,t))return!0}return!1}function p(t){delete B[t]}function f(t){var e=B[t];return e&&l(e,t)?void(J=e):!1}function d(t){J=null,x.traverseAncestors(t,f);var e=J;return J=null,e}function h(t,e,n,r,i){var o=N.mountComponent(t,e,r,D);t._isTopLevel=!0,G._mountImageIntoNode(o,n,i)}function m(t,e,n,r){var i=T.ReactReconcileTransaction.getPooled();i.perform(h,null,t,e,n,i,r),T.ReactReconcileTransaction.release(i)}var g=n(26),v=n(33),y=n(20),_=n(5),b=n(44),E=n(80),x=n(34),w=n(35),S=n(115),C=n(22),N=n(36),O=n(83),T=n(14),D=n(59),j=n(121),I=n(236),A=n(89),R=n(3),k=n(91),P=n(92),M=n(7),L=x.SEPARATOR,F=g.ID_ATTRIBUTE_NAME,B={},U=1,V=9,q={},z={};if("production"!==e.env.NODE_ENV)var H={};var W=[],J=null,G={_instancesByReactRootID:q,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,n,r,o){return"production"!==e.env.NODE_ENV&&b.checkAndWarnForMutatedProps(n),G.scrollMonitor(r,function(){O.enqueueElementInternal(t,n),o&&O.enqueueCallbackInternal(t,o)}),"production"!==e.env.NODE_ENV&&(H[i(r)]=I(r)),t},_registerComponent:function(t,n){"production"!==e.env.NODE_ENV?R(n&&(n.nodeType===U||n.nodeType===V),"_registerComponent(...): Target container is not a DOM element."):R(n&&(n.nodeType===U||n.nodeType===V)),v.ensureScrollValueMonitoring();var r=G.registerContainer(n);return q[r]=t,r},_renderNewRootComponent:function(t,n,r){"production"!==e.env.NODE_ENV?M(null==y.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var i=A(t,null),o=G._registerComponent(i,n);return T.batchedUpdates(m,i,o,n,r),"production"!==e.env.NODE_ENV&&(H[o]=I(n)),i},render:function(t,n,r){"production"!==e.env.NODE_ENV?R(_.isValidElement(t),"React.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""):R(_.isValidElement(t));var o=q[i(n)];if(o){var s=o._currentElement;if(P(s,t))return G._updateRootComponent(o,t,n,r).getPublicInstance();G.unmountComponentAtNode(n)}var a=I(n),u=a&&G.isRenderedByReact(a);if("production"!==e.env.NODE_ENV&&(!u||a.nextSibling))for(var c=a;c;){if(G.isRenderedByReact(c)){"production"!==e.env.NODE_ENV?M(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}c=c.nextSibling}var l=u&&!o,p=G._renderNewRootComponent(t,n,l).getPublicInstance();return r&&r.call(p),p},constructAndRenderComponent:function(t,e,n){var r=_.createElement(t,e);return G.render(r,n)},constructAndRenderComponentByID:function(t,n,r){var i=document.getElementById(r);return"production"!==e.env.NODE_ENV?R(i,'Tried to get element with id of "%s" but it is not present on the page.',r):R(i),G.constructAndRenderComponent(t,n,i)},registerContainer:function(t){var e=i(t);return e&&(e=x.getReactRootIDFromNodeID(e)),e||(e=x.createReactRootID()),z[e]=t,e},unmountComponentAtNode:function(t){"production"!==e.env.NODE_ENV?M(null==y.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==e.env.NODE_ENV?R(t&&(t.nodeType===U||t.nodeType===V),"unmountComponentAtNode(...): Target container is not a DOM element."):R(t&&(t.nodeType===U||t.nodeType===V));var n=i(t),r=q[n];return r?(G.unmountComponentFromNode(r,t),delete q[n],delete z[n],"production"!==e.env.NODE_ENV&&delete H[n],!0):!1},unmountComponentFromNode:function(t,e){for(N.unmountComponent(t),e.nodeType===V&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var n=x.getReactRootIDFromNodeID(t),r=z[n];if("production"!==e.env.NODE_ENV){var i=H[n];if(i&&i.parentNode!==r){"production"!==e.env.NODE_ENV?R(s(i)===n,"ReactMount: Root element ID differed from reactRootID."):R(s(i)===n);var o=r.firstChild;o&&n===s(o)?H[n]=o:"production"!==e.env.NODE_ENV?M(!1,"ReactMount: Root element has been removed from its original container. New container:",i.parentNode):null}}return r},findReactNodeByID:function(t){var e=G.findReactContainerForID(t);return G.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=G.getID(t);return e?e.charAt(0)===L:!1},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(G.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,n){var r=W,i=0,o=d(n)||t;for(r[0]=o.firstChild,r.length=1;i<r.length;){for(var s,a=r[i++];a;){var u=G.getID(a);u?n===u?s=a:x.isAncestorIDOf(u,n)&&(r.length=i=0,r.push(a.firstChild)):r.push(a.firstChild),a=a.nextSibling}if(s)return r.length=0,s}r.length=0,"production"!==e.env.NODE_ENV?R(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",n,G.getID(t)):R(!1)},_mountImageIntoNode:function(t,n,i){if("production"!==e.env.NODE_ENV?R(n&&(n.nodeType===U||n.nodeType===V),"mountComponentIntoNode(...): Target container is not valid."):R(n&&(n.nodeType===U||n.nodeType===V)),i){var o=I(n);if(S.canReuseMarkup(t,o))return;var s=o.getAttribute(S.CHECKSUM_ATTR_NAME);o.removeAttribute(S.CHECKSUM_ATTR_NAME);var a=o.outerHTML;o.setAttribute(S.CHECKSUM_ATTR_NAME,s);var u=r(t,a),c=" (client) "+t.substring(u-20,u+20)+"\n (server) "+a.substring(u-20,u+20);"production"!==e.env.NODE_ENV?R(n.nodeType!==V,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",c):R(n.nodeType!==V),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?M(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",c):null)}"production"!==e.env.NODE_ENV?R(n.nodeType!==V,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):R(n.nodeType!==V),k(n,t)},getReactRootID:i,getID:o,setID:a,getNode:u,getNodeFromInstance:c,purgeID:p};C.measureMethods(G,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=G}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){"production"!==e.env.NODE_ENV?v(T.ReactReconcileTransaction&&x,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):v(T.ReactReconcileTransaction&&x)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled()}function o(t,e,n,i,o){r(),x.batchedUpdates(t,e,n,i,o)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var n=t.dirtyComponentsLength;"production"!==e.env.NODE_ENV?v(n===_.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,_.length):v(n===_.length),_.sort(s);for(var r=0;n>r;r++){var i=_[r],o=i._pendingCallbacks;if(i._pendingCallbacks=null,h.performUpdateIfNecessary(i,t.reconcileTransaction),o)for(var a=0;a<o.length;a++)t.callbackQueue.enqueue(o[a],i.getPublicInstance())}}function u(t){return r(),"production"!==e.env.NODE_ENV?y(null==f.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,x.isBatchingUpdates?void _.push(t):void x.batchedUpdates(u,t)}function c(t,n){"production"!==e.env.NODE_ENV?v(x.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):v(x.isBatchingUpdates),b.enqueue(t,n),E=!0}var l=n(72),p=n(18),f=n(20),d=n(22),h=n(36),m=n(58),g=n(4),v=n(3),y=n(7),_=[],b=l.getPooled(),E=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=_.length},close:function(){this.dirtyComponentsLength!==_.length?(_.splice(0,this.dirtyComponentsLength),N()):_.length=0}},S={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[w,S];g(i.prototype,m.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(i);var N=function(){for(;_.length||E;){if(_.length){var t=i.getPooled();t.perform(a,null,t),i.release(t)}if(E){E=!1;var e=b;b=l.getPooled(),e.notifyAll(),l.release(e)}}};N=d.measure("ReactUpdates","flushBatchedUpdates",N);var O={injectReconcileTransaction:function(t){"production"!==e.env.NODE_ENV?v(t,"ReactUpdates: must provide a reconcile transaction class"):v(t),T.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){"production"!==e.env.NODE_ENV?v(t,"ReactUpdates: must provide a batching strategy"):v(t),"production"!==e.env.NODE_ENV?v("function"==typeof t.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):v("function"==typeof t.batchedUpdates),"production"!==e.env.NODE_ENV?v("boolean"==typeof t.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):v("boolean"==typeof t.isBatchingUpdates),x=t}},T={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:N,injection:O,asap:c};t.exports=T}).call(e,n(1))},function(t,e,n){function r(){this.callbacks={}}t.exports=r,r.prototype.on=function(t,e,n){var r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return o._groupName=i,(this.callbacks[t]=this.callbacks[t]||[]).push(o),this},r.prototype.once=function(t,e,n){function r(){i.off(t,r),a.apply(this,arguments)}var i=this,o=3===arguments.length,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return this.on(t,s,r),this},r.prototype.releaseGroup=function(t){var e,n,r,i;for(e in this.callbacks)for(i=this.callbacks[e],n=0,r=i.length;r>n;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},r.prototype.off=function(t,e){var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),0===r.length&&delete this.callbacks[t],this):this},r.prototype.emit=function(t){var e,n,r,i=[].slice.call(arguments,1),o=this.callbacks[t],s=this.getWildcardCallbacks(t);if(o)for(r=o.slice(),e=0,n=r.length;n>e&&r[e];++e)r[e].apply(this,i);if(s)for(n=s.length,r=s.slice(),e=0,n=r.length;n>e&&r[e];++e)r[e].apply(this,[t].concat(i));return this},r.prototype.getWildcardCallbacks=function(t){var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[e]));return r}},function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(16).EventEmitter,o=n(514);o(r,i),r.Readable=n(511),r.Writable=n(513),r.Duplex=n(508),r.Transform=n(512),r.PassThrough=n(510),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),t.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),t.on("error",a),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e,n){(function(e){"use strict";var r=n(3),i=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},s=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},a=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,t,e,n,r,i),s}return new o(t,e,n,r,i)},u=function(t){var n=this;"production"!==e.env.NODE_ENV?r(t instanceof n,"Trying to release an instance into a pool of a different type."):r(t instanceof n),t.destructor&&t.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(t)},c=10,l=i,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||l,n.poolSize||(n.poolSize=c),n.release=u,n},f={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:s,fiveArgumentPooler:a};t.exports=f}).call(e,n(1))},function(t,e,n){"use strict";var r=n(122),i={getDOMNode:function(){return r(this)}};t.exports=i},function(t,e,n){"use strict";var r={current:null};t.exports=r},function(t,e,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(e){"use strict";function n(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:n,measureMethods:function(t,n,i){if("production"!==e.env.NODE_ENV)for(var o in i)i.hasOwnProperty(o)&&(t[o]=r.measure(n,i[o],t[o]))},measure:function(t,n,i){if("production"!==e.env.NODE_ENV){var o=null,s=function(){return r.enableMeasure?(o||(o=r.storedMeasure(t,n,i)),o.apply(this,arguments)):i.apply(this,arguments)};return s.displayName=t+"_"+n,s}return i},injection:{injectMeasure:function(t){r.storedMeasure=t}}};t.exports=r}).call(e,n(1))},function(t,e,n){function r(t){return function(){return t}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){var r=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=r},function(t,e,n){function r(t,e){return function(n,r,i){return"function"==typeof r&&"undefined"==typeof i&&a(n)?t(n,r):e(n,s(r,i,3))}}var i=n(451),o=n(452),s=n(456),a=n(9),u=r(i,o);t.exports=u},function(t,e,n){(function(e){"use strict";function r(t,e){return(t&e)===e}var i=n(3),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var n=t.Properties||{},s=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var l in n){"production"!==e.env.NODE_ENV?i(!a.isStandardName.hasOwnProperty(l),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",l):i(!a.isStandardName.hasOwnProperty(l)),a.isStandardName[l]=!0;var p=l.toLowerCase();if(a.getPossibleStandardName[p]=l,s.hasOwnProperty(l)){var f=s[l];a.getPossibleStandardName[f]=l,a.getAttributeName[l]=f}else a.getAttributeName[l]=p;a.getPropertyName[l]=u.hasOwnProperty(l)?u[l]:l,a.getMutationMethod[l]=c.hasOwnProperty(l)?c[l]:null;var d=n[l];a.mustUseAttribute[l]=r(d,o.MUST_USE_ATTRIBUTE),a.mustUseProperty[l]=r(d,o.MUST_USE_PROPERTY),a.hasSideEffects[l]=r(d,o.HAS_SIDE_EFFECTS),a.hasBooleanValue[l]=r(d,o.HAS_BOOLEAN_VALUE),a.hasNumericValue[l]=r(d,o.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[l]=r(d,o.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[l]=r(d,o.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==e.env.NODE_ENV?i(!a.mustUseAttribute[l]||!a.mustUseProperty[l],"DOMProperty: Cannot require using both attribute and property: %s",l):i(!a.mustUseAttribute[l]||!a.mustUseProperty[l]),"production"!==e.env.NODE_ENV?i(a.mustUseProperty[l]||!a.hasSideEffects[l],"DOMProperty: Properties that have side effects must use property: %s",l):i(a.mustUseProperty[l]||!a.hasSideEffects[l]),"production"!==e.env.NODE_ENV?i(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",l):i(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1)}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,r=s[t];return r||(s[t]=r={}),e in r||(n=document.createElement(t),r[e]=n[e]),r[e]},injection:o};t.exports=a}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];this[i]=o?o(n):n[i]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=a?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var i=n(18),o=n(4),s=n(23),a=n(88),u={type:null,target:a,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=Object.create(n.prototype);o(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,i.addPoolingTo(t,i.threeArgumentPooler)},i.addPoolingTo(r,i.threeArgumentPooler),t.exports=r},function(t,e,n){t.exports=n(186)},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(e){function r(t){return this instanceof r?(u.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}function o(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}t.exports=r;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=n(49);a.inherits=n(50);var u=n(153),c=n(103);a.inherits(r,u),o(s(c.prototype),function(t){r.prototype[t]||(r.prototype[t]=c.prototype[t])})}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=d++,p[t[m]]={}),p[t[m]]}var i=n(10),o=n(42),s=n(110),a=n(205),u=n(120),c=n(4),l=n(90),p={},f=!1,d=0,h={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=r(n),a=s.registrationNameDependencies[t],u=i.topLevelTypes,c=0,p=a.length;p>c;c++){var f=a[c];o.hasOwnProperty(f)&&o[f]||(f===u.topWheel?l("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):l("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):f===u.topScroll?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):f===u.topFocus||f===u.topBlur?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):h.hasOwnProperty(f)&&g.ReactEventListener.trapBubbledEvent(f,h[f],n),o[f]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!f){var t=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),f=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});t.exports=g},function(t,e,n){(function(e){"use strict";function r(t){return d+t.toString(36)}function i(t,e){return t.charAt(e)===d||e===t.length}function o(t){return""===t||t.charAt(0)===d&&t.charAt(t.length-1)!==d}function s(t,e){return 0===e.indexOf(t)&&i(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(d)):"";

}function u(t,n){if("production"!==e.env.NODE_ENV?f(o(t)&&o(n),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,n):f(o(t)&&o(n)),"production"!==e.env.NODE_ENV?f(s(t,n),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,n):f(s(t,n)),t===n)return t;var r,a=t.length+h;for(r=a;r<n.length&&!i(n,r);r++);return n.substr(0,r)}function c(t,n){var r=Math.min(t.length,n.length);if(0===r)return"";for(var s=0,a=0;r>=a;a++)if(i(t,a)&&i(n,a))s=a;else if(t.charAt(a)!==n.charAt(a))break;var u=t.substr(0,s);return"production"!==e.env.NODE_ENV?f(o(u),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,n,u):f(o(u)),u}function l(t,n,r,i,o,c){t=t||"",n=n||"","production"!==e.env.NODE_ENV?f(t!==n,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):f(t!==n);var l=s(n,t);"production"!==e.env.NODE_ENV?f(l||s(t,n),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,n):f(l||s(t,n));for(var p=0,d=l?a:u,h=t;;h=d(h,n)){var g;if(o&&h===t||c&&h===n||(g=r(h,l,i)),g===!1||h===n)break;"production"!==e.env.NODE_ENV?f(p++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,n):f(p++<m)}}var p=n(119),f=n(3),d=".",h=d.length,m=100,g={createReactRootID:function(){return r(p.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===d&&t.length>1){var e=t.indexOf(d,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,r,i){var o=c(t,e);o!==t&&l(t,o,n,r,!1,!0),o!==e&&l(o,e,n,i,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(l("",t,e,n,!0,!1),l(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){l("",t,e,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:u,isAncestorIDOf:s,SEPARATOR:d};t.exports=g}).call(e,n(1))},function(t,e,n){"use strict";var r={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=r},function(t,e,n){(function(e){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(211),o=n(44),s={mountComponent:function(t,n,i,s){var a=t.mountComponent(n,i,s);return"production"!==e.env.NODE_ENV&&o.checkAndWarnForMutatedProps(t._currentElement),i.getReactMountReady().enqueue(r,t),a},unmountComponent:function(t){i.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,n,s,a){var u=t._currentElement;if(n!==u||null==n._owner){"production"!==e.env.NODE_ENV&&o.checkAndWarnForMutatedProps(n);var c=i.shouldUpdateRefs(u,n);c&&i.detachRefs(t,u),t.receiveComponent(n,s,a),c&&s.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=s}).call(e,n(1))},function(t,e,n){(function(e){function n(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}n.prototype.update=function(t,n){"string"==typeof t&&(n=n||"utf8",t=new e(t,n));for(var r=this._len+=t.length,i=this._s||0,o=0,s=this._block;r>i;){for(var a=Math.min(t.length,o+this._blockSize-i%this._blockSize),u=a-o,c=0;u>c;c++)s[i%this._blockSize+c]=t[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(s)}return this._s=i,this},n.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function n(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}n.prototype.update=function(t,n){"string"==typeof t&&(n=n||"utf8",t=new e(t,n));for(var r=this._len+=t.length,i=this._s||0,o=0,s=this._block;r>i;){for(var a=Math.min(t.length,o+this._blockSize-i%this._blockSize),u=a-o,c=0;u>c;c++)s[i%this._blockSize+c]=t[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(s)}return this._s=i,this},n.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n}).call(e,n(2).Buffer)},function(t,e,n){var r=n(434),i=n(439),o=i(r);t.exports=o},function(t,e,n){(function(e){function n(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}n.prototype.update=function(t,n){"string"==typeof t&&(n=n||"utf8",t=new e(t,n));for(var r=this._len+=t.length,i=this._s||0,o=0,s=this._block;r>i;){for(var a=Math.min(t.length,o+this._blockSize-i%this._blockSize),u=a-o,c=0;u>c;c++)s[i%this._blockSize+c]=t[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(s)}return this._s=i,this},n.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n}).call(e,n(2).Buffer)},function(t,e,n){(function(e){"use strict";function r(t,e){return null==e||i.hasBooleanValue[t]&&!e||i.hasNumericValue[t]&&isNaN(e)||i.hasPositiveNumericValue[t]&&1>e||i.hasOverloadedBooleanValue[t]&&e===!1}var i=n(26),o=n(246),s=n(7);if("production"!==e.env.NODE_ENV)var a={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},u={},c=function(t){if(!(a.hasOwnProperty(t)&&a[t]||u.hasOwnProperty(t)&&u[t])){u[t]=!0;var n=t.toLowerCase(),r=i.isCustomAttribute(n)?n:i.getPossibleStandardName.hasOwnProperty(n)?i.getPossibleStandardName[n]:null;"production"!==e.env.NODE_ENV?s(null==r,"Unknown DOM property %s. Did you mean %s?",t,r):null}};var l={createMarkupForID:function(t){return i.ID_ATTRIBUTE_NAME+"="+o(t)},createMarkupForProperty:function(t,n){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){if(r(t,n))return"";var s=i.getAttributeName[t];return i.hasBooleanValue[t]||i.hasOverloadedBooleanValue[t]&&n===!0?s:s+"="+o(n)}return i.isCustomAttribute(t)?null==n?"":t+"="+o(n):("production"!==e.env.NODE_ENV&&c(t),null)},setValueForProperty:function(t,n,o){if(i.isStandardName.hasOwnProperty(n)&&i.isStandardName[n]){var s=i.getMutationMethod[n];if(s)s(t,o);else if(r(n,o))this.deleteValueForProperty(t,n);else if(i.mustUseAttribute[n])t.setAttribute(i.getAttributeName[n],""+o);else{var a=i.getPropertyName[n];i.hasSideEffects[n]&&""+t[a]==""+o||(t[a]=o)}}else i.isCustomAttribute(n)?null==o?t.removeAttribute(n):t.setAttribute(n,""+o):"production"!==e.env.NODE_ENV&&c(n)},deleteValueForProperty:function(t,n){if(i.isStandardName.hasOwnProperty(n)&&i.isStandardName[n]){var r=i.getMutationMethod[n];if(r)r(t,void 0);else if(i.mustUseAttribute[n])t.removeAttribute(i.getAttributeName[n]);else{var o=i.getPropertyName[n],s=i.getDefaultValueForProperty(t.nodeName,o);i.hasSideEffects[n]&&""+t[o]===s||(t[o]=s)}}else i.isCustomAttribute(n)?t.removeAttribute(n):"production"!==e.env.NODE_ENV&&c(n)}};t.exports=l}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){var t=f&&f.traverseTwoPhase&&f.traverseEnterLeave;"production"!==e.env.NODE_ENV?u(t,"InstanceHandle not injected before use!"):u(t)}var i=n(110),o=n(73),s=n(84),a=n(85),u=n(3),c={},l=null,p=function(t){if(t){var e=o.executeDispatch,n=i.getPluginModuleForEvent(t);n&&n.executeDispatch&&(e=n.executeDispatch),o.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},f=null,d={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(t){f=t,"production"!==e.env.NODE_ENV&&r()},getInstanceHandle:function(){return"production"!==e.env.NODE_ENV&&r(),f},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(t,n,r){"production"!==e.env.NODE_ENV?u(!r||"function"==typeof r,"Expected %s listener to be a function, instead got type %s",n,typeof r):u(!r||"function"==typeof r);var i=c[n]||(c[n]={});i[t]=r},getListener:function(t,e){var n=c[e];return n&&n[t]},deleteListener:function(t,e){var n=c[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in c)delete c[e][t]},extractEvents:function(t,e,n,r){for(var o,a=i.plugins,u=0,c=a.length;c>u;u++){var l=a[u];if(l){var p=l.extractEvents(t,e,n,r);p&&(o=s(o,p))}}return o},enqueueEvents:function(t){t&&(l=s(l,t))},processEventQueue:function(){var t=l;l=null,a(t,p),"production"!==e.env.NODE_ENV?u(!l,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):u(!l)},__purge:function(){c={}},__getListenerBank:function(){return c}};t.exports=d}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return g(t,r)}function i(t,n,i){if("production"!==e.env.NODE_ENV&&!t)throw new Error("Dispatching id must not be null");var o=n?m.bubbled:m.captured,s=r(t,i,o);s&&(i._dispatchListeners=d(i._dispatchListeners,s),i._dispatchIDs=d(i._dispatchIDs,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,i,t)}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=g(t,r);i&&(n._dispatchListeners=d(n._dispatchListeners,i),n._dispatchIDs=d(n._dispatchIDs,t))}}function a(t){t&&t.dispatchConfig.registrationName&&s(t.dispatchMarker,null,t)}function u(t){h(t,o)}function c(t,e,n,r){f.injection.getInstanceHandle().traverseEnterLeave(n,r,s,t,e)}function l(t){h(t,a)}var p=n(10),f=n(42),d=n(84),h=n(85),m=p.PropagationPhases,g=f.getListener,v={accumulateTwoPhaseDispatches:u,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:c};t.exports=v}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){if(_.current){var t=_.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(t){var e=t&&t.getPublicInstance();if(!e)return void 0;var n=e.constructor;return n?n.displayName||n.name||void 0:void 0}function o(){var t=_.current;return t&&i(t)||void 0}function s(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,u('Each child in an array or iterator should have a unique "key" prop.',t,e))}function a(t,e,n){N.test(t)&&u("Child objects should have non-numeric keys so ordering is preserved.",e,n)}function u(t,n,r){var s=o(),a="string"==typeof r?r:r.displayName||r.name,u=s||a,c=S[t]||(S[t]={});if(!c.hasOwnProperty(u)){c[u]=!0;var l=s?" Check the render method of "+s+".":a?" Check the React.render call using <"+a+">.":"",p="";if(n&&n._owner&&n._owner!==_.current){var f=i(n._owner);p=" It was passed a child from "+f+"."}"production"!==e.env.NODE_ENV?w(!1,t+"%s%s See http://fb.me/react-warning-keys for more information.",l,p):null}}function c(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];m.isValidElement(r)&&s(r,e)}else if(m.isValidElement(t))t._store.validated=!0;else if(t){var i=E(t);if(i){if(i!==t.entries)for(var o,u=i.call(t);!(o=u.next()).done;)m.isValidElement(o.value)&&s(o.value,e)}else if("object"==typeof t){var c=g.extractIfFragment(t);for(var l in c)c.hasOwnProperty(l)&&a(l,c[l],e)}}}function l(t,n,i,o){for(var s in n)if(n.hasOwnProperty(s)){var a;try{"production"!==e.env.NODE_ENV?x("function"==typeof n[s],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",y[o],s):x("function"==typeof n[s]),a=n[s](i,s,t,o)}catch(u){a=u}if(a instanceof Error&&!(a.message in C)){C[a.message]=!0;var c=r(this);"production"!==e.env.NODE_ENV?w(!1,"Failed propType: %s%s",a.message,c):null}}}function p(t,n){var r=n.type,i="string"==typeof r?r:r.displayName,o=n._owner?n._owner.getPublicInstance().constructor.displayName:null,s=t+"|"+i+"|"+o;if(!O.hasOwnProperty(s)){O[s]=!0;var a="";i&&(a=" <"+i+" />");var u="";o&&(u=" The element was created by "+o+"."),"production"!==e.env.NODE_ENV?w(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element.%s",t,a,u):null}}function f(t,e){return t!==t?e!==e:0===t&&0===e?1/t===1/e:t===e}function d(t){if(t._store){var e=t._store.originalProps,n=t.props;for(var r in n)n.hasOwnProperty(r)&&(e.hasOwnProperty(r)&&f(e[r],n[r])||(p(r,t),e[r]=n[r]))}}function h(t){if(null!=t.type){var n=b.getComponentClassForElement(t),r=n.displayName||n.name;n.propTypes&&l(r,n.propTypes,t.props,v.prop),"function"==typeof n.getDefaultProps&&("production"!==e.env.NODE_ENV?w(n.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var m=n(5),g=n(54),v=n(82),y=n(56),_=n(20),b=n(55),E=n(125),x=n(3),w=n(7),S={},C={},N=/^\d+$/,O={},T={checkAndWarnForMutatedProps:d,createElement:function(t,n,r){"production"!==e.env.NODE_ENV?w(null!=t,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var i=m.createElement.apply(this,arguments);if(null==i)return i;for(var o=2;o<arguments.length;o++)c(arguments[o],t);return h(i),i},createFactory:function(t){var n=T.createElement.bind(null,t);if(n.type=t,"production"!==e.env.NODE_ENV)try{Object.defineProperty(n,"type",{enumerable:!1,get:function(){return"production"!==e.env.NODE_ENV?w(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:t}),t}})}catch(r){}return n},cloneElement:function(t,e,n){for(var r=m.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)c(arguments[i],r.type);return h(r),r}};t.exports=T}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(27),o=n(88),s={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(r,s),t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(3),i=function(t){var n,i={};"production"!==e.env.NODE_ENV?r(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object."):r(t instanceof Object&&!Array.isArray(t));for(n in t)t.hasOwnProperty(n)&&(i[n]=n);return i};t.exports=i}).call(e,n(1))},function(t,e,n){var r,i;(function(n,o){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function s(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(a,arguments)}}var a,u,c={};a=this,null!=a&&(u=a.async),c.noConflict=function(){return a.async=u,c};var l=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===l.call(t)},f=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},d=function(t,e){if(t.map)return t.map(e);var n=[];return f(t,function(t,r,i){n.push(e(t,r,i))}),n},h=function(t,e,n){return t.reduce?t.reduce(e,n):(f(t,function(t,r,i){n=e(n,t,r,i)}),n)},m=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof n&&n.nextTick?(c.nextTick=n.nextTick,c.setImmediate="undefined"!=typeof o?function(t){o(t)}:c.nextTick):"function"==typeof o?(c.nextTick=function(t){o(t)},c.setImmediate=c.nextTick):(c.nextTick=function(t){setTimeout(t,0)},c.setImmediate=c.nextTick),c.each=function(t,e,n){function r(e){e?(n(e),n=function(){}):(i+=1,i>=t.length&&n())}if(n=n||function(){},!t.length)return n();var i=0;f(t,function(t){e(t,s(r))})},c.forEach=c.each,c.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n():i())})};i()},c.forEachSeries=c.eachSeries,c.eachLimit=function(t,e,n,r){var i=g(e);i.apply(null,[t,n,r])},c.forEachLimit=c.eachLimit;var g=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},v=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.each].concat(e))}},y=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[g(t)].concat(n))}},_=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.eachSeries].concat(e))}},b=function(t,e,n,r){if(e=d(e,function(t,e){return{index:e,value:t}}),r){var i=[];t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};c.map=v(b),c.mapSeries=_(b),c.mapLimit=function(t,e,n,r){return E(e)(t,n,r)};var E=function(t){return y(t,b)};c.reduce=function(t,e,n,r){c.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(t,e,n,r){var i=d(t,function(t){return t}).reverse();c.reduce(i,e,n,r)},c.foldr=c.reduceRight;var x=function(t,e,n,r){var i=[];e=d(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(t){r(d(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.filter=v(x),c.filterSeries=_(x),c.select=c.filter,c.selectSeries=c.filterSeries;var w=function(t,e,n,r){var i=[];e=d(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(t){r(d(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.reject=v(w),c.rejectSeries=_(w);var S=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(t){r()})};c.detect=v(S),c.detectSeries=_(S),c.some=function(t,e,n){c.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(t){n(!1)})},c.any=c.some,c.every=function(t,e,n){c.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(t){n(!0)})},c.all=c.every,c.sortBy=function(t,e,n){c.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,d(e.sort(r),function(t){return t.value}))})},c.auto=function(t,e){e=e||function(){};var n=m(t),r=n.length;if(!r)return e();var i={},o=[],s=function(t){o.unshift(t)},a=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},u=function(){r--,f(o.slice(0),function(t){t()})};s(function(){if(!r){var t=e;e=function(){},t(null,i)}}),f(n,function(n){var r=p(t[n])?t[n]:[t[n]],o=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var o={};f(m(i),function(t){o[t]=i[t]}),o[n]=r,e(t,o),e=function(){}}else i[n]=r,c.setImmediate(u)},l=r.slice(0,Math.abs(r.length-1))||[],d=function(){return h(l,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(d())r[r.length-1](o,i);else{var g=function(){d()&&(a(g),r[r.length-1](o,i))};s(g)}})},c.retry=function(t,e,n){var r=5,i=[];"function"==typeof t&&(n=e,e=t,t=r),t=parseInt(t,10)||r;var o=function(r,o){for(var s=function(t,e){return function(n){t(function(t,r){n(!t||e,{err:t,result:r})},o)}};t;)i.push(s(e,!(t-=1)));c.series(i,function(t,e){e=e[e.length-1],(r||n)(e.err,e.result)})};return n?o():o},c.waterfall=function(t,e){if(e=e||function(){},!p(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();i.push(o?r(o):e),c.setImmediate(function(){t.apply(null,i)})}}};r(c.iterator(t))()};var C=function(t,e,n){if(n=n||function(){},p(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(m(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};c.parallel=function(t,e){C({map:c.map,each:c.each},t,e)},c.parallelLimit=function(t,e,n){C({map:E(e),each:g(e)},t,n)},c.series=function(t,e){if(e=e||function(){},p(t))c.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};c.eachSeries(m(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},c.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},c.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var N=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};c.concat=v(N),c.concatSeries=_(N),c.whilst=function(t,e,n){t()?e(function(r){return r?n(r):void c.whilst(t,e,n)}):n()},c.doWhilst=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?c.doWhilst(t,e,n):n()})},c.until=function(t,e,n){t()?n():e(function(r){return r?n(r):void c.until(t,e,n)})},c.doUntil=function(t,e,n){t(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?n():c.doUntil(t,e,n)})},c.queue=function(t,e){function n(t,e,n,r){return t.started||(t.started=!0),p(e)||(e=[e]),0==e.length?c.setImmediate(function(){t.drain&&t.drain()}):void f(e,function(e){var i={data:e,callback:"function"==typeof r?r:null};n?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),c.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,i={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(i,t,!1,e)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(t,e){n(i,t,!0,e)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var e=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=function(){r-=1,e.callback&&e.callback.apply(e,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()},o=s(n);t(e.data,o)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){i.paused!==!0&&(i.paused=!0,i.process())},resume:function(){i.paused!==!1&&(i.paused=!1,i.process())}};return i},c.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;i>r;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,o){return t.started||(t.started=!0),p(e)||(e=[e]),0==e.length?c.setImmediate(function(){t.drain&&t.drain()}):void f(e,function(e){var s={data:e,priority:i,callback:"function"==typeof o?o:null};t.tasks.splice(r(t.tasks,s,n)+1,0,s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),c.setImmediate(t.process)})}var o=c.queue(t,e);return o.push=function(t,e,n){i(o,t,e,n)},delete o.unshift,o},c.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){p(t)||(t=[t]),f(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===e&&i.saturated()}),c.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof e?r.splice(0,e):r.splice(0,r.length),a=d(s,function(t){return t.data});i.empty&&i.empty(),n=!0,t(a,function(){n=!1;var t=arguments;f(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var O=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&f(n,function(e){console[t](e)}))}]))}};c.log=O("log"),c.dir=O("dir"),c.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),s=e.apply(null,i);s in n?c.nextTick(function(){o.apply(null,n[s])}):s in r?r[s].push(o):(r[s]=[o],t.apply(null,i.concat([function(){n[s]=arguments;var t=r[s];delete r[s];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},c.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},c.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return c.map(r,e,n)},c.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return c.mapSeries(r,e,n)},c.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();c.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};c.applyEach=v(T),c.applyEachSeries=_(T),c.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=c:(r=[],i=function(){return c}.apply(e,r),!(void 0!==i&&(t.exports=i)))}()}).call(e,n(1),n(70).setImmediate)},function(t,e,n){var r,i;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(r="moz",i=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(r="webkit",i=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var o=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,s=window.mozRTCIceCandidate||window.RTCIceCandidate,a=window.mozRTCSessionDescription||window.RTCSessionDescription,u=window.webkitMediaStream||window.MediaStream,c="https:"===window.location.protocol&&("webkit"===r&&i>=26||"moz"===r&&i>=33),l=window.AudioContext||window.webkitAudioContext,p=document.createElement("video"),f=p&&p.canPlayType&&"probably"===p.canPlayType('video/webm; codecs="vp8", vorbis'),d=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:r,browserVersion:i,support:!!o&&f&&!!d,supportRTCPeerConnection:!!o,supportVp8:f,supportGetUserMedia:!!d,supportDataChannel:!!(o&&o.prototype&&o.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!u||!u.prototype.removeTrack),supportScreenSharing:!!c,dataChannel:!!(o&&o.prototype&&o.prototype.createDataChannel),webAudio:!(!l||!l.prototype.createMediaStreamSource),mediaStream:!(!u||!u.prototype.removeTrack),screenSharing:!!c,AudioContext:l,PeerConnection:o,SessionDescription:a,IceCandidate:s,MediaStream:u,getUserMedia:d}},function(t,e,n){(function(t){function n(t){return Array.isArray(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return p(t)&&"[object RegExp]"===v(t)}function p(t){return"object"==typeof t&&null!==t}function f(t){return p(t)&&"[object Date]"===v(t)}function d(t){return p(t)&&("[object Error]"===v(t)||t instanceof Error)}function h(t){return"function"==typeof t}function m(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function g(e){return t.isBuffer(e)}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=s,e.isString=a,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=p,e.isDate=f,e.isError=d,e.isFunction=h,e.isPrimitive=m,e.isBuffer=g}).call(e,n(2).Buffer)},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var r=n(172);t.exports={ActionSources:r({VIEW:null,SERVER:null}),ActionTypes:r({SET_NICK:null,XMPP_DEBUG:null,GROUP_MESSAGE_SENT:null,GROUP_MESSAGE_RECEIVED:null,CONNECTED:null,MUC_INFO:null,ROOM_ROSTER_RECEIVED:null})}},function(t,e,n){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];t.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(var i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){"use strict";var r=n(123),i={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=i},function(t,e,n){(function(e){"use strict";var r=n(5),i=n(7);if("production"!==e.env.NODE_ENV){var o="_reactFragment",s="_reactDidWarn",a=!1;try{var u=function(){return 1};Object.defineProperty({},o,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:u}),a=!0}catch(c){}var l=function(t,n){Object.defineProperty(t,n,{enumerable:!0,get:function(){return"production"!==e.env.NODE_ENV?i(this[s],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[s]=!0,this[o][n]},set:function(t){"production"!==e.env.NODE_ENV?i(this[s],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[s]=!0,this[o][n]=t}})},p={},f=function(t){var e="";for(var n in t)e+=n+":"+typeof t[n]+",";var r=!!p[e];return p[e]=!0,r}}var d={create:function(t){if("production"!==e.env.NODE_ENV){if("object"!=typeof t||!t||Array.isArray(t))return"production"!==e.env.NODE_ENV?i(!1,"React.addons.createFragment only accepts a single object.",t):null,t;if(r.isValidElement(t))return"production"!==e.env.NODE_ENV?i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,t;if(a){var n={};Object.defineProperty(n,o,{enumerable:!1,value:t}),Object.defineProperty(n,s,{writable:!0,enumerable:!1,value:!1});for(var u in t)l(n,u);return Object.preventExtensions(n),n}}return t},extract:function(t){return"production"!==e.env.NODE_ENV&&a?t[o]?t[o]:("production"!==e.env.NODE_ENV?i(f(t),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,t):t},extractIfFragment:function(t){if("production"!==e.env.NODE_ENV&&a){if(t[o])return t[o];for(var n in t)if(t.hasOwnProperty(n)&&r.isValidElement(t[n]))return d.extract(t)}return t}};t.exports=d}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){if("function"==typeof t.type)return t.type;var e=t.type,n=p[e];return null==n&&(p[e]=n=c(e)),n}function i(t){return"production"!==e.env.NODE_ENV?u(l,"There is no registered component for the tag %s",t.type):u(l),new l(t.type,t.props)}function o(t){return new f(t)}function s(t){return t instanceof f}var a=n(4),u=n(3),c=null,l=null,p={},f=null,d={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){f=t},injectComponentClasses:function(t){a(p,t)},injectAutoWrapper:function(t){c=t}},h={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:s,injection:d};t.exports=h}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(45),o=n(120),s=n(87),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};i.augmentClass(r,a),t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(3),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,n,i,o,s,a,u,c){"production"!==e.env.NODE_ENV?r(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r(!this.isInTransaction());var l,p;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),p=t.call(n,i,o,s,a,u,c),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return p},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(t){"production"!==e.env.NODE_ENV?r(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):r(this.isInTransaction());for(var n=this.transactionWrappers,i=t;i<n.length;i++){var s,a=n[i],u=this.wrapperInitData[i];try{s=!0,u!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,u),s=!1}finally{if(s)try{this.closeAll(i+1)}catch(c){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};t.exports=o}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var n={};"production"!==e.env.NODE_ENV&&Object.freeze(n),t.exports=n}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return o[t]}function i(t){return(""+t).replace(s,r)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g;t.exports=i},function(t,e,n){(function(e,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2014 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:</p>
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,i,o;return function s(t,e,n){function r(o,a){if(!e[o]){if(!t[o]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return r(n?n:e)},l,l.exports,s,t,e,n)}return e[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l.isStatic?l(this.drainQueues):l}function o(t,e,n){var r=this._getDomain();void 0!==r&&(t=r.bind(t)),this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){var r=this._getDomain();void 0!==r&&(t=r.bind(t)),this._normalQueue.push(t,e,n),this._queueTick()}function a(t){var e=this._getDomain();if(void 0!==e){var n=e.bind(t._settlePromises);this._normalQueue.push(n,t,void 0)}else this._normalQueue._pushOne(t);this._queueTick()}var u;try{throw new Error}catch(c){u=c}var l=t("./schedule.js"),p=t("./queue.js"),f=t("./util.js");if(i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(t){setTimeout(t,0)})},i.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},i.prototype.throwLater=function(t,e){1===arguments.length&&(e=t,t=function(){throw e});var n=this._getDomain();if(void 0!==n&&(t=n.bind(t)),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(r){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},i.prototype._getDomain=function(){},f.isNode){var d=t("events"),h=function(){var t=e.domain;return null===t?void 0:t};if(d.usingDomains)i.prototype._getDomain=h;else{var m=Object.getOwnPropertyDescriptor(d,"usingDomains");if(m.configurable){var g=!1;Object.defineProperty(d,"usingDomains",{configurable:!1,enumerable:!0,get:function(){return g},set:function(t){!g&&t&&(g=!0,i.prototype._getDomain=h,f.toFastProperties(e),e.emit("domainsActivated"))}})}else e.on("domainsActivated",function(){i.prototype._getDomain=h})}}f.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):setTimeout(function(){t.call(e,n)},100)},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):setTimeout(function(){t.call(e,n)},0)},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):setTimeout(function(){t._settlePromises()},0)}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(t,e,n){var r=this._getDomain();void 0!==r&&(t=r.bind(t)),this._normalQueue.unshift(t,e,n),this._queueTick()},i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=new i,n.exports.firstLineError=u},{"./queue.js":28,"./schedule.js":31,"./util.js":38,events:39}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=function(t,e){this._reject(e)},i=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)},o=function(t,e){this._setBoundTo(t),this._isPending()&&this._resolveCallback(e.target)},s=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(r){var a=n(r),u=new t(e);u._propagateFrom(this,1);var c=this._target();if(a instanceof t){var l={promiseRejectionQueued:!1,promise:u,target:c,bindingPromise:a};c._then(e,i,u._progress,u,l),a._then(o,s,u._progress,u,l)}else u._setBoundTo(r),u._resolveCallback(c);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField},t.prototype._isBound=function(){return 131072===(131072&this._bitField)},t.bind=function(r,i){var o=n(r),s=new t(e);return o instanceof t?o._then(function(t){s._setBoundTo(t),s._resolveCallback(i)},s._reject,s._progress,s,null):(s._setBoundTo(r),s._resolveCallback(i)),s}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise.js")();o.noConflict=r,e.exports=o},{"./promise.js":23}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}{var s,a=t("./util.js"),u=a.canEvaluate;a.isIdentifier}e.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;e>i;++i)n[i-1]=arguments[i];return n.push(t),this._then(r,void 0,void 0,n,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./errors.js"),r=t("./async.js"),i=n.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,n=this;void 0!==(e=n._cancellationParent)&&e.isCancellable();)n=e;this._unsetCancellable(),n._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new i),r.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(r.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":2,"./errors.js":13}],7:[function(t,n,r){"use strict";n.exports=function(){function n(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);E(this,n),e>32&&this.uncycle()}function r(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function i(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function o(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function s(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i=m.test(r)||"    (No stack trace)"===r,o=i&&y(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function a(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||m.test(r))break}return n>0&&(e=e.slice(n)),e}function u(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+c(e)+">, no stack trace)"}function c(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function l(t){var e=t.match(_);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}var p,f=t("./async.js"),d=t("./util.js"),h=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,m=null,g=null,v=!1;d.inherits(n,Error),n.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;t-1>a?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=n.parseStackAndMessage(t),a=e.message,u=[e.stack],c=this;void 0!==c;)u.push(s(c.stack.split("\n"))),c=c._parent;o(u),i(u),d.notEnumerableProp(t,"stack",r(a,u)),d.notEnumerableProp(t,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?a(t):["    (No stack trace)"],{message:n,stack:s(e)}},n.formatAndLogError=function(t,e){if("undefined"!=typeof console){var n;if("object"==typeof t||"function"==typeof t){var r=t.stack;n=e+g(r,t)}else n=e+String(t);"function"==typeof p?p(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},n.unhandledRejection=function(t){n.formatAndLogError(t,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof E},n.fireRejectionEvent=function(t,e,r,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(r,i))}catch(s){f.throwLater(s)}var a=!1;try{a=x(t,r,i)}catch(s){a=!0,f.throwLater(s)}var u=!1;if(b)try{u=b(t.toLowerCase(),{reason:r,promise:i})}catch(s){u=!0,f.throwLater(s)}a||o||u||"unhandledRejection"!==t||n.formatAndLogError(r,"Unhandled rejection ")};var y=function(){return!1},_=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(t,e){if(n.isSupported()){for(var r,i,o=t.stack.split("\n"),s=e.stack.split("\n"),a=-1,u=-1,c=0;c<o.length;++c){var p=l(o[c]);if(p){r=p.fileName,a=p.line;break}}for(var c=0;c<s.length;++c){var p=l(s[c]);if(p){i=p.fileName,u=p.line;break}}0>a||0>u||!r||!i||r!==i||a>=u||(y=function(t){if(h.test(t))return!0;var e=l(t);return e&&e.fileName===r&&a<=e.line&&e.line<=u?!0:!1})}};var b,E=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():u(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,m=t,g=e;var n=Error.captureStackTrace;return y=function(t){return h.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,n(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,g=e,v=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i?(g=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?u(e):e.toString()},null):(m=t,g=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),x=function(){if(d.isNode)return function(t,n,r){return"rejectionHandled"===t?e.emit(t,r):e.emit(t,n,r)};var t=!1,n=!0;try{var r=new self.CustomEvent("test");t=r instanceof CustomEvent}catch(i){}if(!t)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(i){n=!1}n&&(b=function(e,n){var r;return t?r=new self.CustomEvent(e,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!1,!0,n)),r?!self.dispatchEvent(r):!1});var s={};return s.unhandledRejection="onunhandledRejection".toLowerCase(),s.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,n){var r=s[t],i=self[r];return i?("rejectionHandled"===t?i.call(self,n):i.call(self,e,n),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(p=function(t){console.warn(t)},d.isNode&&e.stderr.isTTY?p=function(t){e.stderr.write("[31m"+t+"[39m\n")}:d.isNode||"string"!=typeof(new Error).stack||(p=function(t){console.warn("%c"+t,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e,n){this._instances=t,this._callback=e,this._promise=n}function r(t,e){var n={},r=s(t).call(n,e);if(r===a)return r;var i=u(n);return i.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):r}var i=t("./util.js"),o=t("./errors.js"),s=i.tryCatch,a=i.errorObj,u=t("./es5.js").keys,c=o.TypeError;return n.prototype.doFilter=function(t){for(var n=this._callback,i=this._promise,o=i._boundTo,u=0,c=this._instances.length;c>u;++u){var l=this._instances[u],p=l===Error||null!=l&&l.prototype instanceof Error;if(p&&t instanceof l){var f=s(n).call(o,t);return f===a?(e.e=f.e,e):f}if("function"==typeof l&&!p){var d=r(l,t);if(d===a){t=a.e;break}if(d){var f=s(n).call(o,t);return f===a?(e.e=f.e,e):f}}}return e.e=t,e},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e,n){"use strict";e.exports=function(t,e,n){function r(){this._trace=new e(o())}function i(){return n()?new r:void 0}function o(){var t=s.length-1;return t>=0?s[t]:void 0}var s=[];return r.prototype._pushContext=function(){n()&&void 0!==this._trace&&s.push(this._trace)},r.prototype._popContext=function(){n()&&void 0!==this._trace&&s.pop()},t.prototype._peekContext=o,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,i}},{}],10:[function(t,n,r){"use strict";n.exports=function(n,r){var i,o,s=t("./async.js"),a=t("./errors.js").Warning,u=t("./util.js"),c=u.canAttachTrace,l=!1||u.isNode&&(!!e.env.BLUEBIRD_DEBUG||"development"===e.env.NODE_ENV);return l&&s.disableTrampolineIfNecessary(),n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){r.fireRejectionEvent("rejectionHandled",i,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return l&&(this._trace=new r(this._peekContext())),this},n.prototype._attachExtraTrace=function(t,e){if(l&&c(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=r.parseStackAndMessage(t);u.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),u.notEnumerableProp(t,"__stackCleaned__",!0)}}},n.prototype._warn=function(t){var e=new a(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else{var i=r.parseStackAndMessage(e);e.stack=i.message+"\n"+i.stack.join("\n")}r.formatAndLogError(e,"")},n.onPossiblyUnhandledRejection=function(t){o="function"==typeof t?t:void 0},n.onUnhandledRejectionHandled=function(t){i="function"==typeof t?t:void 0},n.longStackTraces=function(){if(s.haveItemsQueued()&&l===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");l=r.isSupported(),l&&s.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return l&&r.isSupported()},r.isSupported()||(n.longStackTraces=function(){},l=!1),function(){return l}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e,n){"use strict";var r=t("./util.js"),i=r.isPrimitive,o=r.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},n=function(){throw this},r=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return o&&i(t)?this._then(r(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return o&&i(t)?this._then(r(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce;t.prototype.each=function(t){return n(this,t,null,e)},t.each=function(t,r){return n(t,r,null,e)}}},{}],13:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(p(this,"message","string"==typeof r?r:e),p(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(p(this,"name","OperationalError"),p(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(p(this,"message",t.message),p(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5.js"),u=a.freeze,c=t("./util.js"),l=c.inherits,p=c.notEnumerableProp,f=r("Warning","warning"),d=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),m=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(g){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(m.prototype[v[y]]=Array.prototype[v[y]]);a.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var _=0;m.prototype.toString=function(){var t=Array(4*_+1).join(" "),e="\n"+t+"AggregateError of:\n";_++,t=Array(4*_+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return _--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:d,TimeoutError:h,OperationalError:i,RejectionError:i,AggregateError:m}),p(Error,"__BluebirdErrorTypes__",b)),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5.js":14,"./util.js":38}],14:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},f=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:f,keys:a,names:a,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function u(t,e,n){var r;return r=f&&d(e)?n?s(e):a(e):n?i:o,t._then(r,h,void 0,e,void 0)}function c(t){var i=this.promise,o=this.handler,s=i._isBound()?o.call(i._boundTo):o();if(void 0!==s){var a=r(s,i);if(a instanceof e)return a=a._target(),u(a,t,i.isFulfilled())}return i.isRejected()?(n.e=t,n):t}function l(t){var n=this.promise,i=this.handler,o=n._isBound()?i.call(n._boundTo,t):i(t);if(void 0!==o){var s=r(o,n);if(s instanceof e)return s=s._target(),u(s,t,!0)}return t}var p=t("./util.js"),f=p.wrapsPrimitiveReceiver,d=p.isPrimitive,h=p.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?c:l,e?c:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=p(n[o])(t);if(r._popContext(),s===l){r._pushContext();var a=e.reject(l.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function s(t,n,i,o){var s=this._promise=new e(r);s._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f}var a=t("./errors.js"),u=a.TypeError,c=t("./util.js"),l=c.errorObj,p=c.tryCatch,f=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(t){if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var n=t.value;if(t.done===!0)this._promise._resolveCallback(n);else{var r=i(n,this._promise);if(!(r instanceof e)&&(r=o(r,this._yieldHandlers,this._promise),null===r))return void this._throw(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._next=function(t){this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(e).yieldHandler,r=s,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");f.push(t)},e.spawn=function(t){if("function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=new s(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors.js":13,"./util.js":38}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){{var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj}e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}for(var i=arguments.length,o=new Array(i),s=0;i>s;++s)o[s]=arguments[s];t&&o.pop();var r=new n(o).promise();return void 0!==t?r.spread(t):r}}},{"./util.js":38}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace(),this._callback=e,this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:h,c.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function u(t,e,n,r){var i="object"==typeof n&&null!==n?n.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new s(t,e,i,r)}var c=t("./async.js"),l=t("./util.js"),p=l.tryCatch,f=l.errorObj,d={},h=[];l.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(r[n]===d){if(r[n]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return r[n]=t,void this._queue.push(n);null!==s&&(s[n]=t);var u=this._callback,c=this._promise._boundTo;this._promise._pushContext();var l=p(u).call(c,t,n,o);if(this._promise._popContext(),l===f)return this._reject(l.e);var h=i(l,this._promise);if(h instanceof e){if(h=h._target(),h._isPending())return a>=1&&this._inFlight++,r[n]=d,h._proxyPromiseArray(this,n);if(!h._isFulfilled())return this._reject(h._reason());l=h._value()}r[n]=l}var m=++this._totalResolved;m>=o&&(null!==s?this._filter(r,s):this._resolve(r))},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(this,t,e,null).promise()},e.map=function(t,e,n,i){return"function"!=typeof e?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(t,e,n,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util.js"),s=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments);return r._popContext(),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t,r,a){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new e(n);u._captureStackTrace(),u._pushContext();var c=o.isArray(r)?s(t).apply(a,r):s(t).call(a,r);return u._popContext(),u._resolveFromSyncValue(c),u},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundTo,[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundTo,i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=n._target(),i=r._getCarriedStackTrace();i.cause=t,t=i}var o=a(e).call(n._boundTo,t);o===u&&s.throwLater(o.e)}var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util.js"),i=t("./async.js"),o=r.tryCatch,s=r.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var n=t.value,i=t.handler,a=t.promise,u=t.receiver,c=o(i).call(u,n);if(c===s){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var l=r.canAttachTrace(c.e)?c.e:new Error(r.toString(c.e));a._attachExtraTrace(l),a._progress(c.e)}}else c instanceof e?c._then(a._progress,null,null,a,void 0):a._progress(c)},e.prototype._progressUnchecked=function(t){for(var r=this._length(),o=this._progress,s=0;r>s;s++){var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof e)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:u,receiver:this._receiverAt(s),value:t}):i.invoke(o,u,t);else{var c=this._receiverAt(s);"function"==typeof a?a.call(c,t,u):c instanceof n&&!c._isResolved()&&c._promiseProgressed(t,u)}}}}},{"./async.js":2,"./util.js":38}],23:[function(t,e,n){"use strict";e.exports=function(){function e(t){if("function"!=typeof t)throw new c("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==e)throw new c("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==l&&this._resolveFromResolver(t)}function n(t){var n=new e(l);n._fulfillmentHandler0=t,n._rejectionHandler0=t,n._progressHandler0=t,n._promise0=t,n._receiver0=t,n._settledValue=t}var r=function(){return new c("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},i=function(){return new e.PromiseInspection(this._target())},o=function(t){return e.reject(new c(t))},s=t("./util.js"),a=t("./async.js"),u=t("./errors.js"),c=e.TypeError=u.TypeError;e.RangeError=u.RangeError,e.CancellationError=u.CancellationError,e.TimeoutError=u.TimeoutError,e.OperationalError=u.OperationalError,e.RejectionError=u.OperationalError,e.AggregateError=u.AggregateError;var l=function(){},p={},f={e:null},d=t("./thenables.js")(e,l),h=t("./promise_array.js")(e,l,d,o),m=t("./captured_trace.js")(),g=t("./debuggability.js")(e,m),v=t("./context.js")(e,m,g),y=t("./catch_filter.js")(f),_=t("./promise_resolver.js"),b=_._nodebackForPromise,E=s.errorObj,x=s.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype["catch"]=function(t){var n=arguments.length;if(n>1){var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var s=arguments[r];if("function"!=typeof s)return e.reject(new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[o++]=s}i.length=o,t=arguments[r];var a=new y(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},e.prototype.then=function(t,e,n){if(g()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+s.classString(t);arguments.length>1&&(r+=", "+s.classString(e)),this._warn(r)}return this._then(t,e,n,void 0,void 0)},e.prototype.done=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);

r._setIsFinal()},e.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,p,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},e.prototype.all=function(){return new h(this).promise()},e.prototype.error=function(t){return this.caught(s.originatesFromRejection,t)},e.is=function(t){return t instanceof e},e.fromNode=function(t){var n=new e(l),r=x(t)(b(n));return r===E&&n._rejectCallback(r.e,!0,!0),n},e.all=function(t){return new h(t).promise()},e.defer=e.pending=function(){var t=new e(l);return new _(t)},e.cast=function(t){var n=d(t);if(!(n instanceof e)){var r=n;n=new e(l),n._fulfillUnchecked(r)}return n},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var n=new e(l);return n._captureStackTrace(),n._rejectCallback(t,!0),n},e.setScheduler=function(t){if("function"!=typeof t)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=a._schedule;return a._schedule=t,e},e.prototype._then=function(t,n,r,i,o){var s=void 0!==o,u=s?o:new e(l);s||(u._propagateFrom(this,5),u._captureStackTrace());var c=this._target();c!==this&&(void 0===i&&(i=this._boundTo),s||u._setIsMigrated());var p=c._addCallbacks(t,n,r,u,i);return c._isResolved()&&!c._isSettlePromisesQueued()&&a.invoke(c._settlePromiseAtPostResolution,c,p),u},e.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},e.prototype._length=function(){return 131071&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=-131072&this._bitField|131071&t},e.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},e.prototype._setRejected=function(){this._bitField=134217728|this._bitField},e.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},e.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},e.prototype._isFinal=function(){return(33554432&this._bitField)>0},e.prototype._cancellable=function(){return(67108864&this._bitField)>0},e.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},e.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},e.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},e.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},e.prototype._isMigrated=function(){return(4194304&this._bitField)>0},e.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];return void 0===e&&this._isBound()?this._boundTo:e},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},e.prototype._migrateCallbacks=function(t,n){var r=t._fulfillmentHandlerAt(n),i=t._rejectionHandlerAt(n),o=t._progressHandlerAt(n),s=t._promiseAt(n),a=t._receiverAt(n);s instanceof e&&s._setIsMigrated(),this._addCallbacks(r,i,o,s,a)},e.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof n&&(this._progressHandler0=n);else{var s=5*o-5;this[s+3]=r,this[s+4]=i,"function"==typeof t&&(this[s+0]=t),"function"==typeof e&&(this[s+1]=e),"function"==typeof n&&(this[s+2]=n)}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var r=5*n-5;this[r+3]=e,this[r+4]=t}this._setLength(n+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._resolveCallback=function(t,n){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var i=d(t,this);if(!(i instanceof e))return this._fulfill(t);var o=1|(n?4:0);this._propagateFrom(i,o);var s=i._target();if(s._isPending()){for(var a=this._length(),u=0;a>u;++u)s._migrateCallbacks(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(s)}else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())}},e.prototype._rejectCallback=function(t,e,n){n||s.markAsOriginatingFromRejection(t);var r=s.ensureErrorObject(t),i=r===t;this._attachExtraTrace(r,e?i:!1),this._reject(t,i?void 0:r)},e.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=x(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,n),e=null)});n=!1,this._popContext(),void 0!==r&&r===E&&null!==e&&(e._rejectCallback(r.e,!0,!0),e=null)},e.prototype._settlePromiseFromHandler=function(t,e,n,i){if(!i._isRejected()){i._pushContext();var o;if(o=e!==p||this._isRejected()?x(t).call(e,n):x(t).apply(this._boundTo,n),i._popContext(),o===E||o===i||o===f){var s=o===i?r():o.e;i._rejectCallback(s,!1,!0)}else i._resolveCallback(o)}},e.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(t){this._rejectionHandler0=t},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var n=this._promiseAt(t),r=n instanceof e;if(r&&n._isMigrated())return n._unsetIsMigrated(),a.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,u=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?r?this._settlePromiseFromHandler(i,u,s,n):i.call(u,s,n):u instanceof h?u._isResolved()||(this._isFulfilled()?u._promiseFulfilled(s,n):u._promiseRejected(s,n)):r&&(this._isFulfilled()?n._fulfill(s):n._reject(s,o)),t>=4&&4===(31&t)&&a.invokeLater(this._setLength,this,0)},e.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},e.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},e.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},e.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},e.prototype._queueSettlePromises=function(){a.settlePromises(this),this._setSettlePromisesQueued()},e.prototype._fulfillUnchecked=function(t){if(t===this){var e=r();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},e.prototype._rejectUncheckedCheckError=function(t){var e=s.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?void a.throwLater(function(t){throw"stack"in t&&a.invokeFirst(m.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},e.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;t>e;e++)this._settlePromiseAt(e)},e._makeSelfResolutionError=r,t("./progress.js")(e,h),t("./method.js")(e,l,d,o),t("./bind.js")(e,l,d),t("./finally.js")(e,f,d),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,h,d,l),e.Promise=e,t("./map.js")(e,h,o,d,l),t("./cancel.js")(e),t("./using.js")(e,o,d,v),t("./generators.js")(e,o,l,d),t("./nodeify.js")(e),t("./call_get.js")(e),t("./props.js")(e,h,d,o),t("./race.js")(e,l,d,o),t("./reduce.js")(e,h,o,d,l),t("./settle.js")(e,h),t("./some.js")(e,h,o),t("./promisify.js")(e,l),t("./any.js")(e),t("./each.js")(e,l),t("./timers.js")(e,l),t("./filter.js")(e,l),s.toFastProperties(e),s.toFastProperties(e.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new e(l)),m.setBounds(a.firstLineError,s.lastLineError),e}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var r,i=this._promise=new e(n);t instanceof e&&(r=t,i._propagateFrom(r,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=t("./util.js"),u=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(t,n){var s=r(this._values,this._promise);if(s instanceof e){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(c,this._reject,void 0,this,n):void this._reject(s._reason());if(s=s._value(),!u(s)){var a=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!u(s))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(-5===n?this._resolveEmptyArray():this._resolve(o(n)));var l=this.getActualLength(s.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var p=this._promise,f=0;l>f;++f){var d=this._isResolved(),h=r(s[f],p);h instanceof e?(h=h._target(),d?h._unsetRejectionIsUnhandled():h._isPending()?h._proxyPromiseArray(this,f):h._isFulfilled()?this._promiseFulfilled(h._value(),f):this._promiseRejected(h._reason(),f)):d||this._promiseFulfilled(h,f)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t,e){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":38}],25:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&d.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new p(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=d.keys(t),i=0;i<n.length;++i){var o=n[i];h.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t){return function(e,n){if(null!==t){if(e){var r=i(u(e));t._attachExtraTrace(r),t._reject(r)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),a=1;o>a;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(n);t=null}}}var s,a=t("./util.js"),u=a.maybeWrapAsError,c=t("./errors.js"),l=c.TimeoutError,p=c.OperationalError,f=a.haveGetters,d=t("./es5.js"),h=/^(?:name|message|stack|cause)$/;if(s=f?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=o(t),this.callback=this.asCallback},f){var m={get:function(){return o(this.promise)}};d.defineProperty(s.prototype,"asCallback",m),d.defineProperty(s.prototype,"callback",m)}s._nodebackForPromise=o,s.prototype.toString=function(){return"[object PromiseResolver]"},s.prototype.resolve=s.prototype.fulfill=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},s.prototype.reject=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},s.prototype.progress=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},s.prototype.cancel=function(t){this.promise.cancel(t)},s.prototype.timeout=function(){this.reject(new l("timeout"))},s.prototype.isResolved=function(){return this.promise.isResolved()},s.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=s},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!E.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=d.getDataPropertyOrDefault(t,e+n,b);return r?i(r):!1}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}function a(t,e,n,r){for(var a=d.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],p=t[l],f=r===x?!0:x(l,p,t);"function"!=typeof p||i(p)||o(t,l,e)||!r(l,p,t,f)||u.push(l,p)}return s(u,e,n),u}function u(t,r,i,o){function s(){var i=r;r===f&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof u&&this!==a?this[u]:t,c=h(o);try{s.apply(i,m(arguments,c))}catch(l){o._rejectCallback(g(l),!0,!0)}return o}var a=function(){return this}(),u=t;return"string"==typeof u&&(t=o),s.__isPromisified__=!0,s}function c(t,e,n,r){for(var i=new RegExp(w(e)+"$"),o=a(t,e,i,n),s=0,u=o.length;u>s;s+=2){var c=o[s],l=o[s+1],p=c+e;t[p]=r===S?S(c,f,c,l,e):r(l,function(){return S(c,f,c,l,e)})}return d.toFastProperties(t),t}function l(t,e){return S(t,e,void 0,t)}var p,f={},d=t("./util.js"),h=t("./promise_resolver.js")._nodebackForPromise,m=d.withAppended,g=d.maybeWrapAsError,v=d.canEvaluate,y=t("./errors").TypeError,_="Async",b={__isPromisified__:!0},E=/^(?:length|name|arguments|caller|callee|prototype|__isPromisified__)$/,x=function(t,e){return d.isIdentifier(t)&&"_"!==t.charAt(0)&&!d.isClass(e)},w=function(t){return t.replace(/([$])/,"\\$")},S=v?p:u;e.promisify=function(t,e){if("function"!=typeof t)throw new y("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(t))return t;var n=l(t,arguments.length<2?f:e);return d.copyDescriptors(t,n,r),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");e=Object(e);var n=e.suffix;"string"!=typeof n&&(n=_);var r=e.filter;"function"!=typeof r&&(r=x);var i=e.promisifier;if("function"!=typeof i&&(i=S),!d.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=d.inheritedDataKeys(t),s=0;s<o.length;++s){var a=t[o[s]];"constructor"!==o[s]&&d.isClass(a)&&(c(a.prototype,n,r,i),c(a,n,r,i))}return c(t,n,r,i)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){for(var e=c.keys(t),n=e.length,r=new Array(2*n),i=0;n>i;++i){var o=e[i];r[i]=t[o],r[i+n]=o}this.constructor$(r)}function s(t){var n,s=r(t);return u(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,4),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=t("./util.js"),u=a.isObject,c=t("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}},o.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],29:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(!s(t))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(n);void 0!==o&&c._propagateFrom(o,5);for(var l=c._fulfill,p=c._reject,f=0,d=t.length;d>f;++f){var h=t[f];(void 0!==h||f in t)&&e.cast(h)._then(l,p,void 0,c,null)}return c}var s=t("./util.js").isArray,a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t,n,r,s){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var u=i(r,this._promise),l=!1,p=u instanceof e;p&&(u=u._target(),u._isPending()?u._proxyPromiseArray(this,-1):u._isFulfilled()?(r=u._value(),this._gotAccum=!0):(this._reject(u._reason()),l=!0)),p||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=r,l||c.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function u(t,e,n,i){if("function"!=typeof e)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(t,e,n,i);return o.promise()}var c=t("./async.js"),l=t("./util.js"),p=l.tryCatch,f=l.errorObj;l.inherits(s,n),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,n){var r=this._values;r[n]=t;var o,s=this.length(),a=this._preservedValues,u=null!==a,c=this._gotAccum,l=this._valuesPhase;if(!l)for(l=this._valuesPhase=new Array(s),o=0;s>o;++o)l[o]=0;if(o=l[n],0===n&&this._zerothIsAccum?(this._accum=t,this._gotAccum=c=!0,l[n]=0===o?1:2):-1===n?(this._accum=t,this._gotAccum=c=!0):0===o?l[n]=1:(l[n]=2,this._accum=t),c){for(var d,h=this._callback,m=this._promise._boundTo,g=this._reducingIndex;s>g;++g)if(o=l[g],2!==o){if(1!==o)return;if(t=r[g],this._promise._pushContext(),u?(a.push(t),d=p(h).call(m,t,g,s)):d=p(h).call(m,this._accum,t,g,s),this._promise._popContext(),d===f)return this._reject(d.e);var v=i(d,this._promise);if(v instanceof e){if(v=v._target(),v._isPending())return l[g]=4,v._proxyPromiseArray(this,g);if(!v._isFulfilled())return this._reject(v._reason());d=v._value()}this._reducingIndex=g+1,this._accum=d}else this._reducingIndex=g+1;this._resolve(u?a:this._accum)}},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,n,r){return u(t,e,n,r)}}},{"./async.js":2,"./util.js":38}],31:[function(t,i,o){"use strict";var s,a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(t("./util.js").isNode){var u=e.versions.node.split(".").map(Number);s=0===u[0]&&u[1]>10||u[0]>0?n.setImmediate:e.nextTick,s||(s="undefined"!=typeof r?r:"undefined"!=typeof setTimeout?setTimeout:a)}else"undefined"!=typeof MutationObserver?(s=function(t){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},s.isStatic=!0):s="undefined"!=typeof r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:a;i.exports=s},{"./util.js":38}],32:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){this.constructor$(t)}var i=e.PromiseInspection,o=t("./util.js");o.inherits(r,n),r.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},r.prototype._promiseFulfilled=function(t,e){var n=new i;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new i;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)},e.settle=function(t){return new r(t).promise()},e.prototype.settle=function(){return new r(this).promise()}}},{"./util.js":38}],33:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util.js"),a=t("./errors.js").RangeError,u=t("./errors.js").AggregateError,c=s.isArray;s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))},i.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new u,n=this.length();n<this._values.length;++n)e.push(this._values[n]);this._reject(e)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors.js":13,"./util.js":38}],34:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0===(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(c(t)){if(t instanceof e)return t;if(o(t)){var l=new e(n);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}var p=a.tryCatch(i)(t);if(p===u){r&&r._pushContext();var l=e.reject(p.e);return r&&r._popContext(),l}if("function"==typeof p)return s(t,p,r)}return t}function i(t){return t.then}function o(t){return l.call(t,"_promise0")}function s(t,r,i){function o(n){l&&(t===n?l._rejectCallback(e._makeSelfResolutionError(),!1,!0):l._resolveCallback(n),l=null)}function s(t){l&&(l._rejectCallback(t,f,!0),l=null)}function c(t){l&&"function"==typeof l._progress&&l._progress(t)}var l=new e(n),p=l;i&&i._pushContext(),l._captureStackTrace(),i&&i._popContext();var f=!0,d=a.tryCatch(r).call(t,o,s,c);return f=!1,l&&d===u&&(l._rejectCallback(d.e,!0,!0),l=null),p}var a=t("./util.js"),u=a.errorObj,c=a.isObject,l={}.hasOwnProperty;return r}},{"./util.js":38}],36:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function i(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),s=e.TimeoutError,a=function(t,e){if(t.isPending()){"string"!=typeof e&&(e="operation timed out");var n=new s(e);o.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._cancel(n)}},u=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,r){if(void 0===r){r=t,t=void 0;var i=new e(n);return setTimeout(function(){i._fulfill()},r),i}return r=+r,e.resolve(t)._then(u,null,null,r,void 0)};e.prototype.delay=function(t){return c(this,t)},e.prototype.timeout=function(t,e){t=+t;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,e)},t);return n._then(r,i,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){for(var n=t.length,r=0;n>r;++r){var i=t[r];if(i.isRejected())return e.reject(i.error());t[r]=i._settledValue}return t}function s(t){setTimeout(function(){throw t},0)}function a(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,n){function i(){if(o>=u)return c.resolve();var l=a(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),t.promise)}catch(p){return s(p)}if(l instanceof e)return l._then(i,s,null,null,null)}i()}var o=0,u=t.length,c=e.defer();return i(),c.promise}function c(t){var e=new g;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)}function l(t){var e=new g;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)}function p(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function d(t){return p.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}var h=t("./errors.js").TypeError,m=t("./util.js").inherits,g=e.PromiseInspection;p.prototype.data=function(){return this._data},p.prototype.promise=function(){return this._promise},p.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},p.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},p.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},m(f,p),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");t--;for(var s=new Array(t),a=0;t>a;++a){var u=arguments[a];if(p.isDisposer(u)){var f=u;u=u.promise(),u._setDisposable(f)}else{var h=r(u);h instanceof e&&(u=h._then(d,null,null,{resources:s,index:a},void 0))}s[a]=u}var m=e.settle(s).then(o).then(function(t){m._pushContext();var e;try{e=i.apply(void 0,t)}finally{m._popContext()}return e})._then(c,l,void 0,s,void 0);return s.promise=m,m},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){
if("function"==typeof t)return new f(t,this,i());throw new h}}},{"./errors.js":13,"./util.js":38}],38:[function(t,n,r){"use strict";function i(){try{return O.apply(this,arguments)}catch(t){return N.e=t,N}}function o(t){return O=t,i}function s(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function a(t){return!s(t)}function u(t){return s(t)?new Error(v(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!w.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(t,e,n){if(s(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return w.defineProperty(t,e,r),t}function f(t){throw t}function d(t){try{if("function"==typeof t){var e=w.names(t.prototype);return w.isES5?e.length>1:e.length>0&&!(1===e.length&&"constructor"===e[0])}return!1}catch(n){return!1}}function h(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function m(t){return I.test(t)}function g(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function v(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){try{p(t,"isOperational",!0)}catch(e){}}function _(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function b(t){return t instanceof Error&&w.propertyIsWritable(t,"stack")}function E(t){return{}.toString.call(t)}function x(t,e,n){for(var r=w.names(t),i=0;i<r.length;++i){var o=r[i];n(o)&&w.defineProperty(e,o,w.getDescriptor(t,o))}}var w=t("./es5.js"),S="undefined"==typeof navigator,C=function(){try{var t={};return w.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(e){return!1}}(),N={e:{}},O,T=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},D=function(){return"string"!==this}.call("string"),j=function(){if(w.isES5){var t=Object.prototype,e=Object.getOwnPropertyNames;return function(n){for(var r=[],i=Object.create(null);null!=n&&n!==t;){var o;try{o=e(n)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(n,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}n=w.getPrototypeOf(n)}return r}}return function(t){var e=[];for(var n in t)e.push(n);return e}}(),I=/^[a-z$_][a-z$_0-9]*$/i,A=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(v(t))}:function(t){if(b(t))return t;try{throw new Error(v(t))}catch(e){return e}}}(),R={isClass:d,isIdentifier:m,inheritedDataKeys:j,getDataPropertyOrDefault:l,thrower:f,isArray:w.isArray,haveGetters:C,notEnumerableProp:p,isPrimitive:s,isObject:a,canEvaluate:S,errorObj:N,tryCatch:o,inherits:T,withAppended:c,maybeWrapAsError:u,wrapsPrimitiveReceiver:D,toFastProperties:h,filledRange:g,toString:v,canAttachTrace:b,ensureErrorObject:A,originatesFromRejection:_,markAsOriginatingFromRejection:y,classString:E,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof e&&"[object process]"===E(e).toLowerCase()};try{throw new Error}catch(k){R.lastLineError=k}n.exports=R},{"./es5.js":14}],39:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(1),function(){return this}(),n(70).setImmediate)},function(t,e,n){function r(t,e){return t=+t,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function o(t){for(var e=a(t),n=e.length,o=n&&t.length,s=o&&i(o)&&(c(t)||g.nonEnumArgs&&u(t)),l=-1,p=[];++l<n;){var d=e[l];(s&&r(d,o)||f.call(t,d))&&p.push(d)}return p}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(c(t)||g.nonEnumArgs&&u(t))&&e||0;for(var n=t.constructor,o=-1,a="function"==typeof n&&n.prototype===t,l=Array(e),p=e>0;++o<e;)l[o]=o+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||l.push(d);return l}var u=n(402),c=n(9),l=n(403),p=Object.prototype,f=p.hasOwnProperty,d=p.propertyIsEnumerable,h=l(h=Object.keys)&&h,m=Math.pow(2,53)-1,g={};!function(t){try{g.nonEnumArgs=!d.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var v=h?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&i(n)?o(t):s(t)?h(t):[]}:o;t.exports=v},function(t,e,n){function r(t,e){return t=+t,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function o(t){for(var e=a(t),n=e.length,o=n&&t.length,s=o&&i(o)&&(c(t)||g.nonEnumArgs&&u(t)),l=-1,p=[];++l<n;){var d=e[l];(s&&r(d,o)||f.call(t,d))&&p.push(d)}return p}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(c(t)||g.nonEnumArgs&&u(t))&&e||0;for(var n=t.constructor,o=-1,a="function"==typeof n&&n.prototype===t,l=Array(e),p=e>0;++o<e;)l[o]=o+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||l.push(d);return l}var u=n(420),c=n(9),l=n(421),p=Object.prototype,f=p.hasOwnProperty,d=p.propertyIsEnumerable,h=l(h=Object.keys)&&h,m=Math.pow(2,53)-1,g={};!function(t){try{g.nonEnumArgs=!d.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var v=h?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&i(n)?o(t):s(t)?h(t):[]}:o;t.exports=v},function(t,e,n){"use strict";function r(t,e){o.call(this,t,e),this.nodeType=1,this.nodeName=this.localName}var i=n(6),o=n(65).Element;i.inherits(r,o),r.prototype._getElement=function(t,e){var n=new r(t,e);return n},Object.defineProperty(r.prototype,"localName",{get:function(){return this.getName()}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return this.getNS()}}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(r.prototype,"childNodes",{get:function(){return this.children}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.getText()},set:function(t){this.children.push(t)}}),r.prototype.getElementsByTagName=function(t){return this.getChildren(t)},r.prototype.getAttribute=function(t){return this.getAttr(t)},r.prototype.setAttribute=function(t,e){this.attr(t,e)},r.prototype.getAttributeNS=function(t,e){return"http://www.w3.org/XML/1998/namespace"===t?this.getAttr(["xml",e].join(":")):this.getAttr(e,t)},r.prototype.setAttributeNS=function(t,e,n){var r;if("http://www.w3.org/XML/1998/namespace"===t)r="xml";else{var i=this.getXmlns();r=i[t]||""}r&&this.attr([r,e].join(":"),n)},r.prototype.removeAttribute=function(t){this.attr(t,null)},r.prototype.removeAttributeNS=function(t,e){var n;if("http://www.w3.org/XML/1998/namespace"===t)n="xml";else{var r=this.getXmlns();n=r[t]||""}n&&this.attr([n,e].join(":"),null)},r.prototype.appendChild=function(t){this.cnode(t)},r.prototype.removeChild=function(t){this.remove(t)},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.name=t,this.parent=null,this.children=[],this.setAttrs(e)}function i(t){return t.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/"/g,"&apos;")}function o(t){return t.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}r.prototype.is=function(t,e){return this.getName()===t&&(!e||this.getNS()===e)},r.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},r.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var t=this.name.substr(0,this.name.indexOf(":"));return this.findNS(t)}return this.findNS()},r.prototype.findNS=function(t){if(t){var e="xmlns:"+t;if(this.attrs[e])return this.attrs[e];if(this.parent)return this.parent.findNS(t)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},r.prototype.getXmlns=function(){var t={};this.parent&&(t=this.parent.getXmlns());for(var e in this.attrs){var n=e.match("xmlns:?(.*)");this.attrs.hasOwnProperty(e)&&n&&(t[this.attrs[e]]=n[1])}return t},r.prototype.setAttrs=function(t){this.attrs={},"string"==typeof t?this.attrs.xmlns=t:t&&Object.keys(t).forEach(function(e){this.attrs[e]=t[e]},this)},r.prototype.getAttr=function(t,e){if(!e)return this.attrs[t];var n=this.getXmlns();return n[e]?this.attrs[[n[e],t].join(":")]:null},r.prototype.getChild=function(t,e){return this.getChildren(t,e)[0]},r.prototype.getChildren=function(t,e){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];!i.getName||i.getName()!==t||e&&i.getNS()!==e||n.push(i)}return n},r.prototype.getChildByAttr=function(t,e,n,r){return this.getChildrenByAttr(t,e,n,r)[0]},r.prototype.getChildrenByAttr=function(t,e,n,r){for(var i=[],o=0;o<this.children.length;o++){var s=this.children[o];!s.attrs||s.attrs[t]!==e||n&&s.getNS()!==n||i.push(s),r&&s.getChildrenByAttr&&i.push(s.getChildrenByAttr(t,e,n,!0))}return r&&(i=[].concat.apply([],i)),i},r.prototype.getChildrenByFilter=function(t,e){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];t(i)&&n.push(i),e&&i.getChildrenByFilter&&n.push(i.getChildrenByFilter(t,!0))}return e&&(n=[].concat.apply([],n)),n},r.prototype.getText=function(){for(var t="",e=0;e<this.children.length;e++){var n=this.children[e];("string"==typeof n||"number"==typeof n)&&(t+=n)}return t},r.prototype.getChildText=function(t,e){var n=this.getChild(t,e);return n?n.getText():null},r.prototype.getChildElements=function(){return this.getChildrenByFilter(function(t){return t instanceof r})},r.prototype.root=function(){return this.parent?this.parent.root():this},r.prototype.tree=r.prototype.root,r.prototype.up=function(){return this.parent?this.parent:this},r.prototype._getElement=function(t,e){var n=new r(t,e);return n},r.prototype.c=function(t,e){return this.cnode(this._getElement(t,e))},r.prototype.cnode=function(t){return this.children.push(t),"object"==typeof t&&(t.parent=this),t},r.prototype.t=function(t){return this.children.push(t),this},r.prototype.remove=function(t,e){var n;return n="string"==typeof t?function(n){return!(n.is&&n.is(t,e))}:function(e){return e!==t},this.children=this.children.filter(n),this},r.prototype.clone=function(){for(var t=this._getElement(this.name,this.attrs),e=0;e<this.children.length;e++){var n=this.children[e];t.cnode(n.clone?n.clone():n)}return t},r.prototype.text=function(t){return t&&1===this.children.length?(this.children[0]=t,this):this.getText()},r.prototype.attr=function(t,e){return"undefined"!=typeof e||null===e?(this.attrs||(this.attrs={}),this.attrs[t]=e,this):this.attrs[t]},r.prototype.toString=function(){var t="";return this.write(function(e){t+=e}),t},r.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(t){return t&&t.toJSON?t.toJSON():t})}},r.prototype._addChildren=function(t){t(">");for(var e=0;e<this.children.length;e++){var n=this.children[e];(n||0===n)&&(n.write?n.write(t):"string"==typeof n?t(o(n)):n.toString&&t(o(n.toString(10))))}t("</"),t(this.name),t(">")},r.prototype.write=function(t){t("<"),t(this.name);for(var e in this.attrs){var n=this.attrs[e];(n||""===n||0===n)&&(t(" "),t(e),t('="'),"string"!=typeof n&&(n=n.toString(10)),t(i(n)),t('"'))}0===this.children.length?t("/>"):this._addChildren(t)},e.Element=r,e.escapeXml=i},function(t,e,n){"use strict";var r=n(67);r.availableSaxParsers.push(r.bestSaxParser=n(99)),t.exports=n(98)},function(t,e,n){"use strict";var r=n(16),i=n(6),o=n(64);e.availableSaxParsers=[],e.bestSaxParser=null;var s=["./sax/sax_expat.js","./sax/sax_ltx.js","./sax/sax_saxjs.js"];s.forEach(function(t){var r;try{r=n(431)(t)}catch(i){}r&&(e.availableSaxParsers.push(r),e.bestSaxParser||(e.bestSaxParser=r))}),e.Parser=function(t){r.EventEmitter.call(this);var n=this,i=t||e.bestSaxParser;if(!i)throw new Error("No SAX parser available");this.parser=new i;var s;this.parser.addListener("startElement",function(t,e){var n=new o(t,e);s=s?s.cnode(n):n}),this.parser.addListener("endElement",function(t){s&&t===s.name&&(s.parent?s=s.parent:n.tree||(n.tree=s,s=void 0))}),this.parser.addListener("text",function(t){s&&s.t(t)}),this.parser.addListener("error",function(t){n.error=t,n.emit("error",t)})},i.inherits(e.Parser,r.EventEmitter),e.Parser.prototype.write=function(t){this.parser.write(t)},e.Parser.prototype.end=function(t){this.parser.end(t),this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",new Error("Incomplete document")))},e.parse=function(t,n){var r=new e.Parser(n),i=null,o=null;if(r.on("tree",function(t){i=t}),r.on("error",function(t){o=t}),r.write(t),r.end(),o)throw o;return i}},function(t,e,n){function r(t,e){return t=+t,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function o(t){for(var e=a(t),n=e.length,o=n&&t.length,s=o&&i(o)&&(c(t)||g.nonEnumArgs&&u(t)),l=-1,p=[];++l<n;){var d=e[l];(s&&r(d,o)||f.call(t,d))&&p.push(d)}return p}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(c(t)||g.nonEnumArgs&&u(t))&&e||0;for(var n=t.constructor,o=-1,a="function"==typeof n&&n.prototype===t,l=Array(e),p=e>0;++o<e;)l[o]=o+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||l.push(d);return l}var u=n(449),c=n(9),l=n(450),p=Object.prototype,f=p.hasOwnProperty,d=p.propertyIsEnumerable,h=l(h=Object.keys)&&h,m=Math.pow(2,53)-1,g={};!function(t){try{g.nonEnumArgs=!d.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var v=h?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&i(n)?o(t):s(t)?h(t):[]}:o;t.exports=v},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(a(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(a(r.parts[o],e));f[r.id]={id:r.id,refs:1,parts:s}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],s=i[1],a=i[2],u=i[3],c={css:s,media:a,sourceMap:u};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(){var t=document.createElement("style"),e=m();return t.type="text/css",e.appendChild(t),t}function s(){var t=document.createElement("link"),e=m();return t.rel="stylesheet",e.appendChild(t),t}function a(t,e){var n,r,i;if(e.singleton){var a=v++;n=g||(g=o()),r=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(),r=p.bind(null,n),i=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(),r=l.bind(null,n),i=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function u(t,e,n){var r=["/** >>"+e+" **/","/** "+e+"<< **/"],i=t.lastIndexOf(r[0]),o=n?r[0]+n+r[1]:"";if(t.lastIndexOf(r[0])>=0){var s=t.lastIndexOf(r[1])+r[1].length;return t.slice(0,i)+o+t.slice(s)}return t+o}function c(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=u(t.styleSheet.cssText,e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function l(t,e){{var n=e.css,r=e.media;e.sourceMap}if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(r))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h());var n=i(t);return r(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=f[a.id];u.refs--,o.push(u)}if(t){var c=i(t);r(c,e)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}}},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(1).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=arguments.length<2?!1:a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(70).setImmediate,n(70).clearImmediate)},function(t,e,n){"use strict";var r=n(169).Dispatcher,i=n(51).ActionSources;t.exports=Object.assign(new r,{dispatchViewAction:function(t){t.source=i.VIEW,this.dispatch(t)},dispatchServerAction:function(t){t.source=i.SERVER,this.dispatch(t)}})},function(t,e,n){(function(e){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(18),o=n(4),s=n(3);o(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,n=this._contexts;if(t){"production"!==e.env.NODE_ENV?s(t.length===n.length,"Mismatched list of contexts in callback queue"):s(t.length===n.length),this._callbacks=null,this._contexts=null;for(var r=0,i=t.length;i>r;r++)t[r].call(n[r]);t.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function i(t){return t===v.topMouseMove||t===v.topTouchMove}function o(t){return t===v.topMouseDown||t===v.topTouchStart}function s(t,n){var r=t._dispatchListeners,i=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&d(t),Array.isArray(r))for(var o=0;o<r.length&&!t.isPropagationStopped();o++)n(t,r[o],i[o]);else r&&n(t,r,i)}function a(t,e,n){t.currentTarget=g.Mount.getNode(n);var r=e(t,n);return t.currentTarget=null,r}function u(t,e){s(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function c(t){var n=t._dispatchListeners,r=t._dispatchIDs;if("production"!==e.env.NODE_ENV&&d(t),Array.isArray(n)){for(var i=0;i<n.length&&!t.isPropagationStopped();i++)if(n[i](t,r[i]))return r[i]}else if(n&&n(t,r))return r;return null}function l(t){var e=c(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function p(t){"production"!==e.env.NODE_ENV&&d(t);var n=t._dispatchListeners,r=t._dispatchIDs;"production"!==e.env.NODE_ENV?m(!Array.isArray(n),"executeDirectDispatch(...): Invalid `event`."):m(!Array.isArray(n));var i=n?n(t,r):null;return t._dispatchListeners=null,t._dispatchIDs=null,i}function f(t){return!!t._dispatchListeners}var d,h=n(10),m=n(3),g={Mount:null,injectMount:function(t){g.Mount=t,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?m(t&&t.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):m(t&&t.getNode))}},v=h.topLevelTypes;"production"!==e.env.NODE_ENV&&(d=function(t){var n=t._dispatchListeners,r=t._dispatchIDs,i=Array.isArray(n),o=Array.isArray(r),s=o?r.length:r?1:0,a=i?n.length:n?1:0;"production"!==e.env.NODE_ENV?m(o===i&&s===a,"EventPluginUtils: Invalid `event`."):m(o===i&&s===a)});var y={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:p,executeDispatch:a,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:f,injection:g,useTouchEvents:!1};t.exports=y}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){"production"!==e.env.NODE_ENV?c(null==t.props.checkedLink||null==t.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):c(null==t.props.checkedLink||null==t.props.valueLink)}function i(t){r(t),"production"!==e.env.NODE_ENV?c(null==t.props.value&&null==t.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):c(null==t.props.value&&null==t.props.onChange)}function o(t){r(t),"production"!==e.env.NODE_ENV?c(null==t.props.checked&&null==t.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):c(null==t.props.checked&&null==t.props.onChange)}function s(t){this.props.valueLink.requestChange(t.target.value)}function a(t){this.props.checkedLink.requestChange(t.target.checked)}var u=n(117),c=n(3),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={Mixin:{propTypes:{value:function(t,e,n){return!t[e]||l[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func}},getValue:function(t){return t.props.valueLink?(i(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(o(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(i(t),s):t.props.checkedLink?(o(t),a):t.props.onChange}};t.exports=p}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){t.remove()}var i=n(33),o=n(84),s=n(85),a=n(3),u={trapBubbledEvent:function(t,n){"production"!==e.env.NODE_ENV?a(this.isMounted(),"Must be mounted to trap events"):a(this.isMounted());var r=this.getDOMNode();"production"!==e.env.NODE_ENV?a(r,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):a(r);var s=i.trapBubbledEvent(t,n,r);this._localEventListeners=o(this._localEventListeners,s)},componentWillUnmount:function(){this._localEventListeners&&s(this._localEventListeners,r)}};t.exports=u}).call(e,n(1))},function(t,e,n){"use strict";var r=n(112),i=n(13),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){i.purgeID(t)}};t.exports=o},function(t,e,n){(function(e){"use strict";var r=n(3),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){"production"!==e.env.NODE_ENV?r(!i,"ReactCompositeComponent: injectEnvironment() can only be called once."):r(!i),o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.exports=o}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(4),i=n(59),o=n(7),s=!1,a={current:i,withContext:function(t,n){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?o(s,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,s=!0);var i,u=a.current;a.current=r({},u,t);try{i=n()}finally{a.current=u}return i}};t.exports=a}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){t&&(null!=t.dangerouslySetInnerHTML&&("production"!==e.env.NODE_ENV?v(null==t.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):v(null==t.children),"production"!==e.env.NODE_ENV?v(null!=t.dangerouslySetInnerHTML.__html,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit http://fb.me/react-invariant-dangerously-set-inner-html for more information."):v(null!=t.dangerouslySetInnerHTML.__html)),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?b(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==e.env.NODE_ENV?b(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==e.env.NODE_ENV?v(null==t.style||"object"==typeof t.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):v(null==t.style||"object"==typeof t.style))}function i(t,n,r,i){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?b("onScroll"!==n||y("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var o=f.findReactContainerForID(t);if(o){var s=o.nodeType===N?o.ownerDocument:o;x(n,s)}i.getPutListenerQueue().enqueuePutListener(t,n,r)}function o(t){I.call(j,t)||("production"!==e.env.NODE_ENV?v(D.test(t),"Invalid tag: %s",t):v(D.test(t)),j[t]=!0)}function s(t){o(t),this._tag=t,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var a=n(109),u=n(26),c=n(41),l=n(33),p=n(76),f=n(13),d=n(208),h=n(22),m=n(4),g=n(60),v=n(3),y=n(90),_=n(24),b=n(7),E=l.deleteListener,x=l.listenTo,w=l.registrationNameModules,S={string:!0,number:!0},C=_({style:null}),N=1,O=null,T={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},D=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,j={},I={}.hasOwnProperty;s.displayName="ReactDOMComponent",s.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t,r(this._currentElement.props);var i=T[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,n)+i},_createOpenTagMarkupAndPutListeners:function(t){var e=this._currentElement.props,n="<"+this._tag;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o)if(w.hasOwnProperty(r))i(this._rootNodeID,r,o,t);else{r===C&&(o&&(o=this._previousStyleCopy=m({},e.style)),o=a.createMarkupForStyles(o));var s=c.createMarkupForProperty(r,o);s&&(n+=" "+s)}}if(t.renderToStaticMarkup)return n+">";var u=c.createMarkupForID(this._rootNodeID);return n+" "+u+">"},_createContentMarkup:function(t,e){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,i=r.dangerouslySetInnerHTML;if(null!=i){if(null!=i.__html)return n+i.__html}else{var o=S[typeof r.children]?r.children:null,s=null!=o?null:r.children;if(null!=o)return n+g(o);if(null!=s){var a=this.mountChildren(s,t,e);return n+a.join("")}}return n},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,i){r(this._currentElement.props),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t,i)},_updateDOMProperties:function(t,e){var n,r,o,s=this._currentElement.props;

for(n in t)if(!s.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===C){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else w.hasOwnProperty(n)?E(this._rootNodeID,n):(u.isStandardName[n]||u.isCustomAttribute(n))&&O.deletePropertyByID(this._rootNodeID,n);for(n in s){var c=s[n],l=n===C?this._previousStyleCopy:t[n];if(s.hasOwnProperty(n)&&c!==l)if(n===C)if(c&&(c=this._previousStyleCopy=m({},c)),l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(o=o||{},o[r]=c[r])}else o=c;else w.hasOwnProperty(n)?i(this._rootNodeID,n,c,e):(u.isStandardName[n]||u.isCustomAttribute(n))&&O.updatePropertyByID(this._rootNodeID,n,c)}o&&O.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(t,e,n){var r=this._currentElement.props,i=S[typeof t.children]?t.children:null,o=S[typeof r.children]?r.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,u=null!=i?null:t.children,c=null!=o?null:r.children,l=null!=i||null!=s,p=null!=o||null!=a;null!=u&&null==c?this.updateChildren(null,e,n):l&&!p&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=a?s!==a&&O.updateInnerHTMLByID(this._rootNodeID,a):null!=c&&this.updateChildren(c,e,n)},unmountComponent:function(){this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),p.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},h.measureMethods(s,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(s.prototype,s.Mixin,d.Mixin),s.injection={injectIDOperations:function(t){s.BackendIDOperations=O=t}},t.exports=s}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){l[t]=!0}function i(t){delete l[t]}function o(t){return!!l[t]}var s,a=n(5),u=n(35),c=n(3),l={},p={injectEmptyComponent:function(t){s=a.createFactory(t)}},f=function(){};f.prototype.componentDidMount=function(){var t=u.get(this);t&&r(t._rootNodeID)},f.prototype.componentWillUnmount=function(){var t=u.get(this);t&&i(t._rootNodeID)},f.prototype.render=function(){return"production"!==e.env.NODE_ENV?c(s,"Trying to return null from a render, but no null placeholder component was injected."):c(s),s()};var d=a.createElement(f),h={emptyElement:d,injection:p,isNullComponentID:o};t.exports=h}).call(e,n(1))},function(t,e,n){"use strict";var r={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=r},function(t,e,n){"use strict";var r=n(46),i=r({prop:null,context:null,childContext:null});t.exports=i},function(t,e,n){(function(e){"use strict";function r(t){t!==o.currentlyMountingInstance&&c.enqueueUpdate(t)}function i(t,n){"production"!==e.env.NODE_ENV?p(null==s.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):p(null==s.current);var r=u.get(t);return r?r===o.currentlyUnmountingInstance?null:r:("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",n,n):null),null)}var o=n(81),s=n(20),a=n(5),u=n(35),c=n(14),l=n(4),p=n(3),f=n(7),d={enqueueCallback:function(t,n){"production"!==e.env.NODE_ENV?p("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):p("function"==typeof n);var s=i(t);return s&&s!==o.currentlyMountingInstance?(s._pendingCallbacks?s._pendingCallbacks.push(n):s._pendingCallbacks=[n],void r(s)):null},enqueueCallbackInternal:function(t,n){"production"!==e.env.NODE_ENV?p("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):p("function"==typeof n),t._pendingCallbacks?t._pendingCallbacks.push(n):t._pendingCallbacks=[n],r(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=i(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=i(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),r(n)}},enqueueSetProps:function(t,n){var o=i(t,"setProps");if(o){"production"!==e.env.NODE_ENV?p(o._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):p(o._isTopLevel);var s=o._pendingElement||o._currentElement,u=l({},s.props,n);o._pendingElement=a.cloneAndReplaceProps(s,u),r(o)}},enqueueReplaceProps:function(t,n){var o=i(t,"replaceProps");if(o){"production"!==e.env.NODE_ENV?p(o._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):p(o._isTopLevel);var s=o._pendingElement||o._currentElement;o._pendingElement=a.cloneAndReplaceProps(s,n),r(o)}},enqueueElementInternal:function(t,e){t._pendingElement=e,r(t)}};t.exports=d}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,n){if("production"!==e.env.NODE_ENV?i(null!=n,"accumulateInto(...): Accumulated items must not be null or undefined."):i(null!=n),null==t)return n;var r=Array.isArray(t),o=Array.isArray(n);return r&&o?(t.push.apply(t,n),t):r?(t.push(n),t):o?[t].concat(n):[t,n]}var i=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";var r=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=r},function(t,e,n){"use strict";function r(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=r},function(t,e,n){"use strict";function r(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return r?!!n[r]:!1}function i(t){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},function(t,e,n){"use strict";function r(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){return"function"==typeof t&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t,n){var i;if((null===t||t===!1)&&(t=s.emptyElement),"object"==typeof t){var o=t;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?l(o&&("function"==typeof o.type||"string"==typeof o.type),"Only functions or strings can be mounted as React components."):null),i=n===o.type&&"string"==typeof o.type?a.createInternalComponent(o):r(o.type)?new o.type(o):new p}else"string"==typeof t||"number"==typeof t?i=a.createInstanceForText(t):"production"!==e.env.NODE_ENV?c(!1,"Encountered invalid React node of type %s",typeof t):c(!1);return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?l("function"==typeof i.construct&&"function"==typeof i.mountComponent&&"function"==typeof i.receiveComponent&&"function"==typeof i.unmountComponent,"Only React Components can be mounted."):null),i.construct(t),i._mountIndex=0,i._mountImage=null,"production"!==e.env.NODE_ENV&&(i._isOwnerNecessary=!1,i._warnedAboutRefsInRender=!1),"production"!==e.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(i),i}var o=n(189),s=n(80),a=n(55),u=n(4),c=n(3),l=n(7),p=function(){};u(p.prototype,o.Mixin,{_instantiateReactComponent:i}),t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r="function"==typeof s[n]}return!r&&i&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(8);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e,n){"use strict";var r=n(8),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),r.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),i.test(e)||"<"===e[0]&&o.test(e)){t.innerHTML="\ufeff"+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,n){(function(e){"use strict";function r(t,n){if(null!=t&&null!=n){var r=typeof t,o=typeof n;if("string"===r||"number"===r)return"string"===o||"number"===o;if("object"===o&&t.type===n.type&&t.key===n.key){var s=t._owner===n._owner,a=null,u=null,c=null;return"production"!==e.env.NODE_ENV&&(s||(null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(a=t._owner.getPublicInstance().constructor.displayName),null!=n._owner&&null!=n._owner.getPublicInstance()&&null!=n._owner.getPublicInstance().constructor&&(u=n._owner.getPublicInstance().constructor.displayName),null!=n.type&&null!=n.type.displayName&&(c=n.type.displayName),null!=n.type&&"string"==typeof n.type&&(c=n.type),("string"!=typeof n.type||"input"===n.type||"textarea"===n.type)&&(null!=t._owner&&t._owner._isOwnerNecessary===!1||null!=n._owner&&n._owner._isOwnerNecessary===!1)&&(null!=t._owner&&(t._owner._isOwnerNecessary=!0),null!=n._owner&&(n._owner._isOwnerNecessary=!0),"production"!==e.env.NODE_ENV?i(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",c||"Unknown Component",a||"[Unknown]",u||"[Unknown]",t.key):null))),s}}return!1}var i=n(7);t.exports=r}).call(e,n(1))},function(t,e,n){var r=n(134),i=n(387),o=n(378),s={md2:"md2",md5:"md5","sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512"},a=Object.keys(s);e.getHashes=function(){for(var t=[],e=o(),n=0,r=a.length;r>n;n++)e.indexOf(s[a[n]])>=0&&t.push(a[n]);return t},e.createHash=function(t){return t=t.toLowerCase(),s[t]&&(t=s[t]),r(t)},e.createHmac=function(t,e){return t=t.toLowerCase(),s[t]&&(t=s[t]),i(t,e)}},function(t,e,n){var r=[],i=r.forEach,o=r.slice;t.exports=function(t){return i.call(o.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t}},function(t,e,n){function r(t){a.call(this);var e=this;this.sid=t.sid||Date.now().toString(),this.peer=t.peer,this.peerID=t.peerID||this.peer.full||this.peer,this.isInitiator=t.initiator||!1,this.parent=t.parent,this.state="starting",this.connectionState="starting",this.pendingDescriptionTypes=t.descriptionTypes||[],this.pendingAction=!1,this.processingQueue=o.queue(function(t,n){if(e.ended)return n();var r=t.action,i=t.changes,o=t.cb;return e._log("debug",r),u[r]?void e[u[r]](i,function(t,e){return o(t,e),n()}):(e._log("error","Invalid action: "+r),o({condition:"bad-request"}),n())})}var i=n(6),o=n(47),s=n(94),a=n(15),u={"content-accept":"onContentAccept","content-add":"onContentAdd","content-modify":"onConentModify","content-reject":"onContentReject","content-remove":"onContentRemove","description-info":"onDescriptionInfo","security-info":"onSecurityInfo","session-accept":"onSessionAccept","session-info":"onSessionInfo","session-initiate":"onSessionInitiate","session-terminate":"onSessionTerminate","transport-accept":"onTransportAccept","transport-info":"onTransportInfo","transport-reject":"onTransportReject","transport-replace":"onTransportReplace","source-add":"onSourceAdd","source-remove":"onSourceRemove"};i.inherits(r,a),Object.keys(u).forEach(function(t){var e=u[t];r.prototype[e]=function(e,n){this._log("error","Unsupported action: "+t),n()}}),Object.defineProperties(r.prototype,{state:{get:function(){return this._sessionState},set:function(t){if(t!==this._sessionState){var e=this._sessionState;this._log("info","Changing session state to: "+t),this._sessionState=t,this.emit("change:sessionState",this,t),this.emit("change:"+t,this,!0),e&&this.emit("change:"+e,this,!1)}}},connectionState:{get:function(){return this._connectionState},set:function(t){if(t!==this._connectionState){var e=this._connectionState;this._log("info","Changing connection state to: "+t),this._connectionState=t,this.emit("change:connectionState",this,t),this.emit("change:"+t,this,!0),e&&this.emit("change:"+e,this,!1)}}},starting:{get:function(){return"starting"===this._sessionState}},pending:{get:function(){return"pending"===this._sessionState}},active:{get:function(){return"active"===this._sessionState}},ended:{get:function(){return"ended"===this._sessionState}},connected:{get:function(){return"connected"===this._connectionState}},connecting:{get:function(){return"connecting"===this._connectionState}},disconnected:{get:function(){return"disconnected"===this._connectionState}},interrupted:{get:function(){return"interrupted"===this._connectionState}}}),r.prototype=s(r.prototype,{_log:function(t,e){e=this.sid+": "+e,this.emit("log:"+t,e)},send:function(t,e){e=e||{},e.sid=this.sid,e.action=t;var n={"session-inititate":!0,"session-accept":!0,"content-add":!0,"content-remove":!0,"content-reject":!0,"content-accept":!0,"content-modify":!0,"transport-replace":!0,"transport-reject":!0,"transport-accept":!0,"source-add":!0,"source-remove":!0};this.pendingAction=n[t]?t:!1,this.emit("send",{to:this.peer,type:"set",jingle:e})},process:function(t,e,n){this.processingQueue.push({action:t,changes:e,cb:n})},start:function(){this._log("error","Can not start base sessions"),this.end("unsupported-applications",!0)},accept:function(){this._log("error","Can not accept base sessions"),this.end("unsupported-applications")},cancel:function(){this.end("cancel")},decline:function(){this.end("decline")},end:function(t,e){this.state="ended",this.processingQueue.kill(),t||(t="success"),"string"==typeof t&&(t={condition:t}),e||this.send("session-terminate",{reason:t}),this.emit("terminated",this,t)},onSessionTerminate:function(t,e){this.end(t.reason,!0),e()},onSessionInfo:function(t,e){var n={sid:!0,action:!0,initiator:!0,responder:!0},r=!1;Object.keys(t).forEach(function(t){n[t]||(r=!0)}),r?e({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"}):e()},onDescriptionInfo:function(t,e){e({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onTransportInfo:function(t,e){e({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onContentAdd:function(t,e){e(),this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})},onTransportReplace:function(t,e){e(),this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}}),t.exports=r},function(t,e,n){"use strict";function r(){this._LOOKUP={},this._LOOKUP_EXT={},this._TAGS={},this._CB_DEFINITION={},this._CB_TAG={},this._ID=o.v4(),this.utils=i({},a,u)}var i=n(39),o=n(149),s=n(66),a=n(430),u=n(97),c=n(429);r.prototype.use=function(t){return t["__JXT_LOADED_"+this._ID]||t(this),t["__JXT_LOADED_"+this._ID]=!0,this},r.prototype.getDefinition=function(t,e,n){var r=this._LOOKUP[e+"|"+t];if(n&&!r)throw new Error("Could not find definition for <"+t+' xmlns="'+e+'" />');return r},r.prototype.getExtensions=function(t,e){return this._LOOKUP_EXT[e+"|"+t]||{}},r.prototype.withDefinition=function(t,e,n){var r=e+"|"+t;this._CB_DEFINITION[r]||(this._CB_DEFINITION[r]=[]),this._CB_DEFINITION[r].push(n),this._LOOKUP[r]&&n(this._LOOKUP[r])},r.prototype.withTag=function(t,e){this._CB_TAG[t]||(this._CB_TAG[t]=[]),this._CB_TAG[t].push(e),this.tagged(t).forEach(function(t){e(t)})},r.prototype.tagged=function(t){return this._TAGS[t]||[]},r.prototype.build=function(t){var e=this._LOOKUP[t.namespaceURI+"|"+t.localName];return e?new e(null,t):void 0},r.prototype.parse=function(t){var e=s.parse(t);if(1===e.nodeType){var n=this.getDefinition(e.localName,e.namespaceURI);return n?new n(null,e):void 0}},r.prototype.extend=function(t,e,n){var r=t.prototype._NS+"|"+t.prototype._EL,i=e.prototype._name,o=e.prototype._NS+"|"+e.prototype._EL;this._LOOKUP[o]=e,this._LOOKUP_EXT[o]||(this._LOOKUP_EXT[o]={}),this._LOOKUP_EXT[r]||(this._LOOKUP_EXT[r]={}),this._LOOKUP_EXT[r][i]=e,this.add(t,i,a.extension(e)),n&&this.add(t,n,a.multiExtension(e))},r.prototype.add=function(t,e,n){n.enumerable=!0,Object.defineProperty(t.prototype,e,n)},r.prototype.define=function(t){var e=this,n=c(this,t),r=n.prototype._NS,i=n.prototype._EL,o=n.prototype._TAGS,s=r+"|"+i;this._LOOKUP[s]=n,o.forEach(function(t){e._TAGS[t]||(e._TAGS[t]=[]),e._TAGS[t].push(n)});var a=Object.keys(t.fields||{});return a.forEach(function(r){e.add(n,r,t.fields[r])}),this._CB_DEFINITION[s]&&this._CB_DEFINITION[s].forEach(function(t){t(n)}),o.forEach(function(t){e._CB_TAG[t]&&e._CB_TAG[t].forEach(function(t){t(n)})}),n},r.createRegistry=function(){return new r},i(r,u),i(r,a);var l=new r;r.define=l.define.bind(l),r.extend=l.extend.bind(l),r.add=l.add.bind(l),r.parse=l.parse.bind(l),r.build=l.build.bind(l),r.getExtensions=l.getExtensions.bind(l),r.getDefinition=l.getDefinition.bind(l),r.withDefinition=l.withDefinition.bind(l),r.withTag=l.withTag.bind(l),r.tagged=l.tagged.bind(l),r.getGlobalJXT=function(){return l},t.exports=r},function(t,e,n){"use strict";var r=n(66),i=e.XML_NS="http://www.w3.org/XML/1998/namespace";e.createElement=function(t,n,i){var o=new r.Element(n);return i&&i===t||e.setAttribute(o,"xmlns",t),o};var o=e.find=function(t,e,n){for(var r=[],i=t.getElementsByTagName(n),o=0,s=i.length;s>o;o++){var a=i[o];a.namespaceURI===e&&a.parentNode===t&&r.push(a)}return r};e.findOrCreate=function(t,n,r){var i=e.find(t,n,r);if(i.length)return i[0];var o=e.createElement(n,r,t.namespaceURI);return t.appendChild(o),o},e.getAttribute=function(t,e,n){return t.getAttribute(e)||n||""},e.getAttributeNS=function(t,e,n,r){return t.getAttributeNS(e,n)||r||""},e.setAttribute=function(t,e,n,r){n||r?t.setAttribute(e,n):t.removeAttribute(e)},e.setAttributeNS=function(t,e,n,r,i){r||i?t.setAttributeNS(e,n,r):t.removeAttributeNS(e,n)},e.getBoolAttribute=function(t,e,n){var r=t.getAttribute(e)||n||"";return"true"===r||"1"===r},e.setBoolAttribute=function(t,e,n){n?t.setAttribute(e,"1"):t.removeAttribute(e)},e.getSubAttribute=function(t,e,n,r,i){var s=o(t,e,n);if(!s)return"";for(var a=0;a<s.length;a++)return s[a].getAttribute(r)||i||"";return""},e.setSubAttribute=function(t,n,r,i,s){var a=o(t,n,r);if(a.length)for(var u=0;u<a.length;u++){if(s)return void a[u].setAttribute(i,s);a[u].removeAttribute(i)}else s&&(r=e.createElement(n,r,t.namespaceURI),r.setAttribute(i,s),t.appendChild(r))},e.getBoolSubAttribute=function(t,e,n,r,i){var o=t.getSubAttribute(e,n,r)||i||"";return"true"===o||"1"===o},e.setBoolSubAttribute=function(t,n,r,i,o){o=o?"1":"",e.setSubAttribute(t,n,r,i,o)},e.getText=function(t){return t.textContent},e.setText=function(t,e){t.textContent=e},e.getSubText=e.getTextSub=function(t,e,n,r){var i=o(t,e,n);return r=r||"",i.length?i[0].textContent||r:r},e.setSubText=e.setTextSub=function(t,n,r,i){var s=o(t,n,r);if(s.length)for(var a=0;a<s.length;a++)t.removeChild(s[a]);if(i){var u=e.createElement(n,r,t.namespaceURI);i!==!0&&(u.textContent=i),t.appendChild(u)}},e.getMultiSubText=function(t,e,n,r){var i=o(t,e,n),s=[];r=r||function(t){return t.textContent||""};for(var a=0;a<i.length;a++)s.push(r(i[a]));return s},e.setMultiSubText=function(t,n,r,i,s){var a=o(t,n,r),u=[];s=s||function(i){if(i){var o=e.createElement(n,r,t.namespaceURI);o.textContent=i,t.appendChild(o)}},u="string"==typeof i?(i||"").split("\n"):i;var c,l;for(c=0,l=a.length;l>c;c++)t.removeChild(a[c]);for(c=0,l=u.length;l>c;c++)s(u[c])},e.getMultiSubAttribute=function(t,n,r,i){return e.getMultiSubText(t,n,r,function(t){return e.getAttribute(t,i)})},e.setMultiSubAttribute=function(t,n,r,i,o){e.setMultiSubText(t,n,r,o,function(o){var s=e.createElement(n,r,t.namespaceURI);e.setAttribute(s,i,o),t.appendChild(s)})},e.getSubLangText=function(t,e,n,r){var s=o(t,e,n);if(!s.length)return{};for(var a,u,c={},l=[],p=0;p<s.length;p++)u=s[p],a=u.getAttributeNS(i,"lang")||r,l.push(a),c[a]=u.textContent||"";return c},e.setSubLangText=function(t,n,r,s,a){var u,c,l=o(t,n,r);if(l.length)for(var p=0;p<l.length;p++)t.removeChild(l[p]);if("string"==typeof s)u=e.createElement(n,r,t.namespaceURI),u.textContent=s,t.appendChild(u);else if("object"==typeof s)for(c in s)s.hasOwnProperty(c)&&(u=e.createElement(n,r,t.namespaceURI),c!==a&&u.setAttributeNS(i,"lang",c),u.textContent=s[c],t.appendChild(u))},e.getBoolSub=function(t,e,n){var r=o(t,e,n);return!!r.length},e.setBoolSub=function(t,n,r,i){var s=o(t,n,r);if(s.length)for(var a=0;a<s.length;a++){if(i)return;t.removeChild(s[a])}else if(i){var u=e.createElement(n,r,t.namespaceURI);t.appendChild(u)}}},function(t,e,n){"use strict";var r=n(67);e.Element=n(64),e.escapeXml=n(65).escapeXml,e.parse=r.parse,e.Parser=r.Parser,e.availableSaxParsers=r.availableSaxParsers,e.bestSaxParser=r.bestSaxParser},function(t,e,n){"use strict";function r(t){return t.replace(/\&(amp|#38);/g,"&").replace(/\&(lt|#60);/g,"<").replace(/\&(gt|#62);/g,">").replace(/\&(quot|#34);/g,'"').replace(/\&(apos|#39);/g,"'").replace(/\&(nbsp|#160);/g,"\n")}var i=n(6),o=n(16),s=0,a=1,u=2,c=3,l=4,p=5,f=6,d=7,h=t.exports=function(){o.EventEmitter.call(this);var t,e,n,i,h,m,g,v=s,y=0;this._handleTagOpening=function(t,e,n){t?this.emit("endElement",e):(this.emit("startElement",e,n),h&&this.emit("endElement",e))},this.write=function(o){function _(){if("number"==typeof y){var t=o.slice(y,b);return y=void 0,t}}"string"!=typeof o&&(o=o.toString());var b=0;for(t&&(o=t+o,b+=t.length,t=null);b<o.length;b++){var E=o.charCodeAt(b);switch(v){case s:if(60===E){var x=_();x&&this.emit("text",r(x)),v=u,y=b+1,n={}}break;case u:47===E&&y===b?(y=b+1,i=!0):33===E||63===E?(y=void 0,v=a):(32>=E||47===E||62===E)&&(e=_(),b--,v=c);break;case a:62===E&&(v=s);break;case c:62===E?(this._handleTagOpening(i,e,n),e=void 0,n=void 0,i=void 0,h=void 0,v=s,y=b+1):47===E?h=!0:E>32&&(y=b,v=l);break;case l:(32>=E||61===E)&&(g=_(),b--,v=p);break;case p:61===E&&(v=f);break;case f:(34===E||39===E)&&(m=E,v=d,y=b+1);break;case d:if(E===m){var w=r(_());n[g]=w,g=void 0,v=c}}}"number"==typeof y&&y<=o.length&&(t=o.slice(y),y=0)}};i.inherits(h,o.EventEmitter),h.prototype.end=function(t){t&&this.write(t),this.write=function(){}}},function(t,e,n){(function(r,i){function o(t){"string"==typeof t?t={bindings:t}:t||(t={}),t.__proto__=p,t.module_root||(t.module_root=e.getRoot(e.getFileName())),".node"!=a.extname(t.bindings)&&(t.bindings+=".node");for(var r,i,o,s=[],c=0,l=t["try"].length;l>c;c++){r=u.apply(null,t["try"][c].map(function(e){return t[e]||e})),s.push(r);try{return i=t.path?n(143).resolve(r):n(143)(r),t.path||(i.path=r),i}catch(f){if(!/not find/i.test(f.message))throw f}}throw o=new Error("Could not locate the bindings file. Tried:\n"+s.map(function(e){return t.arrow+e}).join("\n")),o.tries=s,o}var s=n(151),a=n(507),u=a.join,c=a.dirname,l=s.existsSync||a.existsSync,p={arrow:r.env.NODE_BINDINGS_ARROW||" → ",compiled:r.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:r.platform,arch:r.arch,version:r.versions.node,bindings:"bindings.node","try":[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};t.exports=e=o,e.getFileName=function(t){var e,n=Error.prepareStackTrace,r=Error.stackTraceLimit,o={};return Error.stackTraceLimit=10,Error.prepareStackTrace=function(n,r){for(var o=0,s=r.length;s>o;o++)if(e=r[o].getFileName(),e!==i){if(!t)return;if(e!==t)return}},Error.captureStackTrace(o),o.stack,Error.prepareStackTrace=n,Error.stackTraceLimit=r,e},e.getRoot=function(t){for(var e,n=c(t);;){if("."===n&&(n=r.cwd()),l(u(n,"package.json"))||l(u(n,"node_modules")))return n;if(e===n)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');e=n,n=u(n,"..")}}}).call(e,n(1),"/index.js")},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return null==t?!1:d.call(t)==a?h.test(f.call(t)):i(t)&&u.test(t)}function s(t){return t=r(t),t&&l.test(t)?t.replace(c,"\\$&"):t}var a="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,l=RegExp(c.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,h=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||t.push(n),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new r(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=o;var a=n(32),u=n(49);u.inherits=n(50),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;u.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(t,e,n){(function(e){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(t,e){var r=n(32);t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,e instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){d(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var e=n(32);return this instanceof o||this instanceof e?(this._writableState=new i(t,this),this.writable=!0,void w.call(this)):new o(t)}function s(t,n,r){var i=new Error("write after end");t.emit("error",i),e.nextTick(function(){r(i)})}function a(t,n,r,i){var o=!0;if(!(x.isBuffer(r)||x.isString(r)||x.isNullOrUndefined(r)||n.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),e.nextTick(function(){i(s)}),o=!1}return o}function u(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&x.isString(e)&&(e=new E(e,n)),e}function c(t,e,n,i,o){n=u(e,n,i),x.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new r(n,i,o)):l(t,e,!1,s,n,i,o),a}function l(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function p(t,n,r,i,o){r?e.nextTick(function(){n.pendingcb--,o(i)}):(n.pendingcb--,o(i)),t._writableState.errorEmitted=!0,t.emit("error",i)}function f(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function d(t,n){var r=t._writableState,i=r.sync,o=r.writecb;if(f(r),n)p(t,r,i,n,o);else{var s=v(t,r);s||r.corked||r.bufferProcessing||!r.buffer.length||g(t,r),i?e.nextTick(function(){h(t,r,s,o)}):h(t,r,s,o)}}function h(t,e,n,r){n||m(t,e),e.pendingcb--,r(),_(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function g(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var n=[],r=0;r<e.buffer.length;r++)n.push(e.buffer[r].callback);e.pendingcb++,l(t,e,!0,e.length,e.buffer,"",function(t){for(var r=0;r<n.length;r++)e.pendingcb--,n[r](t)}),e.buffer=[]}else{for(var r=0;r<e.buffer.length;r++){var i=e.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=e.objectMode?1:o.length;if(l(t,e,!1,u,o,s,a),e.writing){r++;break}}r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}e.bufferProcessing=!1}function v(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function y(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function _(t,e){var n=v(t,e);return n&&(0===e.pendingcb?(y(t,e),e.finished=!0,t.emit("finish")):y(t,e)),n}function b(t,n,r){n.ending=!0,_(t,n),r&&(n.finished?e.nextTick(r):t.once("finish",r)),n.ended=!0}t.exports=o;var E=n(2).Buffer;o.WritableState=i;var x=n(49);x.inherits=n(50);var w=n(17);x.inherits(o,w),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return x.isFunction(e)&&(n=e,e=null),x.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),x.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,t,n)&&(r.pendingcb++,i=c(this,r,t,e,n)),i},o.prototype.cork=function(){var t=this._writableState;t.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||g(this,t))},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,n){var r=this._writableState;x.isFunction(t)?(n=t,t=null,e=null):x.isFunction(e)&&(n=e,e=null),x.isNullOrUndefined(t)||this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||b(this,r,n)}}).call(e,n(1))},function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=n(2).Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(2>=e&&n>>4==14){this.charLength=3;break}if(3>=e&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},function(t,e,n){},function(t,e,n){"use strict";var r=n(163),i=n(51).ActionTypes,o=n(107),s=n(71),a={initClient:function(t){r.init(t)},setNick:function(t,e){s.dispatchViewAction({type:i.SET_NICK,payload:{nick:t}}),e.length>1?r.changeNick(t,o.room):r.changeNickWhenAlone(t,o.room)},sendMessage:function(t){r.sendGroupMessage(t,o.room)}};t.exports=a},function(t,e,n){"use strict";t.exports={jid:"guest@ruiramos.com",password:"",url:"wss://ruiramos.com:5281/xmpp-websocket",room:"test@chat.ruiramos.com"}},function(t,e,n){"use strict";function r(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeOpacity:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){o.forEach(function(e){i[r(e,t)]=i[t]})});var s={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:s};t.exports=a},function(t,e,n){(function(e){"use strict";var r=n(108),i=n(8),o=n(228),s=n(232),a=n(239),u=n(242),c=n(7),l=u(function(t){return a(t)}),p="cssFloat";if(i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(p="styleFloat"),"production"!==e.env.NODE_ENV)var f=/^(?:webkit|moz|o)[A-Z]/,d=/;\s*$/,h={},m={},g=function(t){h.hasOwnProperty(t)&&h[t]||(h[t]=!0,"production"!==e.env.NODE_ENV?c(!1,"Unsupported style property %s. Did you mean %s?",t,o(t)):null)},v=function(t){h.hasOwnProperty(t)&&h[t]||(h[t]=!0,"production"!==e.env.NODE_ENV?c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)):null)},y=function(t,n){m.hasOwnProperty(n)&&m[n]||(m[n]=!0,"production"!==e.env.NODE_ENV?c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,n.replace(d,"")):null)},_=function(t,e){t.indexOf("-")>-1?g(t):f.test(t)?v(t):d.test(e)&&y(t,e)};var b={createMarkupForStyles:function(t){var n="";for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"production"!==e.env.NODE_ENV&&_(r,i),null!=i&&(n+=l(r)+":",n+=s(r,i)+";")}return n||null},setValueForStyles:function(t,n){var i=t.style;for(var o in n)if(n.hasOwnProperty(o)){"production"!==e.env.NODE_ENV&&_(o,n[o]);var a=s(o,n[o]);if("float"===o&&(o=p),a)i[o]=a;else{var u=r.shorthandPropertyExpansions[o];if(u)for(var c in u)i[c]="";else i[o]=""}}}};t.exports=b}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(){if(a)for(var t in u){var n=u[t],r=a.indexOf(t);if("production"!==e.env.NODE_ENV?s(r>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t):s(r>-1),!c.plugins[r]){"production"!==e.env.NODE_ENV?s(n.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t):s(n.extractEvents),c.plugins[r]=n;var o=n.eventTypes;for(var l in o)"production"!==e.env.NODE_ENV?s(i(o[l],n,l),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,t):s(i(o[l],n,l))}}}function i(t,n,r){"production"!==e.env.NODE_ENV?s(!c.eventNameDispatchConfigs.hasOwnProperty(r),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):s(!c.eventNameDispatchConfigs.hasOwnProperty(r)),c.eventNameDispatchConfigs[r]=t;var i=t.phasedRegistrationNames;if(i){for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];o(u,n,r)}return!0}return t.registrationName?(o(t.registrationName,n,r),!0):!1}function o(t,n,r){"production"!==e.env.NODE_ENV?s(!c.registrationNameModules[t],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t):s(!c.registrationNameModules[t]),c.registrationNameModules[t]=n,c.registrationNameDependencies[t]=n.eventTypes[r].dependencies}var s=n(3),a=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){"production"!==e.env.NODE_ENV?s(!a,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):s(!a),a=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var n=!1;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];u.hasOwnProperty(i)&&u[i]===o||("production"!==e.env.NODE_ENV?s(!u[i],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i):s(!u[i]),u[i]=o,n=!0)}n&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){a=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=c}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,e){this.props=t,this.context=e}var i=n(83),o=n(3),s=n(7);if(r.prototype.setState=function(t,n){"production"!==e.env.NODE_ENV?o("object"==typeof t||"function"==typeof t||null==t,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):o("object"==typeof t||"function"==typeof t||null==t),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),i.enqueueSetState(this,t),n&&i.enqueueCallback(this,n)},r.prototype.forceUpdate=function(t){i.enqueueForceUpdate(this),t&&i.enqueueCallback(this,t)},"production"!==e.env.NODE_ENV){var a={getDOMNode:"getDOMNode",isMounted:"isMounted",replaceProps:"replaceProps",
replaceState:"replaceState",setProps:"setProps"},u=function(t,n){try{Object.defineProperty(r.prototype,t,{get:function(){return void("production"!==e.env.NODE_ENV?s(!1,"%s(...) is deprecated in plain JavaScript React classes.",n):null)}})}catch(i){}};for(var c in a)a.hasOwnProperty(c)&&u(c,a[c])}t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(109),i=n(178),o=n(41),s=n(13),a=n(22),u=n(3),c=n(91),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},p={updatePropertyByID:function(t,n,r){var i=s.getNode(t);"production"!==e.env.NODE_ENV?u(!l.hasOwnProperty(n),"updatePropertyByID(...): %s",l[n]):u(!l.hasOwnProperty(n)),null!=r?o.setValueForProperty(i,n,r):o.deleteValueForProperty(i,n)},deletePropertyByID:function(t,n,r){var i=s.getNode(t);"production"!==e.env.NODE_ENV?u(!l.hasOwnProperty(n),"updatePropertyByID(...): %s",l[n]):u(!l.hasOwnProperty(n)),o.deleteValueForProperty(i,n,r)},updateStylesByID:function(t,e){var n=s.getNode(t);r.setValueForStyles(n,e)},updateInnerHTMLByID:function(t,e){var n=s.getNode(t);c(n,e)},updateTextContentByID:function(t,e){var n=s.getNode(t);i.updateTextContent(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=s.getNode(t);i.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=s.getNode(t[n].parentID);i.processUpdates(t,e)}};a.measureMethods(p,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=p}).call(e,n(1))},function(t,e,n){"use strict";var r=n(41),i=n(76),o=n(79),s=n(4),a=n(60),u=function(t){};s(u.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var i=a(this._stringText);return e.renderToStaticMarkup?i:"<span "+r.createMarkupForID(t)+">"+i+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=u},function(t,e,n){"use strict";function r(t){return o(document.documentElement,t)}var i=n(198),o=n(121),s=n(123),a=n(124),u={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=a(),n=t.focusedElem,i=t.selectionRange;e!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),s(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if("undefined"==typeof r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(t,e)}};t.exports=u},function(t,e,n){"use strict";var r=n(226),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return t.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var n=e.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(t);return o===n}};t.exports=i},function(t,e,n){"use strict";var r=n(46),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},function(t,e,n){"use strict";function r(t){function e(e,n,r,i,o){if(i=i||E,null==n[r]){var s=_[o];return e?new Error("Required "+s+" `"+r+"` was not specified in "+("`"+i+"`.")):null}return t(n,r,i,o)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function i(t){function e(e,n,r,i){var o=e[n],s=m(o);if(s!==t){var a=_[i],u=g(o);return new Error("Invalid "+a+" `"+n+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `"+t+"`."))}return null}return r(e)}function o(){return r(b.thatReturns(null))}function s(t){function e(e,n,r,i){var o=e[n];if(!Array.isArray(o)){var s=_[i],a=m(o);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<o.length;u++){var c=t(o,u,r,i);if(c instanceof Error)return c}return null}return r(e)}function a(){function t(t,e,n,r){if(!v.isValidElement(t[e])){var i=_[r];return new Error("Invalid "+i+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(t)}function u(t){function e(e,n,r,i){if(!(e[n]instanceof t)){var o=_[i],s=t.name||E;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+s+"`."))}return null}return r(e)}function c(t){function e(e,n,r,i){for(var o=e[n],s=0;s<t.length;s++)if(o===t[s])return null;var a=_[i],u=JSON.stringify(t);return new Error("Invalid "+a+" `"+n+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(e)}function l(t){function e(e,n,r,i){var o=e[n],s=m(o);if("object"!==s){var a=_[i];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in o)if(o.hasOwnProperty(u)){var c=t(o,u,r,i);if(c instanceof Error)return c}return null}return r(e)}function p(t){function e(e,n,r,i){for(var o=0;o<t.length;o++){var s=t[o];if(null==s(e,n,r,i))return null}var a=_[i];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`."))}return r(e)}function f(){function t(t,e,n,r){if(!h(t[e])){var i=_[r];return new Error("Invalid "+i+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(t)}function d(t){function e(e,n,r,i){var o=e[n],s=m(o);if("object"!==s){var a=_[i];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in t){var c=t[u];if(c){var l=c(o,u,r,i);if(l)return l}}return null}return r(e)}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||v.isValidElement(t))return!0;t=y.extractIfFragment(t);for(var e in t)if(!h(t[e]))return!1;return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var v=n(5),y=n(54),_=n(56),b=n(23),E="<<anonymous>>",x=a(),w=f(),S={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:s,element:x,instanceOf:u,node:w,objectOf:l,oneOf:c,oneOfType:p,shape:d};t.exports=S},function(t,e,n){"use strict";function r(){this.listenersToPut=[]}var i=n(18),o=n(33),s=n(4);s(r.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];o.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r={injectCreateReactRootIndex:function(t){i.createReactRootIndex=t}},i={createReactRootIndex:null,injection:r};t.exports=i},function(t,e,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){r.currentScrollLeft=t.x,r.currentScrollTop=t.y}};t.exports=r},function(t,e,n){function r(t,e){return t&&e?t===e?!0:i(t)?!1:i(e)?r(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var i=n(240);t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){if("production"!==e.env.NODE_ENV){var n=i.current;null!==n&&("production"!==e.env.NODE_ENV?c(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):null,n._warnedAboutRefsInRender=!0)}return null==t?null:u(t)?t:o.has(t)?s.getNodeFromInstance(t):("production"!==e.env.NODE_ENV?a(null==t.render||"function"!=typeof t.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(t)):a(null==t.render||"function"!=typeof t.render),void("production"!==e.env.NODE_ENV?a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)):a(!1)))}var i=n(20),o=n(35),s=n(13),a=n(3),u=n(128),c=n(7);t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";function r(t){try{t.focus()}catch(e){}}t.exports=r},function(t,e,n){function r(){try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=r},function(t,e,n){"use strict";function r(t){var e=t&&(i&&t[i]||t[o]);return"function"==typeof e?e:void 0}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=r},function(t,e,n){(function(e){function r(t){return"production"!==e.env.NODE_ENV?o(!!s,"Markup wrapping node not initialized"):o(!!s),f.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||(s.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?f[t]:null}var i=n(8),o=n(3),s=i.canUseDOM?document.createElement("div"):null,a={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,"<svg>","</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l,circle:p,defs:p,ellipse:p,g:p,line:p,linearGradient:p,path:p,polygon:p,polyline:p,radialGradient:p,rect:p,stop:p,text:p};t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(8),o=null;t.exports=r},function(t,e,n){function r(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=r},function(t,e,n){"use strict";function r(t){return t&&("INPUT"===t.nodeName&&i[t.type]||"TEXTAREA"===t.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){return v[t]}function i(t,e){return t&&null!=t.key?s(t.key):e.toString(36)}function o(t){return(""+t).replace(y,r)}function s(t){return"$"+o(t)}function a(t,n,r,o,u){var p=typeof t;if(("undefined"===p||"boolean"===p)&&(t=null),null===t||"string"===p||"number"===p||c.isValidElement(t))return o(u,t,""===n?m+i(t,0):n,r),1;var v,y,b,E=0;if(Array.isArray(t))for(var x=0;x<t.length;x++)v=t[x],y=(""!==n?n+g:m)+i(v,x),b=r+E,E+=a(v,y,b,o,u);else{var w=f(t);if(w){var S,C=w.call(t);if(w!==t.entries)for(var N=0;!(S=C.next()).done;)v=S.value,y=(""!==n?n+g:m)+i(v,N++),b=r+E,E+=a(v,y,b,o,u);else for("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?h(_,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,_=!0);!(S=C.next()).done;){var O=S.value;O&&(v=O[1],y=(""!==n?n+g:m)+s(O[0])+g+i(v,0),b=r+E,E+=a(v,y,b,o,u))}}else if("object"===p){"production"!==e.env.NODE_ENV?d(1!==t.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):d(1!==t.nodeType);var T=l.extract(t);for(var D in T)T.hasOwnProperty(D)&&(v=T[D],y=(""!==n?n+g:m)+s(D)+g+i(v,0),b=r+E,E+=a(v,y,b,o,u))}}return E}function u(t,e,n){return null==t?0:a(t,"",0,e,n)}var c=n(5),l=n(54),p=n(34),f=n(125),d=n(3),h=n(7),m=p.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,_=!1;t.exports=u}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t,n){var r=this;o.call(this),r.sm=t,r.closing=!1,r.stanzas={Open:n.getDefinition("open","urn:ietf:params:xml:ns:xmpp-framing",!0),Close:n.getDefinition("close","urn:ietf:params:xml:ns:xmpp-framing",!0),StreamError:n.getStreamError()},r.sendQueue=s.queue(function(t,n){r.conn&&("string"!=typeof t&&(t=t.toString()),t=new e(t,"utf8").toString(),r.emit("raw:outgoing",t),r.conn.readyState===u&&r.conn.send(t)),n()},1),r.on("connected",function(){r.send(r.startHeader())}),r.on("raw:incoming",function(t){var e,i;if(t=t.trim(),""!==t){try{e=n.parse(t)}catch(o){return i=new this.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",i,o),r.send(i),r.disconnect()}if("openStream"===e._name)return r.hasStream=!0,r.stream=e,r.emit("stream:start",e.toJSON());if("closeStream"===e._name)return r.emit("stream:end"),r.disconnect();!e.lang&&r.stream&&(e.lang=r.stream.lang),r.emit("stream:data",e)}})}var i=n(6),o=n(15),s=n(47),a=n(105)&&n(105).Client?n(105).Client:window.WebSocket,u=1;i.inherits(r,o),r.prototype.connect=function(t){var n=this;n.config=t,n.hasStream=!1,n.closing=!1,n.conn=new a(t.wsURL,"xmpp"),n.conn.onerror=function(t){t.preventDefault(),n.emit("disconnected",n)},n.conn.onclose=function(){n.emit("disconnected",n)},n.conn.onopen=function(){n.sm.started=!1,n.emit("connected",n)},n.conn.onmessage=function(t){n.emit("raw:incoming",new e(t.data,"utf8").toString())}},r.prototype.startHeader=function(){return new this.stanzas.Open({version:this.config.version||"1.0",lang:this.config.lang||"en",to:this.config.server})},r.prototype.closeHeader=function(){return new this.stanzas.Close},r.prototype.disconnect=function(){this.conn&&!this.closing?(this.closing=!0,this.send(this.closeHeader())):(this.hasStream=!1,this.stream=void 0,this.conn.readyState===u&&this.conn.close(),this.conn=void 0)},r.prototype.restart=function(){var t=this;t.hasStream=!1,t.send(this.startHeader())},r.prototype.send=function(t){this.sendQueue.push(t)},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=m,d.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function p(t){return i(t,17)^i(t,19)^o(t,10)}var f=n(29),d=n(37),h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=new Array(64);f(r,d),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){function e(){return p(r[_-2])+r[_-7]+l(r[_-15])+r[_-16]}function n(t){r[_]=t;var e=y+c(m)+s(m,g,v)+h[_]+t,n=u(i)+a(i,o,f);y=v,v=g,g=m,m=d+e,d=f,f=o,o=i,i=e+n,_++}for(var r=this._w,i=0|this._a,o=0|this._b,f=0|this._c,d=0|this._d,m=0|this._e,g=0|this._f,v=0|this._g,y=0|this._h,_=0;16>_;)n(t.readInt32BE(4*_));for(;64>_;)n(e());this._a=i+this._a|0,this._b=o+this._b|0,this._c=f+this._c|0,this._d=d+this._d|0,this._e=m+this._e|0,this._f=g+this._f|0,this._g=v+this._g|0,this._h=y+this._h|0},r.prototype._hash=function(){var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=l,u.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}var a=n(29),u=n(37),c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);a(r,u),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},r.prototype._update=function(t){function e(){var t=u[O-30],e=u[O-30+1],n=i(t,e,1)^i(t,e,8)^t>>>7,o=i(e,t,1)^i(e,t,8)^i(e,t,7);t=u[O-4],e=u[O-4+1];var s=i(t,e,19)^i(e,t,29)^t>>>6,c=i(e,t,19)^i(t,e,29)^i(e,t,6),l=u[O-14],p=u[O-14+1],f=u[O-32],d=u[O-32+1];a=o+p,r=n+l+(o>>>0>a>>>0?1:0),a+=c,r=r+s+(c>>>0>a>>>0?1:0),a+=d,r=r+f+(d>>>0>a>>>0?1:0)}function n(){u[O]=r,u[O+1]=a;var t=s(l,p,f),e=s(y,_,b),n=i(l,y,28)^i(y,l,2)^i(y,l,7),T=i(y,l,28)^i(l,y,2)^i(l,y,7),D=i(h,x,14)^i(h,x,18)^i(x,h,9),j=i(x,h,14)^i(x,h,18)^i(h,x,9),I=c[O],A=c[O+1],R=o(h,m,g),k=o(x,w,S),P=C+j,M=v+D+(C>>>0>P>>>0?1:0);P+=k,M=M+R+(k>>>0>P>>>0?1:0),P+=A,M=M+I+(A>>>0>P>>>0?1:0),P+=a,M=M+r+(a>>>0>P>>>0?1:0);var L=T+e,F=n+t+(T>>>0>L>>>0?1:0);v=g,C=S,g=m,S=w,m=h,w=x,x=E+P|0,h=d+M+(E>>>0>x>>>0?1:0)|0,d=f,E=b,f=p,b=_,p=l,_=y,y=P+L|0,l=M+F+(P>>>0>y>>>0?1:0)|0,N++,O+=2}for(var r,a,u=this._w,l=0|this._a,p=0|this._b,f=0|this._c,d=0|this._d,h=0|this._e,m=0|this._f,g=0|this._g,v=0|this._h,y=0|this._al,_=0|this._bl,b=0|this._cl,E=0|this._dl,x=0|this._el,w=0|this._fl,S=0|this._gl,C=0|this._hl,N=0,O=0;16>N;)r=t.readInt32BE(4*O),a=t.readInt32BE(4*O+4),n();for(;80>N;)e(),n();this._al=this._al+y|0,this._bl=this._bl+_|0,this._cl=this._cl+b|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+C|0,this._a=this._a+l+(this._al>>>0<y>>>0?1:0)|0,this._b=this._b+p+(this._bl>>>0<_>>>0?1:0)|0,this._c=this._c+f+(this._cl>>>0<b>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<E>>>0?1:0)|0,this._e=this._e+h+(this._el>>>0<x>>>0?1:0)|0,this._f=this._f+m+(this._fl>>>0<w>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<S>>>0?1:0)|0,this._h=this._h+v+(this._hl>>>0<C>>>0?1:0)|0},r.prototype._hash=function(){function t(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new e(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),n},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){"use strict";function r(t){c.call(this),this._hash=t,this.buffers=[]}function i(t){c.call(this),this._hash=t}var o=n(30),s=n(380),a=n(381),u=n(382),c=n(17).Transform;o(r,c),r.prototype._transform=function(t,e,n){this.buffers.push(t),n()},r.prototype._flush=function(t){this.push(this.digest()),t()},r.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this.buffers.push(t),this},r.prototype.digest=function(t){var n=e.concat(this.buffers),r=this._hash(n);return this.buffers=null,t?r.toString(t):r},o(i,c),i.prototype._transform=function(t,n,r){n&&(t=new e(t,n)),this._hash.update(t),r()},i.prototype._flush=function(t){this.push(this._hash.digest()),this._hash=null,t()},i.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},i.prototype.digest=function(t){var e=this._hash.digest();return t?e.toString(t):e},t.exports=function(t){return"md5"===t?new r(s):"rmd160"===t?new r(a):new i(u(t))}}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=m,d.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function p(t){return i(t,17)^i(t,19)^o(t,10)}var f=n(30),d=n(38),h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=new Array(64);f(r,d),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){function e(){return p(r[_-2])+r[_-7]+l(r[_-15])+r[_-16]}function n(t){r[_]=t;var e=y+c(m)+s(m,g,v)+h[_]+t,n=u(i)+a(i,o,f);y=v,v=g,g=m,m=d+e,d=f,f=o,o=i,i=e+n,_++}for(var r=this._w,i=0|this._a,o=0|this._b,f=0|this._c,d=0|this._d,m=0|this._e,g=0|this._f,v=0|this._g,y=0|this._h,_=0;16>_;)n(t.readInt32BE(4*_));for(;64>_;)n(e());this._a=i+this._a|0,this._b=o+this._b|0,this._c=f+this._c|0,this._d=d+this._d|0,this._e=m+this._e|0,this._f=g+this._f|0,this._g=v+this._g|0,this._h=y+this._h|0},r.prototype._hash=function(){var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=l,u.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}var a=n(30),u=n(38),c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);a(r,u),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},r.prototype._update=function(t){function e(){var t=u[O-30],e=u[O-30+1],n=i(t,e,1)^i(t,e,8)^t>>>7,o=i(e,t,1)^i(e,t,8)^i(e,t,7);t=u[O-4],e=u[O-4+1];var s=i(t,e,19)^i(e,t,29)^t>>>6,c=i(e,t,19)^i(t,e,29)^i(e,t,6),l=u[O-14],p=u[O-14+1],f=u[O-32],d=u[O-32+1];a=o+p,r=n+l+(o>>>0>a>>>0?1:0),a+=c,r=r+s+(c>>>0>a>>>0?1:0),a+=d,r=r+f+(d>>>0>a>>>0?1:0)}function n(){u[O]=r,u[O+1]=a;var t=s(l,p,f),e=s(y,_,b),n=i(l,y,28)^i(y,l,2)^i(y,l,7),T=i(y,l,28)^i(l,y,2)^i(l,y,7),D=i(h,x,14)^i(h,x,18)^i(x,h,9),j=i(x,h,14)^i(x,h,18)^i(h,x,9),I=c[O],A=c[O+1],R=o(h,m,g),k=o(x,w,S),P=C+j,M=v+D+(C>>>0>P>>>0?1:0);P+=k,M=M+R+(k>>>0>P>>>0?1:0),P+=A,M=M+I+(A>>>0>P>>>0?1:0),P+=a,M=M+r+(a>>>0>P>>>0?1:0);var L=T+e,F=n+t+(T>>>0>L>>>0?1:0);v=g,C=S,g=m,S=w,m=h,w=x,x=E+P|0,h=d+M+(E>>>0>x>>>0?1:0)|0,d=f,E=b,f=p,b=_,p=l,_=y,y=P+L|0,l=M+F+(P>>>0>y>>>0?1:0)|0,N++,O+=2}for(var r,a,u=this._w,l=0|this._a,p=0|this._b,f=0|this._c,d=0|this._d,h=0|this._e,m=0|this._f,g=0|this._g,v=0|this._h,y=0|this._al,_=0|this._bl,b=0|this._cl,E=0|this._dl,x=0|this._el,w=0|this._fl,S=0|this._gl,C=0|this._hl,N=0,O=0;16>N;)r=t.readInt32BE(4*O),a=t.readInt32BE(4*O+4),n();for(;80>N;)e(),n();this._al=this._al+y|0,this._bl=this._bl+_|0,this._cl=this._cl+b|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+C|0,this._a=this._a+l+(this._al>>>0<y>>>0?1:0)|0,this._b=this._b+p+(this._bl>>>0<_>>>0?1:0)|0,this._c=this._c+f+(this._cl>>>0<b>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<E>>>0?1:0)|0,this._e=this._e+h+(this._el>>>0<x>>>0?1:0)|0,this._f=this._f+m+(this._fl>>>0<w>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<S>>>0?1:0)|0,this._h=this._h+v+(this._hl>>>0<C>>>0?1:0)|0},r.prototype._hash=function(){function t(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new e(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),n},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){t.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},function(t,e,n){t.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},function(t,e,n){"use strict";function r(){o.EventEmitter.call(this),this.parser=new s;var t=this;this.parser.on("startNode",function(e,n,r){if(n=n(),n===!1)return t.emit("error","attr char"),!1;for(var i in n)n[i]=r(n[i]);t.emit("startElement",e,n)}),this.parser.on("endNode",function(e){t.emit("endElement",e)}),this.parser.on("textNode",function(e,n){t.emit("text",n(e))}),this.parser.on("cdata",function(e){t.emit("text",e)}),this.parser.on("error",function(e){t.emit("error",e)});var e="";this.write=function(t){e+="string"!=typeof t?t.toString():t},this.end=function(t){e+="string"!=typeof t?t.toString():t,this.parser(e),e=""}}var i=n(6),o=n(16),s=n(168);t.exports=r,i.inherits(r,o.EventEmitter)},function(t,e,n){"use strict";var r=n(6),i=n(16),o=n(432),s=t.exports=function(){i.EventEmitter.call(this),this.parser=new o.Parser("UTF-8");var t=this;this.parser.on("startElement",function(e,n){t.emit("startElement",e,n)}),this.parser.on("endElement",function(e){t.emit("endElement",e)}),this.parser.on("text",function(e){t.emit("text",e)})};r.inherits(s,i.EventEmitter),s.prototype.write=function(t){this.parser.parse(t,!1)||(this.emit("error",new Error(this.parser.getError())),this.write=function(){},this.end=function(){})},s.prototype.end=function(){this.parser.parse("",!0)?this.emit("end"):this.emit("error",new Error(this.parser.getError()))}},function(t,e,n){"use strict";function r(t){return t.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"').replace(/\&apos;/g,"'")}var i=n(6),o=n(16),s=n(173),a=t.exports=function(){
o.EventEmitter.call(this);var t=this;this.parser=new s.SaxParser(function(e){e.onStartElementNS(function(e,n,i,o,s){var a,u={};for(i&&(e=i+":"+e),a=0;a<n.length;a++){var c=n[a];u[c[0]]=r(c[1])}for(a=0;a<s.length;a++){var l=s[a],p=l[0]?"xmlns:"+l[0]:"xmlns";u[p]=r(l[1])}t.emit("startElement",e,u)}),e.onEndElementNS(function(e,n){n&&(e=n+":"+e),t.emit("endElement",e)}),e.onCharacters(function(e){t.emit("text",e)}),e.onCdata(function(e){t.emit("text",e)}),e.onError(function(e){t.emit("error",e)})})};i.inherits(a,o.EventEmitter),a.prototype.write=function(t){this.parser.parseString(t)},a.prototype.end=function(t){t&&this.write(t)}},function(t,e,n){"use strict";var r=n(6),i=n(16),o=n(433),s=t.exports=function(){i.EventEmitter.call(this),this.parser=o.parser(!0);var t=this;this.parser.onopentag=function(e){t.emit("startElement",e.name,e.attributes)},this.parser.onclosetag=function(e){t.emit("endElement",e)},this.parser.ontext=function(e){t.emit("text",e)},this.parser.onend=function(){t.emit("end")},this.parser.onerror=function(e){t.emit("error",e)}};r.inherits(s,i.EventEmitter),s.prototype.write=function(t){"string"!=typeof t&&(t=t.toString()),this.parser.write(t)},s.prototype.end=function(t){t&&this.parser.write(t),this.parser.close()}},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./bindings":100,"./bindings.js":100};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=143},function(t,e,n){function r(t,e,n){var r=a(t)?i:s;return e=o(e,n,3),r(t,e)}{var i=n(442),o=n(443),s=n(447),a=n(9);n(68)}t.exports=r},function(t,e,n){function r(t,e){return t=+t,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function o(t){for(var e=a(t),n=e.length,o=n&&t.length,s=o&&i(o)&&(c(t)||g.nonEnumArgs&&u(t)),l=-1,p=[];++l<n;){var d=e[l];(s&&r(d,o)||f.call(t,d))&&p.push(d)}return p}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(c(t)||g.nonEnumArgs&&u(t))&&e||0;for(var n=t.constructor,o=-1,a="function"==typeof n&&n.prototype===t,l=Array(e),p=e>0;++o<e;)l[o]=o+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||l.push(d);return l}var u=n(462),c=n(9),l=n(101),p=Object.prototype,f=p.hasOwnProperty,d=p.propertyIsEnumerable,h=l(h=Object.keys)&&h,m=Math.pow(2,53)-1,g={};!function(t){try{g.nonEnumArgs=!d.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var v=h?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&i(n)?o(t):s(t)?h(t):[]}:o;t.exports=v},function(t,e,n){(function(e){"use strict";function r(t){c.call(this),this._hash=t,this.buffers=[]}function i(t){c.call(this),this._hash=t}var o=n(31),s=n(479),a=n(480),u=n(481),c=n(17).Transform;o(r,c),r.prototype._transform=function(t,e,n){this.buffers.push(t),n()},r.prototype._flush=function(t){this.push(this.digest()),t()},r.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this.buffers.push(t),this},r.prototype.digest=function(t){var n=e.concat(this.buffers),r=this._hash(n);return this.buffers=null,t?r.toString(t):r},o(i,c),i.prototype._transform=function(t,n,r){n&&(t=new e(t,n)),this._hash.update(t),r()},i.prototype._flush=function(t){this.push(this._hash.digest()),this._hash=null,t()},i.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},i.prototype.digest=function(t){var e=this._hash.digest();return t?e.toString(t):e},t.exports=function(t){return"md5"===t?new r(s):"rmd160"===t?new r(a):new i(u(t))}}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=m,d.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function p(t){return i(t,17)^i(t,19)^o(t,10)}var f=n(31),d=n(40),h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=new Array(64);f(r,d),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){function e(){return p(r[_-2])+r[_-7]+l(r[_-15])+r[_-16]}function n(t){r[_]=t;var e=y+c(m)+s(m,g,v)+h[_]+t,n=u(i)+a(i,o,f);y=v,v=g,g=m,m=d+e,d=f,f=o,o=i,i=e+n,_++}for(var r=this._w,i=0|this._a,o=0|this._b,f=0|this._c,d=0|this._d,m=0|this._e,g=0|this._f,v=0|this._g,y=0|this._h,_=0;16>_;)n(t.readInt32BE(4*_));for(;64>_;)n(e());this._a=i+this._a|0,this._b=o+this._b|0,this._c=f+this._c|0,this._d=d+this._d|0,this._e=m+this._e|0,this._f=g+this._f|0,this._g=v+this._g|0,this._h=y+this._h|0},r.prototype._hash=function(){var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=l,u.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}var a=n(31),u=n(40),c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);a(r,u),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},r.prototype._update=function(t){function e(){var t=u[O-30],e=u[O-30+1],n=i(t,e,1)^i(t,e,8)^t>>>7,o=i(e,t,1)^i(e,t,8)^i(e,t,7);t=u[O-4],e=u[O-4+1];var s=i(t,e,19)^i(e,t,29)^t>>>6,c=i(e,t,19)^i(t,e,29)^i(e,t,6),l=u[O-14],p=u[O-14+1],f=u[O-32],d=u[O-32+1];a=o+p,r=n+l+(o>>>0>a>>>0?1:0),a+=c,r=r+s+(c>>>0>a>>>0?1:0),a+=d,r=r+f+(d>>>0>a>>>0?1:0)}function n(){u[O]=r,u[O+1]=a;var t=s(l,p,f),e=s(y,_,b),n=i(l,y,28)^i(y,l,2)^i(y,l,7),T=i(y,l,28)^i(l,y,2)^i(l,y,7),D=i(h,x,14)^i(h,x,18)^i(x,h,9),j=i(x,h,14)^i(x,h,18)^i(h,x,9),I=c[O],A=c[O+1],R=o(h,m,g),k=o(x,w,S),P=C+j,M=v+D+(C>>>0>P>>>0?1:0);P+=k,M=M+R+(k>>>0>P>>>0?1:0),P+=A,M=M+I+(A>>>0>P>>>0?1:0),P+=a,M=M+r+(a>>>0>P>>>0?1:0);var L=T+e,F=n+t+(T>>>0>L>>>0?1:0);v=g,C=S,g=m,S=w,m=h,w=x,x=E+P|0,h=d+M+(E>>>0>x>>>0?1:0)|0,d=f,E=b,f=p,b=_,p=l,_=y,y=P+L|0,l=M+F+(P>>>0>y>>>0?1:0)|0,N++,O+=2}for(var r,a,u=this._w,l=0|this._a,p=0|this._b,f=0|this._c,d=0|this._d,h=0|this._e,m=0|this._f,g=0|this._g,v=0|this._h,y=0|this._al,_=0|this._bl,b=0|this._cl,E=0|this._dl,x=0|this._el,w=0|this._fl,S=0|this._gl,C=0|this._hl,N=0,O=0;16>N;)r=t.readInt32BE(4*O),a=t.readInt32BE(4*O+4),n();for(;80>N;)e(),n();this._al=this._al+y|0,this._bl=this._bl+_|0,this._cl=this._cl+b|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+C|0,this._a=this._a+l+(this._al>>>0<y>>>0?1:0)|0,this._b=this._b+p+(this._bl>>>0<_>>>0?1:0)|0,this._c=this._c+f+(this._cl>>>0<b>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<E>>>0?1:0)|0,this._e=this._e+h+(this._el>>>0<x>>>0?1:0)|0,this._f=this._f+m+(this._fl>>>0<w>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<S>>>0?1:0)|0,this._h=this._h+v+(this._hl>>>0<C>>>0?1:0)|0},r.prototype._hash=function(){function t(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new e(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),n},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){function r(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>i&&(e[r+i++]=c[t])});16>i;)e[r+i++]=0;return e}function i(t,e){var n=e||0,r=u;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function o(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var s=void 0!==t.clockseq?t.clockseq:d,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:m+1,c=a-h+(u-m)/1e4;if(0>c&&void 0===t.clockseq&&(s=s+1&16383),(0>c||a>h)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=a,m=u,d=s,a+=122192928e5;var l=(1e4*(268435455&a)+u)%4294967296;o[r++]=l>>>24&255,o[r++]=l>>>16&255,o[r++]=l>>>8&255,o[r++]=255&l;var p=a/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var g=t.node||f,v=0;6>v;v++)o[r+v]=g[v];return e?e:i(o)}function s(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;16>s;s++)e[r+s]=o[s];return e||i(o)}for(var a=n(491),u=[],c={},l=0;256>l;l++)u[l]=(l+256).toString(16).substr(1),c[u[l]]=l;var p=a(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],d=16383&(p[6]<<8|p[7]),h=0,m=0,g=s;g.v1=o,g.v4=s,g.parse=r,g.unparse=i,t.exports=g},function(t,e,n){"use strict";function r(t,e){function n(){4===p.readyState&&o()}function r(){var t=void 0;if(p.response?t=p.response:"text"!==p.responseType&&p.responseType||(t=p.responseText||p.responseXML),_)try{t=JSON.parse(t)}catch(e){}return t}function i(t){clearTimeout(d),t instanceof Error||(t=new Error(""+(t||"unknown"))),t.statusCode=0,e(t,l)}function o(){clearTimeout(d);var t=1223===p.status?204:p.status,n=l,i=null;0!==t?(n={body:r(),statusCode:t,method:m,headers:{},url:h,rawRequest:p},p.getAllResponseHeaders&&(n.headers=a(p.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e(i,n,n.body)}var l={body:void 0,headers:{},statusCode:0,method:m,url:h,rawRequest:p};if("string"==typeof t&&(t={uri:t}),t=t||{},"undefined"==typeof e)throw new Error("callback argument missing");e=s(e);var p=t.xhr||null;p||(p=t.cors||t.useXDR?new c:new u);var f,d,h=p.url=t.uri||t.url,m=p.method=t.method||"GET",g=t.body||t.data,v=p.headers=t.headers||{},y=!!t.sync,_=!1;if("json"in t&&(_=!0,v.Accept||(v.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(v["Content-Type"]="application/json",g=JSON.stringify(t.json))),p.onreadystatechange=n,p.onload=o,p.onerror=i,p.onprogress=function(){},p.ontimeout=i,p.open(m,h,!y),p.withCredentials=!!t.withCredentials,!y&&t.timeout>0&&(d=setTimeout(function(){p.abort("timeout")},t.timeout+2)),p.setRequestHeader)for(f in v)v.hasOwnProperty(f)&&p.setRequestHeader(f,v[f]);else if(t.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(p.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(p),p.send(g),p}function i(){}var o=n(492),s=n(493),a=n(497),u=o.XMLHttpRequest||i,c="withCredentials"in new u?u:o.XDomainRequest;t.exports=r},function(t,e,n){},function(t,e,n){function r(t){return this instanceof r?void i.call(this,t):new r(t)}t.exports=r;var i=n(102),o=n(49);o.inherits=n(50),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){(function(e){function r(t,e){var r=n(32);t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(T||(T=n(104).StringDecoder),this.decoder=new T(t.encoding),this.encoding=t.encoding)}function i(t){n(32);return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void N.call(this)):new i(t)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(O.isNullOrUndefined(n))e.reading=!1,e.ended||l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||i||r||(n=e.decoder.write(n)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&p(t)),d(t,e);else i||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){if(t>=j)t=j;else{t--;for(var e=1;32>e;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||O.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return O.isBuffer(e)||O.isString(e)||O.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,p(t)}function p(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(D("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?e.nextTick(function(){f(t)}):f(t))}function f(t){D("emit readable"),t.emit("readable"),y(t)}function d(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){h(t,n)}))}function h(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(D("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;D("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&C.listenerCount(t,"data")&&(e.flowing=!0,y(t))}}function g(t,n){n.resumeScheduled||(n.resumeScheduled=!0,e.nextTick(function(){v(t,n)}))}function v(t,e){e.resumeScheduled=!1,t.emit("resume"),y(t),e.flowing&&!e.reading&&t.read(0)}function y(t){var e=t._readableState;if(D("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function _(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(t<r[0].length){var a=r[0];n=a.slice(0,t),r[0]=a.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":new S(t);for(var u=0,c=0,l=r.length;l>c&&t>u;c++){var a=r[0],p=Math.min(t-u,a.length);o?n+=a.slice(0,p):a.copy(n,u,0,p),p<a.length?r[0]=a.slice(p):r.shift(),u+=p}}return n}function b(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function E(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}function x(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}t.exports=i;var w=n(509),S=n(2).Buffer;i.ReadableState=r;var C=n(16).EventEmitter;C.listenerCount||(C.listenerCount=function(t,e){return t.listeners(e).length});var N=n(17),O=n(49);O.inherits=n(50);var T,D=n(517);D=D&&D.debuglog?D.debuglog("stream"):function(){},O.inherits(i,N),i.prototype.push=function(t,e){var n=this._readableState;return O.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=new S(t,e),e="")),o(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.setEncoding=function(t){return T||(T=n(104).StringDecoder),this._readableState.decoder=new T(t),this._readableState.encoding=t,this};var j=8388608;i.prototype.read=function(t){D("read",t);var e=this._readableState,n=t;if((!O.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return D("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?b(this):p(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&b(this),null;var r=e.needReadable;D("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,D("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,D("reading or ended",r)),r&&(D("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return i=t>0?_(t,e):null,O.isNull(i)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&b(this),O.isNull(i)||this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,n){function r(t){D("onunpipe"),t===p&&o()}function i(){D("onend"),t.end()}function o(){D("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",g),t.removeListener("error",a),t.removeListener("unpipe",r),p.removeListener("end",i),p.removeListener("end",o),p.removeListener("data",s),!f.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function s(e){D("ondata");var n=t.write(e);!1===n&&(D("false write response, pause",p._readableState.awaitDrain),p._readableState.awaitDrain++,p.pause())}function a(e){D("onerror",e),l(),t.removeListener("error",a),0===C.listenerCount(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),l()}function c(){D("onfinish"),t.removeListener("close",u),l()}function l(){D("unpipe"),p.unpipe(t)}var p=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,D("pipe count=%d opts=%j",f.pipesCount,n);var d=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,h=d?i:o;f.endEmitted?e.nextTick(h):p.once("end",h),t.on("unpipe",r);var g=m(p);return t.on("drain",g),p.on("data",s),t._events&&t._events.error?w(t._events.error)?t._events.error.unshift(a):t._events.error=[a,t._events.error]:t.on("error",a),t.once("close",u),t.once("finish",c),t.emit("pipe",p),f.flowing||(D("pipe resume"),p.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=x(e.pipes,t);return-1===i?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,n){var r=N.prototype.on.call(this,t,n);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&p(this,i);else{var o=this;e.nextTick(function(){D("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(D("resume"),t.flowing=!0,t.reading||(D("resume read 0"),this.read(0)),g(this,t)),this},i.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(D("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(D("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)O.isFunction(t[i])&&O.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return E(o,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){D("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=_}).call(e,n(1))},function(t,e,n){"use strict";n(161),n(500),n(155);var r=n(28);window.React=r},function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function h(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:h(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(28),u=(n(160).VideoOverlay,n(158).ChatComponent),c=n(162),l=n(106),p=n(107),f=function(){return c.getAll()},d=function(t){function e(t){r(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state=f(),l.initClient(p)}return s(e,t),i(e,[{key:"componentDidMount",value:function(){c.addChangeListener(this._onChange.bind(this))}},{key:"componentWillUnmount",value:function(){c.removeChangeListener(this._onChange.bind(this))}},{key:"render",value:function(){var t=this.state.roster.map(function(t){return a.createElement("li",null,t)});return a.createElement("div",{id:"app"},a.createElement("ul",{id:"roster",style:{position:"absolute",right:0,width:"200px"}},t),a.createElement(u,this.state))}},{key:"_onChange",value:function(){this.setState(f())}}]),e}(a.Component);e.App=d,a.render(a.createElement(d,null),document.body)},function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(28),a=function(t){function e(){r(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,[{key:"bindMethods",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];n.forEach(function(e){return t[e]=t[e].bind(t)})}}]),e}(s.Component);e.BaseComponent=a},function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(28);n(501);var a={"muc:available":"joined","muc:unavailable":"left"},u=function(t){function e(){r(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,[{key:"componentDidUpdate",value:function(){this._scrollToBottom()}},{key:"render",value:function(){for(var t=[],e=[],n=1;n<=this.props.messages.length;n++){var r=this.props.messages[n-1];if("chat"===r.messageType){if(n!==this.props.messages.length&&r.payload.from.resource===this.props.messages[n].payload.from.resource&&"chat"===this.props.messages[n].messageType){e.push(s.createElement("div",{className:"message"},r.payload.message));continue}e.push(s.createElement("div",{className:"message"},r.payload.message)),t.push(s.createElement("li",{className:"entry"},s.createElement("div",{className:"message-container "+(r.mine?"mine":"")},s.createElement("div",{className:"from"},r.payload.from.resource),e))),e=[]}else t.push(s.createElement("li",{className:"entry"},s.createElement("div",{className:"info"},r.payload.from.resource," ",a[r.actionType]))),e=[]}return s.createElement("ul",{ref:"messageList",className:"chat-area"},t)}},{key:"_scrollToBottom",value:function(){var t=this.refs.messageList.getDOMNode();t.scrollTop=t.scrollHeight}}]),e}(s.Component);e.ChatArea=u,u.propTypes={messages:s.PropTypes.array}},function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(28),a=n(157).ChatArea,u=n(159).ChatControls;n(502);var c=function(t){function e(){r(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,[{key:"render",value:function(){return s.createElement("div",{id:"chat-component"},s.createElement(a,{messages:this.props.messages}),s.createElement(u,{nick:this.props.nick,roster:this.props.roster}))}}]),e}(s.Component);e.ChatComponent=c},function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function f(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:f(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(28),u=n(156).BaseComponent,c=n(106),l={initial:{instructions:"pick a handle",buttonText:"go"},app:{instructions:"",buttonText:"send"}};n(503);var p=function(t){function e(t){r(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state=this.props.nick?l.app:l.initial,this.bindMethods("handleInputKeydown","handleInputSubmit")}return s(e,t),i(e,[{key:"componentWillReceiveProps",value:function(t){this.setState(t.nick?l.app:l.initial)}},{key:"componentDidMount",value:function(){this.refs["message-input"].getDOMNode().focus()}},{key:"handleInputKeydown",value:function(t){13===t.which&&this.handleInputSubmit(t)}},{key:"handleInputSubmit",value:function(t){var e=this.refs["message-input"].getDOMNode(),n=e.value;n&&(this.props.nick?c.sendMessage(n):c.setNick(n,this.props.roster),e.value="")}},{key:"render",value:function(){return a.createElement("div",{className:"chat-controls"},a.createElement("p",null,this.state.instructions),a.createElement("input",{ref:"message-input",onKeyDown:this.handleInputKeydown}),a.createElement("button",{onClick:this.handleInputSubmit},this.state.buttonText))}}]),e}(u);e.ChatControls=p,p.propTypes={nick:a.PropTypes.string}},function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(28),a=function(t){function e(){r(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,[{key:"render",value:function(){return s.createElement("div",null," video aqui ")}}]),e}(s.Component);e.VideoOverlay=a},function(t,e,n){"use strict";Object.assign||(Object.assign=n(174))},function(t,e,n){"use strict";var r,i,o=n(16).EventEmitter,s=n(71),a=n(51),u=a.ActionTypes,c="change",l=[],p=[],f=Object.assign({},o.prototype,{emitChange:function(){this.emit(c)},addChangeListener:function(t){this.on(c,t)},removeChangeListener:function(t){this.removeListener(c,t)},getNick:function(){return r},getMessages:function(){return l},getJid:function(){return i},getAll:function(){return{nick:r,messages:l,jid:i,roster:p
}}});s.register(function(t){switch(t.type){case u.CONNECTED:i=t.payload.jid;break;case u.SET_NICK:r=t.payload.nick,console.log("nick set to ",r),f.emitChange();break;case u.GROUP_MESSAGE_SENT:break;case u.MUC_INFO:var e=t.payload,n=e.from.resource;if("muc:available"===t.actionType||"muc:unavailable"===t.actionType){if(0!==n.indexOf("guest")&&l.length&&l.push(t),"muc:available"===t.actionType)p.push(n);else{var o=p.indexOf(n);p.splice(o,1)}f.emitChange()}break;case u.GROUP_MESSAGE_RECEIVED:l.push({messageType:"chat",mine:t.payload.from.resource===r,payload:t.payload}),f.emitChange();break;case u.ROOM_ROSTER_RECEIVED:p=t.payload.roster,f.emitChange();break;case u.XMPP_DEBUG:}}),t.exports=f},function(t,e,n){"use strict";var r,i=n(250),o=n(51).ActionTypes,s=n(71),a={init:function(t){r=i.createClient({jid:t.jid,password:t.password,wsURL:t.url,transports:["websocket"]}),window.client=r,r.on("*",function(t,e){s.dispatchServerAction({type:o.XMPP_DEBUG,payload:{name:t,data:e}})}),r.on("session:started",function(e){s.dispatchServerAction({type:o.CONNECTED,payload:{jid:e.full}}),a.joinRoom(t.room)}),r.on("muc:*",function(t,e){s.dispatchServerAction({type:o.MUC_INFO,actionType:t,payload:e})}),r.on("groupchat",function(t){s.dispatchServerAction({type:o.GROUP_MESSAGE_RECEIVED,payload:{from:t.from,message:t.body}})}),r.connect()},joinRoom:function(t,e){console.warn("joining room",t,e),e=e||"guest"+Math.round(1e4*Math.random()),r.joinRoom(t,e)},changeNick:function(t,e){console.warn("change nick",t,e),r.changeNick(e,t)},changeNickWhenAlone:function(t,e){console.warn("change nick alone",t,e),r.leaveRoom(e),r.joinRoom(e,t)},getRoomRoster:function(t){r.once("iq",function(t){s.dispatchServerAction({type:o.ROOM_ROSTER_RECEIVED,payload:{roster:t.discoItems.items}})}),r.getDiscoItems(t,"",function(){})},sendGroupMessage:function(t,e){r.sendMessage({body:t,type:"groupchat",to:e}),s.dispatchServerAction({type:o.GROUP_MESSAGE_SENT,payload:{message:t}})}};t.exports=a},function(t,e,n){e=t.exports=n(52)(),e.push([t.id,"*{box-sizing:border-box}#app,body,html{height:100%}body{margin:0;padding:0}",""])},function(t,e,n){e=t.exports=n(52)(),e.push([t.id,".chat-area{padding:20px;overflow:auto;list-style:none}.chat-area li.entry{margin:6px 0}.chat-area li.entry>div{display:inline-block;padding:4px 6px}.chat-area li.entry>div.info{background:orange;color:#fff}.chat-area li.entry>div.message-container{background:#6ce86e;color:#fff}.chat-area li.entry>div.message-container .from{font-size:.8em;margin-bottom:2px;color:#168c18}.chat-area li.entry>div.message-container .message{line-height:1.65em}.chat-area li.entry>div.message-container.mine{background:#eee;color:#424242}.chat-area li.entry>div.message-container.mine .from{color:#959595}",""])},function(t,e,n){e=t.exports=n(52)(),e.push([t.id,"#chat-component{display:flex;flex-direction:column;height:100%;width:100%}#chat-component .chat-area{flex:1 1 auto}#chat-component .chat-controls{flex:0 0 auto}",""])},function(t,e,n){e=t.exports=n(52)(),e.push([t.id,".chat-controls{background:#eee;padding:20px}.chat-controls p{margin:0 0 6px}.chat-controls input{width:91%;padding:10px;border:0;margin-right:1%;font-size:1.5em}.chat-controls button{padding:10px;width:8%;font-size:1.5em}",""])},function(t,e,n){function r(){"use strict";function t(){}function e(t,e,n,r){return r?w[r]||"":String.fromCharCode(e?e:parseInt(n,16))}function n(t,n){return t=String(t),t.length>3&&-1!==t.indexOf("&")&&(-1!==t.indexOf("&gt;")&&(t=t.replace(/&gt;/g,">")),-1!==t.indexOf("&lt;")&&(t=t.replace(/&lt;/g,"<")),-1!==t.indexOf("&quot;")&&(t=t.replace(/&quot;/g,'"')),-1!==t.indexOf("&")&&(t=t.replace(/&#(\d+);|&#x([0123456789abcdef]+);|&(\w+);/gi,e))),t}function r(){if(null!==x)return x;var t,e,r,i,o,s,a,u,c={},l=S,f=C,d=l.length,h=E?[]:!1,m="",g=!1;t:for(;d>f;f++)if(r=l.charCodeAt(f),!(32===r||14>r&&r>8)){if(65>r||r>122||r>90&&97>r)return x=!1;for(e=f+1;d>e;e++)if(r=l.charCodeAt(e),!(r>96&&123>r||r>64&&91>r||r>47&&59>r||45===r||95===r)){if(61!==r)return x=!1;break}if(t=l.substring(f,e),g=!0,"xmlns:xmlns"===t)return x=!1;if(r=l.charCodeAt(e+1),34===r)e=l.indexOf('"',f=e+2);else{if(39!==r)return x=!1;e=l.indexOf("'",f=e+2)}if(-1===e)return x=!1;if(d>e+1&&(r=l.charCodeAt(e+1),r>32||9>r||32>r&&r>13))return x=!1;if(m=l.substring(f,e),f=e+1,_){if(E){if(u="xmlns"===t?"xmlns":120===t.charCodeAt(0)&&"xmlns:"===t.substr(0,6)&&t.substr(6)){if(a=p[n(m)]){if(b[u]!==a){if(!s){s=!0,i={};for(o in b)i[o]=b[o];b=i}b[u]=a}}else if(b[u]){if(!s){s=!0,i={};for(o in b)i[o]=b[o];b=i}b[u]=!1}c[t]=m;continue}h.push(t,m);continue}for(r=t.length;--r;)if(58===t.charCodeAt(r)){(r=b[t.substring(0,r)])&&(c[r+t.substr(r)]=m);continue t}}c[t]=m}if(!g)return x=!0;if(E)t:for(f=0,d=h.length;d>f;f++){for(t=h[f++],r=t.length;--r;)if(58===t.charCodeAt(r)){(r=b[t.substring(0,r)])&&(c[r+t.substr(r)]=h[f]);continue t}c[t]=h[f]}return x=c}function i(t){function e(){return t.substring(P,k+1)}for(var i,p,f,d,w,N,O,T,D,t=String(t),j=[],I=[],A=!1,R=!1,k=0,P=0,M=0;-1!==k;){if(O=M>0,P=60===t.charCodeAt(k)?k:t.indexOf("<",k),-1===P){if(j.length)return void y("end file");return}if(k!==P&&!O&&(D=h(t.substring(k,P),n),D===!1))return;if(w=t.charCodeAt(P+1),33!==w)if(63!==w){if(k=t.indexOf(">",P+1),-1==k)return void y("...>");if(x=!0,47===w){if(R=!1,A=!0,p=i=j.pop(),d=P+2+p.length,t.substring(P+2,d)!==p)return void y("close tagname");for(;k>d;d++)if(w=t.charCodeAt(d),!(32===w||w>8&&14>w))return void y("close tag")}else{if(47===t.charCodeAt(k-1)?(p=i=t.substring(P+1,k-1),R=!0,A=!0):(p=i=t.substring(P+1,k),R=!0,A=!1),!(w>96&&123>w||w>64&&91>w))return void y("first char nodeName");for(d=1,f=p.length;f>d;d++)if(w=p.charCodeAt(d),!(w>96&&123>w||w>64&&91>w||w>47&&59>w||45===w||95===w)){if(32===w||14>w&&w>8){i=p.substring(0,d),x=null;break}return void y("invalid nodeName")}A||j.push(i)}if(_){if(O){A?R||0===--M&&(b=I.pop()):M+=1,k+=1;continue}if(T=b,A||(I.push(b),x!==!0&&(E=-1!==p.indexOf("xmlns",d))&&(S=p,C=d,r(),E=!1)),w=i.indexOf(":"),-1!==w?(N=b[i.substring(0,w)],i=i.substr(w+1)):N=b.xmlns,!N){A?b=R?T:I.pop():(M=1,x=!0),k+=1;continue}i=N+":"+i}if(R){if(S=p,C=d,D=m(i,r,n,A,e),D===!1)return;x=!0}if(A){if(D=g(i,n,R,e),D===!1)return;_&&(b=R?T:I.pop())}k+=1}else{if(k=t.indexOf("?>",P),-1===k)return void y("...?>");if(c&&(D=s(t.substring(P,k+2)),D===!1))return;k+=2}else{if(w=t.charCodeAt(P+2),91===w&&"CDATA["===t.substr(P+3,6)){if(k=t.indexOf("]]>",P),-1===k)return void y("cdata");if(!O&&(D=v(t.substring(P+9,k),!1),D===!1))return;k+=3;continue}if(45===w&&45===t.charCodeAt(P+3)){if(k=t.indexOf("-->",P),-1===k)return void y("expected -->");if(u&&!O&&(D=o(t.substring(P+4,k),n),D===!1))return;k+=3;continue}if(k=t.indexOf(">",P+1),-1===k)return void y('expected ">"');if(l&&!O&&(D=a(t.substring(P,k+1),n),D===!1))return;k+=1}}}if(!this)return null;var o,s,a,u,c,l,p,f,d,h=t,m=t,g=t,v=t,y=t,_=!1,b={xmlns:d},E=!1;this.on=function(e,n){if("function"==typeof n||null===n)switch(e){case"error":y=n||t;break;case"startNode":m=n||t;break;case"endNode":g=n||t;break;case"textNode":h=n||t;break;case"cdata":v=n||t;break;case"comment":o=n,u=!!n;break;case"question":s=n,c=!!n;break;case"attention":a=n,l=!!n}},this.ns=function(t,e){if(t&&"string"==typeof t&&e){var n,r,i,o={};for(i in e)r=e[i],"string"==typeof r&&(t===r&&(n=!0),o[i]=r);n&&(_=!0,f=t,p=o)}},this.parse=function(t){"string"==typeof t&&(_?(b={xmlns:f},i(t),b=!1):i(t),x=!0)};var x,w={constructor:!1,hasOwnProperty:!1,isPrototypeOf:!1,propertyIsEnumerable:!1,toLocaleString:!1,toString:!1,valueOf:!1,quot:'"',QUOT:'"',amp:"&",AMP:"&",nbsp:" ",apos:"'",lt:"<",LT:"<",gt:">",GT:">",copy:"©",laquo:"«",raquo:"»",reg:"®",deg:"°",plusmn:"±",sup2:"²",sup3:"³",micro:"µ",para:"¶"},S="",C=0}"object"==typeof e&&this==e&&(t.exports=r)},function(t,e,n){t.exports.Dispatcher=n(170)},function(t,e,n){"use strict";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var i=n(171),o=1,s="ID_";r.prototype.register=function(t){var e=s+o++;return this.$Dispatcher_callbacks[e]=t,e},r.prototype.unregister=function(t){i(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},r.prototype.waitFor=function(t){i(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?i(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(i(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},r.prototype.dispatch=function(t){i(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},r.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},r.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=r},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,s,a){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[l++]}))}throw u.framesToPop=1,u}};t.exports=r},function(t,e,n){"use strict";var r=function(t){var e,n={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=r},function(t,e,n){!function(){function t(t){var e=/&amp;/g,n=/&lt;/g,r=/&gt;/g,i=/&quot;/g,o=/&apos;/g;return t=t.replace(e,"&"),t=t.replace(n,"<"),t=t.replace(r,">"),t=t.replace(i,'"'),t=t.replace(o,"'")}var r=function(t){t=o.replace(t,null,null,"\r\n","\n"),t=o.replace(t,null,null,"\r","\n"),this.m_xml=t,this.m_iP=0,this.m_iState=r._STATE_PROLOG,this.m_stack=new s,this._clearAttributes(),this.m_pause=!1,this.m_preInterruptIState=r._STATE_PROLOG,this.m_namespaceList=new Array,this.m_chunkTransitionContinuation=null};r._NONE=0,r._ELM_B=1,r._ELM_E=2,r._ELM_EMP=3,r._ATT=4,r._TEXT=5,r._ENTITY=6,r._PI=7,r._CDATA=8,r._COMMENT=9,r._DTD=10,r._ERROR=11,r._INTERRUPT=12,r._CONT_XML=0,r._CONT_ALT=1,r._ATT_NAME=0,r._ATT_VAL=1,r._STATE_PROLOG=1,r._STATE_DOCUMENT=2,r._STATE_MISC=3,r._errs=new Array,r._errs[r.ERR_CLOSE_PI=0]="PI: missing closing sequence",r._errs[r.ERR_CLOSE_DTD=1]="DTD: missing closing sequence",r._errs[r.ERR_CLOSE_COMMENT=2]="Comment: missing closing sequence",r._errs[r.ERR_CLOSE_CDATA=3]="CDATA: missing closing sequence",r._errs[r.ERR_CLOSE_ELM=4]="Element: missing closing sequence",r._errs[r.ERR_CLOSE_ENTITY=5]="Entity: missing closing sequence",r._errs[r.ERR_PI_TARGET=6]="PI: target is required",r._errs[r.ERR_ELM_EMPTY=7]="Element: cannot be both empty and closing",r._errs[r.ERR_ELM_NAME=8]='Element: name must immediatly follow "<"',r._errs[r.ERR_ELM_LT_NAME=9]='Element: "<" not allowed in element names',r._errs[r.ERR_ATT_VALUES=10]="Attribute: values are required and must be in quotes",r._errs[r.ERR_ATT_LT_NAME=11]='Element: "<" not allowed in attribute names',r._errs[r.ERR_ATT_LT_VALUE=12]='Attribute: "<" not allowed in attribute values',r._errs[r.ERR_ATT_DUP=13]="Attribute: duplicate attributes not allowed",r._errs[r.ERR_ENTITY_UNKNOWN=14]="Entity: unknown entity",r._errs[r.ERR_INFINITELOOP=15]="Infininte loop",r._errs[r.ERR_DOC_STRUCTURE=16]="Document: only comments, processing instructions, or whitespace allowed outside of document element",r._errs[r.ERR_ELM_NESTING=17]="Element: must be nested correctly",r.prototype.continueParsing=function(t){this.m_chunkTransitionContinuation&&(t=this.m_chunkTransitionContinuation+t),t=o.replace(t,null,null,"\r\n","\n"),t=o.replace(t,null,null,"\r","\n"),this.m_xml=t,this.m_iP=0,this.m_iState=r._STATE_DOCUMENT,this.m_pause=!1,this.m_preInterruptIState=r._STATE_PROLOG,this.m_chunkTransitionContinuation=null},r.prototype._addAttribute=function(t,e){this.m_atts[this.m_atts.length]=new Array(t,e)},r.prototype._checkStructure=function(t){if(r._STATE_PROLOG==this.m_iState){if((r._TEXT==t||r._ENTITY==t)&&-1!=o.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(r.ERR_DOC_STRUCTURE);(r._ELM_B==t||r._ELM_EMP==t)&&(this.m_iState=r._STATE_DOCUMENT)}if(r._STATE_DOCUMENT==this.m_iState){if((r._ELM_B==t||r._ELM_EMP==t)&&this.m_stack.push(this.getName()),r._ELM_E==t||r._ELM_EMP==t){var e=this.m_stack.pop();if(null==e||e!=this.getName())return this._setErr(r.ERR_ELM_NESTING)}if(0==this.m_stack.count())return this.m_iState=r._STATE_MISC,t}if(r._STATE_MISC==this.m_iState){if(r._ELM_B==t||r._ELM_E==t||r._ELM_EMP==t||r.EVT_DTD==t)return this._setErr(r.ERR_DOC_STRUCTURE);if((r._TEXT==t||r._ENTITY==t)&&-1!=o.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(r.ERR_DOC_STRUCTURE)}return t},r.prototype._clearAttributes=function(){this.m_atts=new Array},r.prototype._findAttributeIndex=function(t){for(var e=0;e<this.m_atts.length;e++)if(this.m_atts[e][r._ATT_NAME]==t)return e;return-1},r.prototype.getAttributeCount=function(){return this.m_atts?this.m_atts.length:0},r.prototype.getAttributeName=function(t){return 0>t||t>=this.m_atts.length?null:this.m_atts[t][r._ATT_NAME]},r.prototype.getAttributeValue=function(e){return 0>e||e>=this.m_atts.length?null:t(this.m_atts[e][r._ATT_VAL])},r.prototype.getAttributeValueByName=function(t){return this.getAttributeValue(this._findAttributeIndex(t))},r.prototype.getColumnNumber=function(){return o.getColumnNumber(this.m_xml,this.m_iP)},r.prototype.getContent=function(){return this.m_cSrc==r._CONT_XML?this.m_xml:this.m_cAlt},r.prototype.getContentBegin=function(){return this.m_cB},r.prototype.getContentEnd=function(){return this.m_cE},r.prototype.getLineNumber=function(){return o.getLineNumber(this.m_xml,this.m_iP)},r.prototype.getName=function(){return this.m_name},r.prototype.pause=function(){this.m_pause=!0},r.prototype.resume=function(){this.m_pause=!1,this.m_iState=this.m_preInterruptIState},r.prototype.next=function(){return this.m_pause?(this.m_preInterruptIState=this.m_iState,r._INTERRUPT):this._checkStructure(this._parse())},r.prototype._parse=function(){function t(t,e,n){for(var r=0;r<t.length;r++)if(t.charAt(r)!=e.charAt(n+r))return-1;return n}if(this.m_iP==this.m_xml.length)return r._NONE;var e=this.m_xml.charAt(this.m_iP);return"<"!==e&&"&"!==e?this._parseText(this.m_iP):this.m_iP==t("<?",this.m_xml,this.m_iP)?this._parsePI(this.m_iP+2):this.m_iP==t("<!DOCTYPE",this.m_xml,this.m_iP)?this._parseDTD(this.m_iP+9):this.m_iP==t("<!--",this.m_xml,this.m_iP)?this._parseComment(this.m_iP+4):this.m_iP==t("<![CDATA[",this.m_xml,this.m_iP)?this._parseCDATA(this.m_iP+9):this.m_iP==t("<",this.m_xml,this.m_iP)?this._parseElement(this.m_iP+1):this.m_iP==t("&",this.m_xml,this.m_iP)?this._parseEntity(this.m_iP+1):this._parseText(this.m_iP)},r.prototype._parsePrefixAndElementName=function(t){return splits=t.split(":",2),{prefix:1===splits.length?"":splits[0],name:1===splits.length?t:splits[1]}},r.prototype._parseNamespacesAndAtts=function(t){that=this;var e=[],n=[];return t.map(function(t){return"xmlns"===t[0].slice(0,5)?e.push({prefix:t[0].slice(6),uri:t[1],scopetag:that.m_name}):n.push(t),"not used"}),this.m_namespaceList=this.m_namespaceList.concat(e),[n,e.map(function(t){return[t.prefix,t.uri]})]},r.prototype._getContextualNamespace=function(t){if(""!==t)for(n in this.m_namespaceList)if(n=this.m_namespaceList[n],n.prefix===t)return n.uri;for(var e=this.m_namespaceList.length-1;e>=0;e--){var n=this.m_namespaceList[e];if(""===n.prefix)return n.uri}return""},r.prototype._removeExpiredNamesapces=function(t){var e=[];this.m_namespaceList.map(function(n){n.scopetag!==t&&e.push(n)}),this.m_namespaceList=e},r.prototype._parseAttribute=function(t,e){var n,i,s,a,u,c,l,p;return this.m_cAlt="",n=o.indexOfNonWhitespace(this.m_xml,t,e),-1==n||n>=e?n:(s=this.m_xml.indexOf("=",n),-1==s||s>e?this._setErr(r.ERR_ATT_VALUES):(i=o.lastIndexOfNonWhitespace(this.m_xml,n,s),a=o.indexOfNonWhitespace(this.m_xml,s+1,e),-1==a||a>e?this._setErr(r.ERR_ATT_VALUES):(c=this.m_xml.charAt(a),-1==o.QUOTES.indexOf(c)?this._setErr(r.ERR_ATT_VALUES):(u=this.m_xml.indexOf(c,a+1),-1==u||u>e?this._setErr(r.ERR_ATT_VALUES):(l=this.m_xml.substring(n,i+1),p=this.m_xml.substring(a+1,u),-1!=l.indexOf("<")?this._setErr(r.ERR_ATT_LT_NAME):-1!=p.indexOf("<")?this._setErr(r.ERR_ATT_LT_VALUE):(p=o.replace(p,null,null,"\n"," "),p=o.replace(p,null,null,"	"," "),iRet=this._replaceEntities(p),iRet==r._ERROR?iRet:(p=this.m_cAlt,-1!=this._findAttributeIndex(l)?this._setErr(r.ERR_ATT_DUP):(this._addAttribute(l,p),this.m_iP=u+2,r._ATT))))))))},r.prototype._parseCDATA=function(t){var e=this.m_xml.indexOf("]]>",t);return-1==e?(this.m_chunkTransitionContinuation=this.m_xml.slice(t-9),r._INTERRUPT):(this._setContent(r._CONT_XML,t,e),this.m_iP=e+3,r._CDATA)},r.prototype._parseComment=function(t){var e=this.m_xml.indexOf("-->",t);return-1==e?(this.m_chunkTransitionContinuation=this.m_xml.slice(t-4),r._INTERRUPT):(this._setContent(r._CONT_XML,t,e),this.m_iP=e+3,r._COMMENT)},r.prototype._parseDTD=function(t){var e,n,i,o;if(e=this.m_xml.indexOf(">",t),-1==e)return this.m_chunkTransitionContinuation=this.m_xml.slice(t-9),r._INTERRUPT;for(i=this.m_xml.indexOf("[",t),n=-1!=i&&e>i?"]>":">";;){if(e==o)return this._setErr(r.ERR_INFINITELOOP);if(o=e,e=this.m_xml.indexOf(n,t),-1==e)return this._setErr(r.ERR_CLOSE_DTD);if("]]>"!=this.m_xml.substring(e-1,e+2))break}return this.m_iP=e+n.length,r._DTD},r.prototype._parseElement=function(t){util=n(6);var e,i,s,a,u,c,l;if(i=e=this.m_xml.indexOf(">",t),-1==e)return this.m_chunkTransitionContinuation=this.m_xml.slice(t-1),r._INTERRUPT;if("/"==this.m_xml.charAt(t)?(u=r._ELM_E,t++):u=r._ELM_B,"/"==this.m_xml.charAt(e-1)){if(u==r._ELM_E)return this._setErr(r.ERR_ELM_EMPTY);u=r._ELM_EMP,i--}if(i=o.lastIndexOfNonWhitespace(this.m_xml,t,i),e-t!=1&&o.indexOfNonWhitespace(this.m_xml,t,i)!=t)return this._setErr(r.ERR_ELM_NAME);if(this._clearAttributes(),s=o.indexOfWhitespace(this.m_xml,t,i),-1==s)s=i+1;else for(this.m_iP=s;this.m_iP<i;){if(this.m_iP==l)return this._setErr(r.ERR_INFINITELOOP);if(l=this.m_iP,a=this._parseAttribute(this.m_iP,i),a==r._ERROR)return a}return c=this.m_xml.substring(t,s),-1!=c.indexOf("<")?this._setErr(r.ERR_ELM_LT_NAME):(this.m_name=c,this.m_iP=e+1,u)},r.prototype._parseEntity=function(t){var e=this.m_xml.indexOf(";",t);return-1==e?(this.m_chunkTransitionContinuation=this.m_xml.slice(t-1),r._INTERRUPT):(this.m_iP=e+1,this._replaceEntity(this.m_xml,t,e))},r.prototype._parsePI=function(t){var e,n,i,s,a;return e=this.m_xml.indexOf("?>",t),-1==e?(this.m_chunkTransitionContinuation=this.m_xml.slice(t-2),r._INTERRUPT):(n=o.indexOfNonWhitespace(this.m_xml,t,e),-1==n?this._setErr(r.ERR_PI_TARGET):(i=o.indexOfWhitespace(this.m_xml,n,e),-1==i&&(i=e),s=o.indexOfNonWhitespace(this.m_xml,i,e),-1==s&&(s=e),a=o.lastIndexOfNonWhitespace(this.m_xml,s,e),-1==a&&(a=e-1),this.m_name=this.m_xml.substring(n,i),this._setContent(r._CONT_XML,s,a+1),this.m_iP=e+2,r._PI))},r.prototype._parseText=function(t){var e,n;for(e=t;e<this.m_xml.length&&(n=this.m_xml.charAt(e),"<"!==n&&"&"!==n);++e);return this._setContent(r._CONT_XML,t,e),this.m_iP=e,r._TEXT},r.prototype._replaceEntities=function(t,e,n){if(o.isEmpty(t))return"";e=e||0,n=n||t.length;var i,s,a="";for(i=t.indexOf("&",e),s=e;i>0&&n>i;){if(a+=t.substring(s,i),s=t.indexOf(";",i)+1,0==s||s>n)return this._setErr(r.ERR_CLOSE_ENTITY);if(iRet=this._replaceEntity(t,i+1,s-1),iRet==r._ERROR)return iRet;a+=this.m_cAlt,i=t.indexOf("&",s)}return s!=n&&(a+=t.substring(s,n)),this._setContent(r._CONT_ALT,a),r._ENTITY},r.prototype._replaceEntity=function(t,e,n){if(o.isEmpty(t))return-1;switch(e=e||0,n=n||t.length,t.substring(e,n)){case"amp":strEnt="&";break;case"lt":strEnt="<";break;case"gt":strEnt=">";break;case"apos":strEnt="'";break;case"quot":strEnt='"';break;case"nbsp":strEnt="";break;case"lt":strEnt="<";break;case"gt":strEnt=">";break;case"amp":strEnt="&";break;case"cent":strEnt="¢";break;case"pound":strEnt="£";break;case"yen":strEnt="¥";break;case"euro":strEnt="€";break;case"sect":strEnt="§";break;case"copy":strEnt="©";break;case"reg":strEnt="®";break;default:strEnt="#"==t.charAt(e)?String.fromCharCode(parseInt(t.substring(e+1,n))):" "}return this._setContent(r._CONT_ALT,strEnt),r._ENTITY},r.prototype._setContent=function(t){var e=arguments;r._CONT_XML==t?(this.m_cAlt=null,this.m_cB=e[1],this.m_cE=e[2]):(this.m_cAlt=e[1],this.m_cB=0,this.m_cE=e[1].length),this.m_cSrc=t},r.prototype._setErr=function(t){var e=r._errs[t];return this.m_cAlt=e,this.m_cB=0,this.m_cE=e.length,this.m_cSrc=r._CONT_ALT,r._ERROR};var i=function(t){var e=new function(){},n=function(){};n.prototype.onStartDocument=function(t){e.onStartDocument=t},n.prototype.onEndDocument=function(t){e.onEndDocument=t},n.prototype.onStartElementNS=function(t){e.onStartElementNS=t},n.prototype.onEndElementNS=function(t){e.onEndElementNS=t},n.prototype.onCharacters=function(t){e.onCharacters=t},n.prototype.onCdata=function(t){e.onCdata=t},n.prototype.onComment=function(t){e.onComment=t},n.prototype.onWarning=function(t){e.onWarning=t},n.prototype.onError=function(t){e.onError=t},t(new n),this.m_hndDoc=e,this.m_hndErr=e,this.m_hndLex=e,this.m_interrupted=!1};i.DOC_B=1,i.DOC_E=2,i.ELM_B=3,i.ELM_E=4,i.CHARS=5,i.PI=6,i.CD_B=7,i.CD_E=8,i.CMNT=9,i.DTD_B=10,i.DTD_E=11,i.prototype.parseFile=function(t){var e=n(151),r=this;e.readFile(t,function(t,e){r.parseString(e)})},i.prototype.parseString=function(t){util=n(6);var e=this,o=!0;e.m_parser?(e.m_parser.continueParsing(t),o=!0):(e.m_parser=new r(t),o=!1),e.m_bErr=!1,e.m_bErr||o||e._fireEvent(i.DOC_B),e._parseLoop(),e.m_bErr||e.m_interrupted||e._fireEvent(i.DOC_E),e.m_xml=null,e.m_iP=0,e.m_interrupted=!1},i.prototype.pause=function(){this.m_parser.pause()},i.prototype.resume=function(){this.m_parser.resume(),this.m_interrupted=!1;var t=this;setTimeout(function(){t._parseLoop(),t.m_bErr||t.m_interrupted||t._fireEvent(i.DOC_E)},0)},i.prototype.setDocumentHandler=function(t){this.m_hndDoc=t},i.prototype.setErrorHandler=function(t){this.m_hndErr=t},i.prototype.setLexicalHandler=function(t){this.m_hndLex=t},i.prototype.getColumnNumber=function(){return this.m_parser.getColumnNumber()},i.prototype.getLineNumber=function(){return this.m_parser.getLineNumber()},i.prototype.getMessage=function(){return this.m_strErrMsg},i.prototype.getPublicId=function(){return null},i.prototype.getSystemId=function(){return null},i.prototype.getLength=function(){return this.m_parser.getAttributeCount()},i.prototype.getName=function(t){return this.m_parser.getAttributeName(t)},i.prototype.getValue=function(t){return this.m_parser.getAttributeValue(t)},i.prototype.getValueByName=function(t){return this.m_parser.getAttributeValueByName(t)},i.prototype._fireError=function(t){this.m_strErrMsg=t,this.m_bErr=!0,this.m_hndErr&&this.m_hndErr.onError&&this.m_hndErr.onError(this.m_strErrMsg)},i.prototype._fireEvent=function(t){var e,n,r=arguments,o=r.length-1;this.m_bErr||(i.DOC_B==t?(n="onStartDocument",e=this.m_hndDoc):i.DOC_E==t?(n="onEndDocument",e=this.m_hndDoc):i.ELM_B==t?(n="onStartElementNS",e=this.m_hndDoc):i.ELM_E==t?(n="onEndElementNS",e=this.m_hndDoc):i.CHARS==t?(n="onCharacters",e=this.m_hndDoc):i.PI==t?(n="processingInstruction",e=this.m_hndDoc):i.CD_B==t?(n="onCdata",e=this.m_hndLex):i.CD_E==t?(n="onEndCDATA",e=this.m_hndLex):i.CMNT==t&&(n="onComment",e=this.m_hndLex),e&&e[n]&&(0==o?e[n]():1==o?e[n](r[1]):2==o?e[n](r[1],r[2]):3==o?e[n](r[1],r[2],r[3]):4==o?e[n](r[1],r[2],r[3],r[4]):5==o?e[n](r[1],r[2],r[3],r[4],r[5]):6==o&&e[n](r[1],r[2],r[3],r[4],r[5],r[6])))},i.prototype._parseLoop=function(t){var e,t;for(t=this.m_parser;!this.m_bErr;)if(e=t.next(),e==r._ELM_B){theatts=this.m_parser.m_atts,nameobject=t._parsePrefixAndElementName(t.getName()),theattsandnamespace=t._parseNamespacesAndAtts(theatts);var n=t._getContextualNamespace(nameobject.prefix);this._fireEvent(i.ELM_B,nameobject.name,theattsandnamespace[0],""===nameobject.prefix?null:nameobject.prefix,""===n?null:n,theattsandnamespace[1])}else if(e==r._ELM_E){nameobject=t._parsePrefixAndElementName(t.getName());var n=t._getContextualNamespace(nameobject.prefix);t._removeExpiredNamesapces(t.getName()),this._fireEvent(i.ELM_E,nameobject.name,""===nameobject.prefix?null:nameobject.prefix,""===n?null:n)}else if(e==r._ELM_EMP){theatts=this.m_parser.m_atts,nameobject=t._parsePrefixAndElementName(t.getName()),theattsandnamespace=t._parseNamespacesAndAtts(theatts);var n=t._getContextualNamespace(nameobject.prefix);this._fireEvent(i.ELM_B,nameobject.name,theattsandnamespace[0],""===nameobject.prefix?null:nameobject.prefix,""===n?null:n,theattsandnamespace[1],!0),t._removeExpiredNamesapces(t.getName()),this._fireEvent(i.ELM_E,nameobject.name,""===nameobject.prefix?null:nameobject.prefix,""===n?null:n,!0)}else if(e==r._TEXT)this._fireEvent(i.CHARS,t.getContent().slice(t.getContentBegin(),t.getContentEnd()));else if(e==r._ENTITY)this._fireEvent(i.CHARS,t.getContent(),t.getContentBegin(),t.getContentEnd()-t.getContentBegin());else if(e==r._PI)this._fireEvent(i.PI,t.getName(),t.getContent().substring(t.getContentBegin(),t.getContentEnd()));else if(e==r._CDATA)this._fireEvent(i.CD_B,t.getContent().slice(t.getContentBegin(),t.getContentEnd()));else if(e==r._COMMENT)this._fireEvent(i.CMNT,t.getContent().slice(t.getContentBegin(),t.getContentEnd()));else if(e==r._DTD);else if(e==r._ERROR)this._fireError(t.getContent());else{if(e==r._INTERRUPT)return void(this.m_interrupted=!0);if(e==r._NONE)return}};var o=function(){};o.WHITESPACE=" 	\n\r",o.QUOTES="\"'",o.getColumnNumber=function(t,e){if(o.isEmpty(t))return-1;e=e||t.length;{var n=t.substring(0,e).split("\n");n[n.length-1]}n.length--;var r=n.join("\n").length;return e-r},o.getLineNumber=function(t,e){return o.isEmpty(t)?-1:(e=e||t.length,t.substring(0,e).split("\n").length)},o.indexOfNonWhitespace=function(t,e,n){if(o.isEmpty(t))return-1;e=e||0,n=n||t.length;for(var r=e;n>r;r++)if(-1==o.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},o.indexOfWhitespace=function(t,e,n){if(o.isEmpty(t))return-1;e=e||0,n=n||t.length;for(var r=e;n>r;r++)if(-1!=o.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},o.isEmpty=function(t){return null==t||0==t.length},o.lastIndexOfNonWhitespace=function(t,e,n){if(o.isEmpty(t))return-1;e=e||0,n=n||t.length;for(var r=n-1;r>=e;r--)if(-1==o.WHITESPACE.indexOf(t.charAt(r)))return r;return-1},o.replace=function(t,e,n,r,i){return o.isEmpty(t)?"":(e=e||0,n=n||t.length,t.toString().substring(e,n).split(r).join(i))};var s=function(){this.m_arr=new Array};s.prototype.clear=function(){this.m_arr=new Array},s.prototype.count=function(){return this.m_arr.length},s.prototype.destroy=function(){this.m_arr=null},s.prototype.peek=function(){return 0==this.m_arr.length?null:this.m_arr[this.m_arr.length-1]},s.prototype.pop=function(){if(0==this.m_arr.length)return null;var t=this.m_arr[this.m_arr.length-1];return this.m_arr.length--,t},s.prototype.push=function(t){this.m_arr[this.m_arr.length]=t},e.SaxParser=i}()},function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var n,i,o=r(t),s=1;s<arguments.length;s++){n=arguments[s],i=Object.keys(Object(n));for(var a=0;a<i.length;a++)o[i[a]]=n[i[a]]}return o}},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case T.topCompositionStart:return D.compositionStart;case T.topCompositionEnd:return D.compositionEnd;case T.topCompositionUpdate:return D.compositionUpdate}}function s(t,e){return t===T.topKeyDown&&e.keyCode===E}function a(t,e){switch(t){case T.topKeyUp:return-1!==b.indexOf(e.keyCode);case T.topKeyDown:return e.keyCode!==E;case T.topKeyPress:case T.topMouseDown:case T.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,r){var i,c;if(x?i=o(t):I?a(t,r)&&(i=D.compositionEnd):s(t,r)&&(i=D.compositionStart),!i)return null;C&&(I||i!==D.compositionStart?i===D.compositionEnd&&I&&(c=I.getData()):I=g.getPooled(e));var l=v.getPooled(i,n,r);if(c)l.data=c;else{var p=u(r);null!==p&&(l.data=p)}return h.accumulateTwoPhaseDispatches(l),l}function l(t,e){switch(t){case T.topCompositionEnd:return u(e);case T.topKeyPress:var n=e.which;return n!==N?null:(j=!0,O);case T.topTextInput:var r=e.data;return r===O&&j?null:r;default:return null}}function p(t,e){if(I){if(t===T.topCompositionEnd||a(t,e)){var n=I.getData();return g.release(I),I=null,n}return null}switch(t){case T.topPaste:return null;case T.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case T.topCompositionEnd:return C?null:e.data;default:return null}}function f(t,e,n,r){var i;if(i=S?l(t,r):p(t,r),!i)return null;var o=y.getPooled(D.beforeInput,n,r);return o.data=i,h.accumulateTwoPhaseDispatches(o),o}var d=n(10),h=n(43),m=n(8),g=n(183),v=n(219),y=n(222),_=n(24),b=[9,13,27,32],E=229,x=m.canUseDOM&&"CompositionEvent"in window,w=null;m.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var S=m.canUseDOM&&"TextEvent"in window&&!w&&!r(),C=m.canUseDOM&&(!x||w&&w>8&&11>=w),N=32,O=String.fromCharCode(N),T=d.topLevelTypes,D={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[T.topCompositionEnd,T.topKeyPress,T.topTextInput,T.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[T.topBlur,T.topCompositionEnd,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[T.topBlur,T.topCompositionStart,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[T.topBlur,T.topCompositionUpdate,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]}},j=!1,I=null,A={eventTypes:D,extractEvents:function(t,e,n,r){return[c(t,e,n,r),f(t,e,n,r)]}};t.exports=A},function(t,e,n){"use strict";function r(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function i(t){var e=w.getPooled(T.change,j,t);b.accumulateTwoPhaseDispatches(e),x.batchedUpdates(o,e)}function o(t){_.enqueueEvents(t),_.processEventQueue()}function s(t,e){D=t,j=e,D.attachEvent("onchange",i)}function a(){D&&(D.detachEvent("onchange",i),D=null,j=null)}function u(t,e,n){return t===O.topChange?n:void 0}function c(t,e,n){t===O.topFocus?(a(),s(e,n)):t===O.topBlur&&a()}function l(t,e){D=t,j=e,I=t.value,A=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(D,"value",P),D.attachEvent("onpropertychange",f)}function p(){D&&(delete D.value,D.detachEvent("onpropertychange",f),D=null,j=null,I=null,A=null)}function f(t){if("value"===t.propertyName){var e=t.srcElement.value;

e!==I&&(I=e,i(t))}}function d(t,e,n){return t===O.topInput?n:void 0}function h(t,e,n){t===O.topFocus?(p(),l(e,n)):t===O.topBlur&&p()}function m(t,e,n){return t!==O.topSelectionChange&&t!==O.topKeyUp&&t!==O.topKeyDown||!D||D.value===I?void 0:(I=D.value,j)}function g(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===O.topClick?n:void 0}var y=n(10),_=n(42),b=n(43),E=n(8),x=n(14),w=n(27),S=n(90),C=n(129),N=n(24),O=y.topLevelTypes,T={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[O.topBlur,O.topChange,O.topClick,O.topFocus,O.topInput,O.topKeyDown,O.topKeyUp,O.topSelectionChange]}},D=null,j=null,I=null,A=null,R=!1;E.canUseDOM&&(R=S("change")&&(!("documentMode"in document)||document.documentMode>8));var k=!1;E.canUseDOM&&(k=S("input")&&(!("documentMode"in document)||document.documentMode>9));var P={get:function(){return A.get.call(this)},set:function(t){I=""+t,A.set.call(this,t)}},M={eventTypes:T,extractEvents:function(t,e,n,i){var o,s;if(r(e)?R?o=u:s=c:C(e)?k?o=d:(o=m,s=h):g(e)&&(o=v),o){var a=o(t,e,n);if(a){var l=w.getPooled(T.change,a,i);return b.accumulateTwoPhaseDispatches(l),l}}s&&s(t,e,n)}};t.exports=M},function(t,e,n){"use strict";var r=0,i={createReactRootIndex:function(){return r++}};t.exports=i},function(t,e,n){(function(e){"use strict";function r(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var i=n(179),o=n(116),s=n(247),a=n(3),u={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(t,n){for(var u,c=null,l=null,p=0;p<t.length;p++)if(u=t[p],u.type===o.MOVE_EXISTING||u.type===o.REMOVE_NODE){var f=u.fromIndex,d=u.parentNode.childNodes[f],h=u.parentID;"production"!==e.env.NODE_ENV?a(d,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",f,h):a(d),c=c||{},c[h]=c[h]||[],c[h][f]=d,l=l||[],l.push(d)}var m=i.dangerouslyRenderMarkup(n);if(l)for(var g=0;g<l.length;g++)l[g].parentNode.removeChild(l[g]);for(var v=0;v<t.length;v++)switch(u=t[v],u.type){case o.INSERT_MARKUP:r(u.parentNode,m[u.markupIndex],u.toIndex);break;case o.MOVE_EXISTING:r(u.parentNode,c[u.parentID][u.fromIndex],u.toIndex);break;case o.TEXT_CONTENT:s(u.parentNode,u.textContent);break;case o.REMOVE_NODE:}}};t.exports=u}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){return t.substring(1,t.indexOf(" "))}var i=n(8),o=n(231),s=n(23),a=n(126),u=n(3),c=/^(<[^ \/>]+)/,l="data-danger-index",p={dangerouslyRenderMarkup:function(t){"production"!==e.env.NODE_ENV?u(i.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(i.canUseDOM);for(var n,p={},f=0;f<t.length;f++)"production"!==e.env.NODE_ENV?u(t[f],"dangerouslyRenderMarkup(...): Missing markup."):u(t[f]),n=r(t[f]),n=a(n)?n:"*",p[n]=p[n]||[],p[n][f]=t[f];var d=[],h=0;for(n in p)if(p.hasOwnProperty(n)){var m,g=p[n];for(m in g)if(g.hasOwnProperty(m)){var v=g[m];g[m]=v.replace(c,"$1 "+l+'="'+m+'" ')}for(var y=o(g.join(""),s),_=0;_<y.length;++_){var b=y[_];b.hasAttribute&&b.hasAttribute(l)?(m=+b.getAttribute(l),b.removeAttribute(l),"production"!==e.env.NODE_ENV?u(!d.hasOwnProperty(m),"Danger: Assigning to an already-occupied result index."):u(!d.hasOwnProperty(m)),d[m]=b,h+=1):"production"!==e.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",b)}}return"production"!==e.env.NODE_ENV?u(h===d.length,"Danger: Did not assign to every index of resultList."):u(h===d.length),"production"!==e.env.NODE_ENV?u(d.length===t.length,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,d.length):u(d.length===t.length),d},dangerouslyReplaceNodeWithMarkup:function(t,n){"production"!==e.env.NODE_ENV?u(i.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(i.canUseDOM),"production"!==e.env.NODE_ENV?u(n,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):u(n),"production"!==e.env.NODE_ENV?u("html"!==t.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):u("html"!==t.tagName.toLowerCase());var r=o(n,s)[0];t.parentNode.replaceChild(r,t)}};t.exports=p}).call(e,n(1))},function(t,e,n){"use strict";var r=n(24),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=i},function(t,e,n){"use strict";var r=n(10),i=n(43),o=n(57),s=n(13),a=n(24),u=r.topLevelTypes,c=s.getFirstReactDOM,l={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},p=[null,null],f={eventTypes:l,extractEvents:function(t,e,n,r){if(t===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var a;if(e.window===e)a=e;else{var f=e.ownerDocument;a=f?f.defaultView||f.parentWindow:window}var d,h;if(t===u.topMouseOut?(d=e,h=c(r.relatedTarget||r.toElement)||a):(d=a,h=e),d===h)return null;var m=d?s.getID(d):"",g=h?s.getID(h):"",v=o.getPooled(l.mouseLeave,m,r);v.type="mouseleave",v.target=d,v.relatedTarget=h;var y=o.getPooled(l.mouseEnter,g,r);return y.type="mouseenter",y.target=h,y.relatedTarget=d,i.accumulateEnterLeaveDispatches(v,y,m,g),p[0]=v,p[1]=y,p}};t.exports=f},function(t,e,n){(function(e){var r=n(23),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,n,i){return t.addEventListener?(t.addEventListener(n,i,!0),{remove:function(){t.removeEventListener(n,i,!0)}}):("production"!==e.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=n(18),o=n(4),s=n(127);o(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;r>t&&n[t]===i[t];t++);var s=r-t;for(e=1;s>=e&&n[r-e]===i[o-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=i.slice(t,a),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r,i=n(26),o=n(8),s=i.injection.MUST_USE_ATTRIBUTE,a=i.injection.MUST_USE_PROPERTY,u=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,l=i.injection.HAS_NUMERIC_VALUE,p=i.injection.HAS_POSITIVE_NUMERIC_VALUE,f=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var d=document.implementation;r=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|u,allowTransparency:s,alt:null,async:u,autoComplete:null,autoPlay:u,cellPadding:null,cellSpacing:null,charSet:s,checked:a|u,classID:s,className:r?s:a,cols:s|p,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|u,coords:null,crossOrigin:null,data:null,dateTime:s,defer:u,dir:null,disabled:s|u,download:f,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:u,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|u,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:s,loop:a|u,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,multiple:a|u,muted:a|u,name:null,noValidate:u,open:u,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|u,rel:null,required:u,role:s,rows:s|p,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:s|u,selected:a|u,shape:null,size:s|p,sizes:s,span:p,spellCheck:null,src:null,srcDoc:a,srcSet:s,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|c,width:s,wmode:s,autoCapitalize:null,autoCorrect:null,itemProp:s,itemScope:s|u,itemType:s,itemID:s,itemRef:s,property:null},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},function(t,e,n){"use strict";var r=n(10),i=n(23),o=r.topLevelTypes,s={eventTypes:null,extractEvents:function(t,e,n,r){if(t===o.topTouchStart){var s=r.target;s&&!s.onclick&&(s.onclick=i)}}};t.exports=s},function(t,e,n){(function(e){"use strict";var r=n(73),i=n(188),o=n(111),s=n(11),a=n(78),u=n(20),c=n(5),l=n(44),p=n(190),f=n(113),d=n(201),h=n(34),m=n(13),g=n(22),v=n(117),y=n(36),_=n(212),b=n(4),E=n(122),x=n(243);d.inject();var w=c.createElement,S=c.createFactory,C=c.cloneElement;"production"!==e.env.NODE_ENV&&(w=l.createElement,S=l.createFactory,C=l.cloneElement);var N=g.measure("React","render",m.render),O={Children:{map:i.map,forEach:i.forEach,count:i.count,only:x},Component:o,DOM:p,PropTypes:v,initializeTouchEvents:function(t){r.useTouchEvents=t},createClass:s.createClass,createElement:w,cloneElement:C,createFactory:S,createMixin:function(t){return t},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:E,render:N,renderToString:_.renderToString,renderToStaticMarkup:_.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:a.withContext,__spread:b};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:u,InstanceHandles:h,Mount:m,Reconciler:y,TextComponent:f}),"production"!==e.env.NODE_ENV){var T=n(8);if(T.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools");for(var D=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],j=0;j<D.length;j++)if(!D[j]){console.error("One or more ES5 shim/shams expected by React are not available: http://fb.me/react-warning-polyfills");break}}}O.version="0.13.1",t.exports=O}).call(e,n(1))},function(t,e,n){"use strict";var r=n(36),i=n(233),o=n(89),s=n(92),a={instantiateChildren:function(t,e,n){var r=i(t);for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],u=o(a,null);r[s]=u}return r},updateChildren:function(t,e,n,a){var u=i(e);if(!u&&!t)return null;var c;for(c in u)if(u.hasOwnProperty(c)){var l=t&&t[c],p=l&&l._currentElement,f=u[c];if(s(p,f))r.receiveComponent(l,f,n,a),u[c]=l;else{l&&r.unmountComponent(l,c);var d=o(f,null);u[c]=d}}for(c in t)!t.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||r.unmountComponent(t[c]);return u},unmountChildren:function(t){for(var e in t){var n=t[e];r.unmountComponent(n)}}};t.exports=a},function(t,e,n){(function(e){"use strict";function r(t,e){this.forEachFunction=t,this.forEachContext=e}function i(t,e,n,r){var i=t;i.forEachFunction.call(i.forEachContext,e,r)}function o(t,e,n){if(null==t)return t;var o=r.getPooled(e,n);d(t,i,o),r.release(o)}function s(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function a(t,n,r,i){var o=t,s=o.mapResult,a=!s.hasOwnProperty(r);if("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?h(a,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),a){var u=o.mapFunction.call(o.mapContext,n,i);s[r]=u}}function u(t,e,n){if(null==t)return t;var r={},i=s.getPooled(r,e,n);return d(t,a,i),s.release(i),f.create(r)}function c(t,e,n,r){return null}function l(t,e){return d(t,c,null)}var p=n(18),f=n(54),d=n(130),h=n(7),m=p.twoArgumentPooler,g=p.threeArgumentPooler;p.addPoolingTo(r,m),p.addPoolingTo(s,g);var v={forEach:o,map:u,count:l};t.exports=v}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=n(77),o=n(78),s=n(20),a=n(5),u=n(44),c=n(35),l=n(81),p=n(55),f=n(22),d=n(82),h=n(56),m=n(36),g=n(14),v=n(4),y=n(59),_=n(3),b=n(92),E=n(7),x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(t,n,r){this._context=r,this._mountOrder=x++,this._rootNodeID=t;var i=this._processProps(this._currentElement.props),o=this._processContext(this._currentElement._context),s=p.getComponentClassForElement(this._currentElement),a=new s(i,o);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E(null!=a.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",s.displayName||s.name||"Component"):null),a.props=i,a.context=o,a.refs=y,this._instance=a,c.set(a,this),"production"!==e.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,r),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E(!a.getInitialState||a.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!a.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!a.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E("function"!=typeof a.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var u=a.state;void 0===u&&(a.state=u=null),"production"!==e.env.NODE_ENV?_("object"==typeof u&&!Array.isArray(u),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):_("object"==typeof u&&!Array.isArray(u)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var f,d=l.currentlyMountingInstance;l.currentlyMountingInstance=this;try{a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),f=this._renderValidatedComponent()}finally{l.currentlyMountingInstance=d}this._renderedComponent=this._instantiateReactComponent(f,this._currentElement.type);var h=m.mountComponent(this._renderedComponent,t,n,this._processChildContext(r));return a.componentDidMount&&n.getReactMountReady().enqueue(a.componentDidMount,a),h},unmountComponent:function(){var t=this._instance;if(t.componentWillUnmount){var e=l.currentlyUnmountingInstance;l.currentlyUnmountingInstance=this;try{t.componentWillUnmount()}finally{l.currentlyUnmountingInstance=e}}m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,c.remove(t)},_setPropsInternal:function(t,e){var n=this._pendingElement||this._currentElement;this._pendingElement=a.cloneAndReplaceProps(n,v({},n.props,t)),g.enqueueUpdate(this,e)},_maskContext:function(t){var e=null;if("string"==typeof this._currentElement.type)return y;var n=this._currentElement.type.contextTypes;if(!n)return y;e={};for(var r in n)e[r]=t[r];return e},_processContext:function(t){var n=this._maskContext(t);if("production"!==e.env.NODE_ENV){var r=p.getComponentClassForElement(this._currentElement);r.contextTypes&&this._checkPropTypes(r.contextTypes,n,d.context)}return n},_processChildContext:function(t){var n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"production"!==e.env.NODE_ENV?_("object"==typeof n.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):_("object"==typeof n.constructor.childContextTypes),"production"!==e.env.NODE_ENV&&this._checkPropTypes(n.constructor.childContextTypes,r,d.childContext);for(var i in r)"production"!==e.env.NODE_ENV?_(i in n.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i):_(i in n.constructor.childContextTypes);return v({},t,r)}return t},_processProps:function(t){if("production"!==e.env.NODE_ENV){var n=p.getComponentClassForElement(this._currentElement);n.propTypes&&this._checkPropTypes(n.propTypes,t,d.prop)}return t},_checkPropTypes:function(t,n,i){var o=this.getName();for(var s in t)if(t.hasOwnProperty(s)){var a;try{"production"!==e.env.NODE_ENV?_("function"==typeof t[s],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",h[i],s):_("function"==typeof t[s]),a=t[s](n,s,o,i)}catch(u){a=u}if(a instanceof Error){var c=r(this);i===d.prop?"production"!==e.env.NODE_ENV?E(!1,"Failed Composite propType: %s%s",a.message,c):null:"production"!==e.env.NODE_ENV?E(!1,"Failed Context Types: %s%s",a.message,c):null}}},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==e.env.NODE_ENV&&u.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(t,n){t=this._maskContext(t),n=this._maskContext(n);for(var r=Object.keys(n).sort(),i=this.getName()||"ReactCompositeComponent",o=0;o<r.length;o++){var s=r[o];"production"!==e.env.NODE_ENV?E(t[s]===n[s],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",t[s],n[s],s,i):null}},updateComponent:function(t,n,r,i,o){var s=this._instance,a=s.context,u=s.props;n!==r&&(a=this._processContext(r._context),u=this._processProps(r.props),"production"!==e.env.NODE_ENV&&null!=o&&this._warnIfContextsDiffer(r._context,o),s.componentWillReceiveProps&&s.componentWillReceiveProps(u,a));var c=this._processPendingState(u,a),l=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(u,c,a);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E("undefined"!=typeof l,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),l?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,u,c,a,t,o)):(this._currentElement=r,this._context=o,s.props=u,s.state=c,s.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;for(var o=v({},i?r[0]:n.state),s=i?1:0;s<r.length;s++){var a=r[s];v(o,"function"==typeof a?a.call(n,o,t,e):a)}return o},_performComponentUpdate:function(t,e,n,r,i,o){var s=this._instance,a=s.props,u=s.state,c=s.context;s.componentWillUpdate&&s.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,s.props=e,s.state=n,s.context=r,this._updateRenderedComponent(i,o),s.componentDidUpdate&&i.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,a,u,c),s)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(b(r,i))m.receiveComponent(n,i,t,this._processChildContext(e));else{var o=this._rootNodeID,s=n._rootNodeID;m.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i,this._currentElement.type);var a=m.mountComponent(this._renderedComponent,o,t,e);this._replaceNodeWithMarkupByID(s,a)}},_replaceNodeWithMarkupByID:function(t,e){i.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,n=t.render();return"production"!==e.env.NODE_ENV&&"undefined"==typeof n&&t.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(){var t,n=o.current;o.current=this._processChildContext(this._currentElement._context),s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=n,s.current=null}return"production"!==e.env.NODE_ENV?_(null===t||t===!1||a.isValidElement(t),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):_(null===t||t===!1||a.isValidElement(t)),t},attachRef:function(t,e){var n=this.getPublicInstance(),r=n.refs===y?n.refs={}:n.refs;r[t]=e.getPublicInstance()},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};f.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var S={Mixin:w};t.exports=S}).call(e,n(1))},function(t,e,n){(function(e){"use strict";function r(t){return"production"!==e.env.NODE_ENV?o.createFactory(t):i.createFactory(t)}var i=n(5),o=n(44),s=n(241),a=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a}).call(e,n(1))},function(t,e,n){"use strict";var r=n(53),i=n(19),o=n(11),s=n(5),a=n(46),u=s.createFactory("button"),c=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),l=o.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,i],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&c[e]||(t[e]=this.props[e]);return u(t,this.props.children)}});t.exports=l},function(t,e,n){"use strict";var r=n(10),i=n(75),o=n(19),s=n(11),a=n(5),u=a.createFactory("form"),c=s.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[o,i],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=c},function(t,e,n){"use strict";var r=n(10),i=n(75),o=n(19),s=n(11),a=n(5),u=a.createFactory("iframe"),c=s.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[o,i],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=c},function(t,e,n){"use strict";var r=n(10),i=n(75),o=n(19),s=n(11),a=n(5),u=a.createFactory("img"),c=s.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,i],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=c},function(t,e,n){(function(e){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=n(53),o=n(41),s=n(74),a=n(19),u=n(11),c=n(5),l=n(13),p=n(14),f=n(4),d=n(3),h=c.createFactory("input"),m={},g=u.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,s.Mixin,a],getInitialState:function(){var t=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=f({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=s.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=s.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,h(t,this.props.children)},componentDidMount:function(){var t=l.getID(this.getDOMNode());m[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=l.getID(t);delete m[e]},componentDidUpdate:function(t,e,n){var r=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(r,"checked",this.props.checked||!1);var i=s.getValue(this);null!=i&&o.setValueForProperty(r,"value",""+i)},_handleChange:function(t){var n,i=s.getOnChange(this);i&&(n=i.call(this,t)),p.asap(r,this);var o=this.props.name;if("radio"===this.props.type&&null!=o){for(var a=this.getDOMNode(),u=a;u.parentNode;)u=u.parentNode;for(var c=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),f=0,h=c.length;h>f;f++){var g=c[f];if(g!==a&&g.form===a.form){var v=l.getID(g);"production"!==e.env.NODE_ENV?d(v,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):d(v);var y=m[v];"production"!==e.env.NODE_ENV?d(y,"ReactDOMInput: Unknown radio button ID %s.",v):d(y),p.asap(r,y)}}}return n}});t.exports=g}).call(e,n(1))},function(t,e,n){(function(e){"use strict";var r=n(19),i=n(11),o=n(5),s=n(7),a=o.createFactory("option"),u=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return a(this.props,this.props.children)}});t.exports=u}).call(e,n(1))},function(t,e,n){"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var t=a.getValue(this);null!=t&&this.isMounted()&&o(this,t)}}function i(t,e,n){if(null==t[e])return null;if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(t,e){var n,r,i,o=t.getDOMNode().options;if(t.props.multiple){for(n={},r=0,i=e.length;i>r;r++)n[""+e[r]]=!0;for(r=0,i=o.length;i>r;r++){var s=n.hasOwnProperty(o[r].value);o[r].selected!==s&&(o[r].selected=s)}}else{for(n=""+e,r=0,i=o.length;i>r;r++)if(o[r].value===n)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}var s=n(53),a=n(74),u=n(19),c=n(11),l=n(5),p=n(14),f=n(4),d=l.createFactory("select"),h=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[s,a.Mixin,u],propTypes:{defaultValue:i,value:i},render:function(){var t=f({},this.props);return t.onChange=this._handleChange,t.value=null,d(t,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var t=a.getValue(this);null!=t?o(this,t):null!=this.props.defaultValue&&o(this,this.props.defaultValue)},componentDidUpdate:function(t){var e=a.getValue(this);null!=e?(this._pendingUpdate=!1,o(this,e)):!t.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?o(this,this.props.defaultValue):o(this,this.props.multiple?[]:""))},_handleChange:function(t){var e,n=a.getOnChange(this);return n&&(e=n.call(this,t)),this._pendingUpdate=!0,p.asap(r,this),e}});t.exports=h},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function i(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,s=o+r;return{start:o,end:s}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,i=e.anchorOffset,o=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0),u=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=u?0:a.toString().length,l=a.cloneRange();l.selectNodeContents(t),l.setEnd(a.startContainer,a.startOffset);var p=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),f=p?0:l.toString().length,d=f+c,h=document.createRange();h.setStart(n,i),h.setEnd(o,s);var m=h.collapsed;return{start:m?d:f,end:m?f:d}}function s(t,e){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),
i.moveEnd("character",r-n),i.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),r=t[l()].length,i=Math.min(e.start,r),o="undefined"==typeof e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var s=o;o=i,i=s}var a=c(t,i),u=c(t,o);if(a&&u){var p=document.createRange();p.setStart(a.node,a.offset),n.removeAllRanges(),i>o?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(8),c=n(235),l=n(127),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),f={getOffsets:p?i:o,setOffsets:p?s:a};t.exports=f},function(t,e,n){(function(e){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=n(53),o=n(41),s=n(74),a=n(19),u=n(11),c=n(5),l=n(14),p=n(4),f=n(3),d=n(7),h=c.createFactory("textarea"),m=u.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,s.Mixin,a],getInitialState:function(){var t=this.props.defaultValue,n=this.props.children;null!=n&&("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?d(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==e.env.NODE_ENV?f(null==t,"If you supply `defaultValue` on a <textarea>, do not pass children."):f(null==t),Array.isArray(n)&&("production"!==e.env.NODE_ENV?f(n.length<=1,"<textarea> can only have at most one child."):f(n.length<=1),n=n[0]),t=""+n),null==t&&(t="");var r=s.getValue(this);return{initialValue:""+(null!=r?r:t)}},render:function(){var t=p({},this.props);return"production"!==e.env.NODE_ENV?f(null==t.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):f(null==t.dangerouslySetInnerHTML),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,h(t,this.state.initialValue)},componentDidUpdate:function(t,e,n){var r=s.getValue(this);if(null!=r){var i=this.getDOMNode();o.setValueForProperty(i,"value",""+r)}},_handleChange:function(t){var e,n=s.getOnChange(this);return n&&(e=n.call(this,t)),l.asap(r,this),e}});t.exports=m}).call(e,n(1))},function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(14),o=n(58),s=n(4),a=n(23),u={initialize:a,close:function(){f.isBatchingUpdates=!1}},c={initialize:a,close:i.flushBatchedUpdates.bind(i)},l=[c,u];s(r.prototype,o.Mixin,{getTransactionWrappers:function(){return l}});var p=new r,f={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i){var o=f.isBatchingUpdates;f.isBatchingUpdates=!0,o?t(e,n,r,i):p.perform(t,null,e,n,r,i)}};t.exports=f},function(t,e,n){(function(e){"use strict";function r(t){return h.createClass({tagName:t.toUpperCase(),render:function(){return new T(t,null,null,null,null,this.props)}})}function i(){if(j.EventEmitter.injectReactEventListener(D),j.EventPluginHub.injectEventPluginOrder(u),j.EventPluginHub.injectInstanceHandle(I),j.EventPluginHub.injectMount(A),j.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:M,EnterLeaveEventPlugin:c,ChangeEventPlugin:s,MobileSafariClickEventPlugin:f,SelectEventPlugin:k,BeforeInputEventPlugin:o}),j.NativeComponent.injectGenericComponentClass(v),j.NativeComponent.injectTextComponentClass(O),j.NativeComponent.injectAutoWrapper(r),j.Class.injectMixin(d),j.NativeComponent.injectComponentClasses({button:y,form:_,iframe:x,img:b,input:w,option:S,select:C,textarea:N,html:F("html"),head:F("head"),body:F("body")}),j.DOMProperty.injectDOMPropertyConfig(p),j.DOMProperty.injectDOMPropertyConfig(L),j.EmptyComponent.injectEmptyComponent("noscript"),j.Updates.injectReconcileTransaction(R),j.Updates.injectBatchingStrategy(g),j.RootIndex.injectCreateReactRootIndex(l.canUseDOM?a.createReactRootIndex:P.createReactRootIndex),j.Component.injectEnvironment(m),j.DOMComponent.injectIDOperations(E),"production"!==e.env.NODE_ENV){var t=l.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var i=n(202);i.start()}}}var o=n(175),s=n(176),a=n(177),u=n(180),c=n(181),l=n(8),p=n(184),f=n(185),d=n(19),h=n(11),m=n(76),g=n(200),v=n(79),y=n(191),_=n(192),b=n(194),E=n(112),x=n(193),w=n(195),S=n(196),C=n(197),N=n(199),O=n(113),T=n(5),D=n(206),j=n(207),I=n(34),A=n(13),R=n(210),k=n(215),P=n(216),M=n(217),L=n(214),F=n(230);t.exports={inject:i}}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return Math.floor(100*t)/100}function i(t,e,n){t[e]=(t[e]||0)+n}var o=n(26),s=n(203),a=n(13),u=n(22),c=n(245),l={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){l._injected||u.injection.injectMeasure(l.measure),l._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return l._allMeasurements},printExclusive:function(t){t=t||l._allMeasurements;var e=s.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":r(t.inclusive),"Exclusive mount time (ms)":r(t.exclusive),"Exclusive render time (ms)":r(t.render),"Mount time per instance (ms)":r(t.exclusive/t.count),"Render time per instance (ms)":r(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||l._allMeasurements;var e=s.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":r(t.time),Instances:t.count}})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=s.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||l._allMeasurements,console.table(l.getMeasurementsSummaryMap(t)),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||l._allMeasurements;var e=s.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[o.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,r){var i=l._allMeasurements[l._allMeasurements.length-1].writes;i[t]=i[t]||[],i[t].push({type:e,time:n,args:r})},measure:function(t,e,n){return function(){for(var r=[],o=0,s=arguments.length;s>o;o++)r.push(arguments[o]);var u,p,f;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return l._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),f=c(),p=n.apply(this,r),l._allMeasurements[l._allMeasurements.length-1].totalTime=c()-f,p;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===t){if(f=c(),p=n.apply(this,r),u=c()-f,"_mountImageIntoNode"===e){var d=a.getID(r[1]);l._recordWrite(d,e,u,r[0])}else"dangerouslyProcessChildrenUpdates"===e?r[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=r[1][t.markupIndex]),l._recordWrite(t.parentID,t.type,u,e)}):l._recordWrite(r[0],e,u,Array.prototype.slice.call(r,1));return p}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var h="mountComponent"===e?r[0]:this._rootNodeID,m="_renderValidatedComponent"===e,g="mountComponent"===e,v=l._mountStack,y=l._allMeasurements[l._allMeasurements.length-1];if(m?i(y.counts,h,1):g&&v.push(0),f=c(),p=n.apply(this,r),u=c()-f,m)i(y.render,h,u);else if(g){var _=v.pop();v[v.length-1]+=u,i(y.exclusive,h,u-_),i(y.inclusive,h,u)}else i(y.inclusive,h,u);return y.displayNames[h]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},p}}};t.exports=l},function(t,e,n){function r(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r.totalTime}return e}function i(t){for(var e=[],n=0;n<t.length;n++){var r,i=t[n];for(r in i.writes)i.writes[r].forEach(function(t){e.push({id:r,type:l[t.type]||t.type,args:t.args})})}return e}function o(t){for(var e,n={},r=0;r<t.length;r++){var i=t[r],o=u({},i.exclusive,i.inclusive);for(var s in o)e=i.displayNames[s].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},i.render[s]&&(n[e].render+=i.render[s]),i.exclusive[s]&&(n[e].exclusive+=i.exclusive[s]),i.inclusive[s]&&(n[e].inclusive+=i.inclusive[s]),i.counts[s]&&(n[e].count+=i.counts[s])}var a=[];for(e in n)n[e].exclusive>=c&&a.push(n[e]);return a.sort(function(t,e){return e.exclusive-t.exclusive}),a}function s(t,e){for(var n,r={},i=0;i<t.length;i++){var o,s=t[i],l=u({},s.exclusive,s.inclusive);e&&(o=a(s));for(var p in l)if(!e||o[p]){var f=s.displayNames[p];n=f.owner+" > "+f.current,r[n]=r[n]||{componentName:n,time:0,count:0},s.inclusive[p]&&(r[n].time+=s.inclusive[p]),s.counts[p]&&(r[n].count+=s.counts[p])}}var d=[];for(n in r)r[n].time>=c&&d.push(r[n]);return d.sort(function(t,e){return e.time-t.time}),d}function a(t){var e={},n=Object.keys(t.writes),r=u({},t.exclusive,t.inclusive);for(var i in r){for(var o=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(i)){o=!0;break}!o&&t.counts[i]>0&&(e[i]=!0)}return e}var u=n(4),c=1.2,l={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},p={getExclusiveSummary:o,getInclusiveSummary:s,getDOMSummary:i,getTotalTime:r};t.exports=p},function(t,e,n){"use strict";var r={guard:function(t,e){return t}};t.exports=r},function(t,e,n){"use strict";function r(t){i.enqueueEvents(t),i.processEventQueue()}var i=n(42),o={handleTopLevel:function(t,e,n,o){var s=i.extractEvents(t,e,n,o);r(s)}};t.exports=o},function(t,e,n){"use strict";function r(t){var e=p.getID(t),n=l.getReactRootIDFromNodeID(e),r=p.findReactContainerForID(n),i=p.getFirstReactDOM(r);return i}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){for(var e=p.getFirstReactDOM(h(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=r(n);for(var i=0,o=t.ancestors.length;o>i;i++){e=t.ancestors[i];var s=p.getID(e)||"";g._handleTopLevel(t.topLevelType,e,s,t.nativeEvent)}}function s(t){var e=m(window);t(e)}var a=n(182),u=n(8),c=n(18),l=n(34),p=n(13),f=n(14),d=n(4),h=n(88),m=n(237);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?a.listen(r,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?a.capture(r,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=s.bind(null,t);a.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=i.getPooled(t,e);try{f.batchedUpdates(o,n)}finally{i.release(n)}}}};t.exports=g},function(t,e,n){"use strict";var r=n(26),i=n(42),o=n(77),s=n(11),a=n(80),u=n(33),c=n(55),l=n(79),p=n(22),f=n(119),d=n(14),h={Component:o.injection,Class:s.injection,DOMComponent:l.injection,DOMProperty:r.injection,EmptyComponent:a.injection,EventPluginHub:i.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:p.injection,RootIndex:f.injection,Updates:d.injection};t.exports=h},function(t,e,n){"use strict";function r(t,e,n){h.push({parentID:t,parentNode:null,type:l.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function i(t,e,n){h.push({parentID:t,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function o(t,e){h.push({parentID:t,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function s(t,e){h.push({parentID:t,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function a(){h.length&&(c.processChildrenUpdates(h,m),u())}function u(){h.length=0,m.length=0}var c=n(77),l=n(116),p=n(36),f=n(187),d=0,h=[],m=[],g={Mixin:{mountChildren:function(t,e,n){var r=f.instantiateChildren(t,e,n);this._renderedChildren=r;var i=[],o=0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],u=this._rootNodeID+s,c=p.mountComponent(a,u,e,n);a._mountIndex=o,i.push(c),o++}return i},updateTextContent:function(t){d++;var e=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(t),e=!1}finally{d--,d||(e?u():a())}},updateChildren:function(t,e,n){d++;var r=!0;try{this._updateChildren(t,e,n),r=!1}finally{d--,d||(r?u():a())}},_updateChildren:function(t,e,n){var r=this._renderedChildren,i=f.updateChildren(r,t,e,n);if(this._renderedChildren=i,i||r){var o,s=0,a=0;for(o in i)if(i.hasOwnProperty(o)){var u=r&&r[o],c=i[o];u===c?(this.moveChild(u,a,s),s=Math.max(u._mountIndex,s),u._mountIndex=a):(u&&(s=Math.max(u._mountIndex,s),this._unmountChildByName(u,o)),this._mountChildByNameAtIndex(c,o,a,e,n)),a++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChildByName(r[o],o)}},unmountChildren:function(){var t=this._renderedChildren;f.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&i(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){r(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){o(this._rootNodeID,t._mountIndex)},setTextContent:function(t){s(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,r,i){var o=this._rootNodeID+e,s=p.mountComponent(t,o,r,i);t._mountIndex=n,this.createChild(t,s)},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null}}};t.exports=g},function(t,e,n){(function(e){"use strict";var r=n(3),i={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,n,o){"production"!==e.env.NODE_ENV?r(i.isValidOwner(o),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(i.isValidOwner(o)),o.attachRef(n,t)},removeComponentAsRefFrom:function(t,n,o){"production"!==e.env.NODE_ENV?r(i.isValidOwner(o),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(i.isValidOwner(o)),o.getPublicInstance().refs[n]===t.getPublicInstance()&&o.detachRef(n)}};t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=u.getPooled()}var i=n(72),o=n(18),s=n(33),a=n(114),u=n(118),c=n(58),l=n(4),p={initialize:a.getSelectionInformation,close:a.restoreSelection},f={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[h,p,f,d],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,u.release(this.putListenerQueue),this.putListenerQueue=null}};l(r.prototype,c.Mixin,g),o.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function i(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(209),s={};s.attachRefs=function(t,e){var n=e.ref;null!=n&&r(n,t,e._owner)},s.shouldUpdateRefs=function(t,e){return e._owner!==t._owner||e.ref!==t.ref},s.detachRefs=function(t,e){var n=e.ref;null!=n&&i(n,t,e._owner)},t.exports=s},function(t,e,n){(function(e){"use strict";function r(t){"production"!==e.env.NODE_ENV?p(o.isValidElement(t),"renderToString(): You must pass a valid ReactElement."):p(o.isValidElement(t));var n;try{var r=s.createReactRootID();return n=u.getPooled(!1),n.perform(function(){var e=l(t,null),i=e.mountComponent(r,n,c);return a.addChecksumToMarkup(i)},null)}finally{u.release(n)}}function i(t){"production"!==e.env.NODE_ENV?p(o.isValidElement(t),"renderToStaticMarkup(): You must pass a valid ReactElement."):p(o.isValidElement(t));var n;try{var r=s.createReactRootID();return n=u.getPooled(!0),n.perform(function(){var e=l(t,null);return e.mountComponent(r,n,c)},null)}finally{u.release(n)}}var o=n(5),s=n(34),a=n(115),u=n(213),c=n(59),l=n(89),p=n(3);t.exports={renderToString:r,renderToStaticMarkup:i}}).call(e,n(1))},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=o.getPooled(null),this.putListenerQueue=s.getPooled()}var i=n(18),o=n(72),s=n(118),a=n(58),u=n(4),c=n(23),l={initialize:function(){this.reactMountReady.reset()},close:c},p={initialize:function(){this.putListenerQueue.reset()},close:c},f=[p,l],d={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};u(r.prototype,a.Mixin,d),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r=n(26),i=r.injection.MUST_USE_ATTRIBUTE,o={Properties:{cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=o},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&a.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(t){if(y||null==m||m!==c())return null;var e=r(m);if(!v||!f(v,e)){v=e;var n=u.getPooled(h.select,g,t);return n.type="select",n.target=m,s.accumulateTwoPhaseDispatches(n),n}}var o=n(10),s=n(43),a=n(114),u=n(27),c=n(124),l=n(129),p=n(24),f=n(248),d=o.topLevelTypes,h={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,g=null,v=null,y=!1,_={eventTypes:h,extractEvents:function(t,e,n,r){switch(t){case d.topFocus:(l(e)||"true"===e.contentEditable)&&(m=e,g=n,v=null);break;case d.topBlur:m=null,g=null,v=null;break;case d.topMouseDown:y=!0;break;case d.topContextMenu:case d.topMouseUp:return y=!1,i(r);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return i(r)}}};t.exports=_},function(t,e,n){"use strict";var r=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=i},function(t,e,n){(function(e){"use strict";var r=n(10),i=n(73),o=n(43),s=n(218),a=n(27),u=n(221),c=n(223),l=n(57),p=n(220),f=n(224),d=n(45),h=n(225),m=n(86),g=n(3),v=n(24),y=n(7),_=r.topLevelTypes,b={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},E={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var x in E)E[x].dependencies=[x];var w={eventTypes:b,executeDispatch:function(t,n,r){var o=i.executeDispatch(t,n,r);"production"!==e.env.NODE_ENV?y("boolean"!=typeof o,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,o===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,n,r,i){var v=E[t];if(!v)return null;var y;switch(t){case _.topInput:case _.topLoad:case _.topError:case _.topReset:case _.topSubmit:y=a;break;case _.topKeyPress:if(0===m(i))return null;case _.topKeyDown:case _.topKeyUp:y=c;break;case _.topBlur:case _.topFocus:y=u;break;case _.topClick:if(2===i.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:y=l;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:y=p;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:y=f;break;case _.topScroll:y=d;break;case _.topWheel:y=h;break;case _.topCopy:case _.topCut:case _.topPaste:y=s}"production"!==e.env.NODE_ENV?g(y,"SimpleEventPlugin: Unhandled event type, `%s`.",t):g(y);var b=y.getPooled(v,r,i);return o.accumulateTwoPhaseDispatches(b),b}};t.exports=w}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(27),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(27),o={data:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(57),o={dataTransfer:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(45),o={relatedTarget:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(27),o={data:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(45),o=n(86),s=n(234),a=n(87),u={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(r,u),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(45),o=n(87),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,s),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){i.call(this,t,e,n)}var i=n(57),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=1,n=0,r=0;r<t.length;r++)e=(e+t.charCodeAt(r))%i,n=(n+e)%i;return e|n<<16}var i=65521;t.exports=r},function(t,e,n){function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;t.exports=r},function(t,e,n){"use strict";function r(t){return i(t.replace(o,"ms-"))}var i=n(227),o=/^-ms-/;t.exports=r},function(t,e,n){function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function i(t){return r(t)?Array.isArray(t)?t.slice():o(t):[t]}var o=n(249);t.exports=i},function(t,e,n){(function(e){"use strict";function r(t){var n=o.createFactory(t),r=i.createClass({tagName:t.toUpperCase(),displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){"production"!==e.env.NODE_ENV?s(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):s(!1)},render:function(){return n(this.props)}});return r}var i=n(11),o=n(5),s=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){function r(t){var e=t.match(l);return e&&e[1].toLowerCase()}function i(t,n){var i=c;"production"!==e.env.NODE_ENV?u(!!c,"createNodesFromMarkup dummy not initialized"):u(!!c);var o=r(t),l=o&&a(o);if(l){i.innerHTML=l[1]+t+l[2];for(var p=l[0];p--;)i=i.lastChild}else i.innerHTML=t;var f=i.getElementsByTagName("script");f.length&&("production"!==e.env.NODE_ENV?u(n,"createNodesFromMarkup(...): Unexpected <script> element rendered."):u(n),s(f).forEach(n));for(var d=s(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return d}var o=n(8),s=n(229),a=n(126),u=n(3),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var r=isNaN(e);return r||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var i=n(108),o=i.isUnitlessNumber;t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,n,r){var i=t,o=!i.hasOwnProperty(r);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),o&&null!=n&&(i[r]=n)}function i(t){if(null==t)return t;var e={};return o(t,r,e),e}var o=n(130),s=n(7);t.exports=i}).call(e,n(1))},function(t,e,n){"use strict";function r(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=i(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var i=n(86),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},function(t,e,n){"use strict";function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var n=r(t),o=0,s=0;n;){if(3===n.nodeType){if(s=o+n.textContent.length,e>=o&&s>=e)return{node:n,offset:e-o};o=s}n=r(i(n))}}t.exports=o},function(t,e,n){
"use strict";function r(t){return t?t.nodeType===i?t.documentElement:t.firstChild:null}var i=9;t.exports=r},function(t,e,n){"use strict";function r(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=r},function(t,e,n){function r(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=r},function(t,e,n){"use strict";function r(t){return i(t).replace(o,"-ms-")}var i=n(238),o=/^ms-/;t.exports=r},function(t,e,n){function r(t){return i(t)&&3==t.nodeType}var i=n(128);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){if(!t)return null;var r={};for(var o in t)i.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}var i=Object.prototype.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=r},function(t,e,n){(function(e){"use strict";function r(t){return"production"!==e.env.NODE_ENV?o(i.isValidElement(t),"onlyChild must be passed a children with exactly one child."):o(i.isValidElement(t)),t}var i=n(5),o=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";var r,i=n(8);i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},function(t,e,n){var r=n(244);r&&r.now||(r=Date);var i=r.now.bind(r);t.exports=i},function(t,e,n){"use strict";function r(t){return'"'+i(t)+'"'}var i=n(60);t.exports=r},function(t,e,n){"use strict";var r=n(8),i=n(60),o=n(91),s=function(t,e){t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){o(t,i(e))})),t.exports=s},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=r},function(t,e,n){(function(e){function r(t){var n=t.length;if("production"!==e.env.NODE_ENV?i(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t),"toArray: Array-like object expected"):i(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t)),"production"!==e.env.NODE_ENV?i("number"==typeof n,"toArray: Object needs a length property"):i("number"==typeof n),"production"!==e.env.NODE_ENV?i(0===n||n-1 in t,"toArray: Object should have keys for indices"):i(0===n||n-1 in t),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(r){}for(var o=Array(n),s=0;n>s;s++)o[s]=t[s];return o}var i=n(3);t.exports=r}).call(e,n(1))},function(t,e,n){"use strict";e.VERSION="__STANZAIO_VERSION__",e.JID=n(12).JID,e.Client=n(251),e.createClient=function(t){var r=new e.Client(t);return r.use(n(274)),r}},function(t,e,n){"use strict";function r(t){var e=this;u.call(this),t=t||{},this._initConfig(t),this.stanzas=a.getGlobalJXT(),this.jid=new f,this.stanzas=a.createRegistry(),this.stanzas.use(n(428)),this.stanzas.use(n(333)),this.stanzas.use(n(339)),this.stanzas.use(n(327)),this.stanzas.use(n(318)),this.stanzas.use(n(357)),this.use(n(269)),this.use(n(296)),this.use(n(299)),this.use(n(254)),this.use(n(297)),this.sm=new d(this),this.transports={},this.use(n(303)),this.use(n(285)),this.use(n(258)),this.on("stream:data",function(t){var n=t.toJSON();if("iq"===t._name&&(n._xmlChildCount=0,i(t.xml.childNodes,function(t){1===t.nodeType&&(n._xmlChildCount+=1)})),e.emit(t._eventname||t._name,n),"message"===t._name||"presence"===t._name||"iq"===t._name)e.sm.handle(n),e.emit("stanza",n);else{if("smAck"===t._name)return e.sm.process(n);if("smRequest"===t._name)return e.sm.ack()}n.id&&(e.emit("id:"+n.id,n),e.emit(t._name+":id:"+n.id,n))}),this.on("disconnected",function(){e.transport&&(e.transport.off("*"),delete e.transport),e.releaseGroup("connection")}),this.on("iq",function(t){var n=t.type,r=t._xmlChildCount;delete t._xmlChildCount;var i=Object.keys(t);if("get"===t.type||"set"===t.type){if(1!==r)return e.sendIq(t.errorReply({error:{type:"modify",condition:"bad-request"}}));if(!i.length)return e.sendIq(t.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}));var o="iq:"+n+":"+i[0];e.callbacks[o]?e.emit(o,t):e.sendIq(t.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}))}}),this.on("message",function(t){Object.keys(t.$body||{}).length&&("chat"===t.type||"normal"===t.type?e.emit("chat",t):"groupchat"===t.type&&e.emit("groupchat",t)),"error"===t.type&&e.emit("message:error",t)}),this.on("presence",function(t){var n=t.type||"available";"error"===n&&(n="presence:error"),e.emit(n,t)})}var i=n(25),o=n(39),s=n(9),a=n(96),u=n(15),c=n(6),l=n(61),p=n(149),f=n(12).JID,d=n(304),h=n(376),m=n(490),g={external:n(471),"scram-sha-1":n(474),"digest-md5":n(365),plain:n(473),anonymous:n(469)};c.inherits(r,u),Object.defineProperty(r.prototype,"stream",{get:function(){return this.transport?this.transport.stream:void 0}}),r.prototype._initConfig=function(t){var e=this,n=this.config||{};this.config=o({useStreamManagement:!0,transports:["websocket","bosh"],sasl:["external","scram-sha-1","digest-md5","plain","anonymous"]},n,t),s(this.config.sasl)||(this.config.sasl=[this.config.sasl]),this.SASLFactory=new m,this.config.sasl.forEach(function(t){if("string"==typeof t){var n=g[t.toLowerCase()];n&&e.SASLFactory.use(n)}else e.SASLFactory.use(t)}),this.config.jid=new f(this.config.jid),this.config.server||(this.config.server=this.config.jid.domain),this.config.password&&(this.config.credentials=this.config.credentials||{},this.config.credentials.password=this.config.password,delete this.config.password),this.config.transport&&(this.config.transports=[this.config.transport]),s(this.config.transports)||(this.config.transports=[this.config.transports])},r.prototype.use=function(t){t(this,this.stanzas,this.config)},r.prototype.nextId=function(){return p.v4()},r.prototype.discoverBindings=function(t,e){h(t,function(t,n){if(t)return e(t,[]);var r={websocket:[],bosh:[]},i=n.links||[];i.forEach(function(t){t.href&&"urn:xmpp:alt-connections:websocket"===t.rel&&r.websocket.push(t.href),t.href&&"urn:xmpp:altconnect:websocket"===t.rel&&r.websocket.push(t.href),t.href&&"urn:xmpp:alt-connections:xbosh"===t.rel&&r.bosh.push(t.href),t.href&&"urn:xmpp:altconnect:bosh"===t.rel&&r.bosh.push(t.href)}),e(!1,r)})},r.prototype.getCredentials=function(){var t=this.config.credentials||{},e=new f(this.config.jid),n=t.username||e.local,r=t.server||e.domain,i={username:n,password:this.config.password,server:r,host:r,realm:r,serviceType:"xmpp",serviceName:r},s=o(i,t);return s},r.prototype.connect=function(t,e){var n=this;if(this._initConfig(t),e&&e.name&&e.url){var r=n.transport=new n.transports[e.name](n.sm,n.stanzas);return r.on("*",function(t,e){n.emit(t,e)}),r.connect(n.config)}return!e&&1===n.config.transports.length&&(e={},e.name=n.config.transports[0],("websocket"===e.name||"old-websocket"===e.name)&&(e.url=n.config.wsURL),"bosh"===e.name&&(e.url=n.config.boshURL),e.name&&e.url)?n.connect(null,e):n.discoverBindings(n.config.server,function(t,e){if(t)return console.error("Could not find https://"+n.config.server+"/.well-known/host-meta file to discover connection endpoints for the requested transports."),n.disconnect();for(var r=0,i=n.config.transports.length;i>r;r++){var o=n.config.transports[r];console.log("Checking for %s endpoints",o);for(var s=0,a=(e[o]||[]).length;a>s;s++){var u=e[o][s];if(0===u.indexOf("wss://")||0===u.indexOf("https://"))return"websocket"===o?n.config.wsURL=u:n.config.boshURL=u,console.log("Using %s endpoint: %s",o,u),n.connect(null,{name:o,url:u});console.warn("Discovered unencrypted %s endpoint (%s). Ignoring",o,u)}}return console.error("No endpoints found for the requested transports."),n.disconnect()})},r.prototype.disconnect=function(){this.sessionStarted&&(this.releaseGroup("session"),this.sm.started||this.emit("session:end")),this.sessionStarted=!1,this.releaseGroup("connection"),this.transport?this.transport.disconnect():this.emit("disconnected")},r.prototype.send=function(t){this.sm.track(t),this.transport&&this.transport.send(t)},r.prototype.sendMessage=function(t){t=t||{},t.id||(t.id=this.nextId());var e=this.stanzas.getMessage(),n=new e(t);return this.emit("message:sent",n.toJSON()),this.send(n),t.id},r.prototype.sendPresence=function(t){t=t||{},t.id||(t.id=this.nextId());var e=this.stanzas.getPresence();return this.send(new e(t)),t.id},r.prototype.sendIq=function(t,e){var n,r,i,o,s=this;t=t||{},t.id||(t.id=this.nextId());var a=this.stanzas.getIq(),u=t.toJSON?t:new a(t);return"error"===t.type||"result"===t.type?void this.send(u):(o=new f(t.to),i={},i[""]=!0,i[o.full]=!0,i[o.bare]=!0,i[o.domain]=!0,i[s.jid.bare]=!0,i[s.jid.domain]=!0,r="iq:id:"+t.id,n=new l(function(t,e){var n=function(o){i[o.from.full]&&("result"===o.type||"error"===o.type)&&(s.off(r,n),o.error?e(o):t(o))};s.on(r,"session",n)}),this.send(u),n.timeout(1e3*s.config.timeout||15e3)["catch"](l.TimeoutError,function(){throw{id:t.id,type:"error",error:{condition:"timeout"}}}).nodeify(e))},r.prototype.sendStreamError=function(t){t=t||{};var e=this.stanzas.getStreamError(),n=new e(t);this.emit("stream:error",n.toJSON()),this.send(n),this.disconnect()},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){t.disco.addFeature("urn:xmpp:attention:0"),t.getAttention=function(e,n){n=n||{},n.to=e,n.type="headline",n.attention=!0,t.sendMessage(n)},t.on("message",function(e){e.attention&&t.emit("attention",e)})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(305)),t.disco.addFeature("urn:xmpp:avatar:metadata+notify"),t.on("pubsub:event",function(e){e.event.updated&&"urn:xmpp:avatar:metadata"===e.event.updated.node&&t.emit("avatar",{jid:e.from,source:"pubsub",avatars:e.event.updated.published[0].avatars})}),t.on("presence",function(e){e.avatarId&&t.emit("avatar",{jid:e.from,source:"vcard",avatars:[{id:e.avatarId}]})}),t.publishAvatar=function(t,e,n){return this.publish("","urn:xmpp:avatar:data",{id:t,avatarData:e},n)},t.useAvatars=function(t,e){return this.publish("","urn:xmpp:avatar:metadata",{id:"current",avatars:t},e)},t.getAvatar=function(t,e,n){return this.getItem(t,"urn:xmpp:avatar:data",e,n)}}},function(t,e,n){"use strict";var r=n(12).JID;t.exports=function(t,e,i){e.use(n(306)),t.registerFeature("bind",300,function(t,e){var n=this;n.sendIq({type:"set",bind:{resource:i.resource}},function(i,o){if(i)return n.emit("session:error",i),e("disconnect","JID binding failed");n.features.negotiated.bind=!0,n.jid=new r(o.bind.jid),n.emit("session:bound",n.jid);var s=!t.session||t.session&&t.session.optional;return!n.sessionStarted&&s&&(n.sessionStarted=!0,n.emit("session:started",n.jid)),e()})}),t.on("disconnected",function(){t.sessionStarted=!1,t.features.negotiated.bind=!1})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(307)),t.disco.addFeature("urn:xmpp:blocking"),t.block=function(e,n){return t.sendIq({type:"set",block:{jids:[e]}},n)},t.unblock=function(e,n){return t.sendIq({type:"set",unblock:{jids:[e]}},n)},t.getBlocked=function(e){return t.sendIq({type:"get",blockList:!0},e)},t.on("iq:set:block",function(e){t.emit("block",{jids:e.block.jids||[]}),t.sendIq(e.resultReply())}),t.on("iq:set:unblock",function(e){t.emit("unblock",{jids:e.unblock.jids||[]}),t.sendIq(e.resultReply())})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(308)),t.disco.addFeature("urn:xmpp:bob"),t.getBits=function(e,n,r){return t.sendIq({to:e,type:"get",bob:{cid:n}},r)}}},function(t,e,n){"use strict";var r=n(39),i=n(144),o=n(12).JID;t.exports=function(t,e){e.use(n(309)),t.getBookmarks=function(t){return this.getPrivateData({bookmarks:!0},t)},t.setBookmarks=function(t,e){return this.setPrivateData({bookmarks:t},e)},t.addBookmark=function(e,n){return e.jid=new o(e.jid),this.getBookmarks().then(function(n){var o=n.privateStorage.bookmarks.conferences||[],s=i(o,function(t){return t.jid.bare===e.jid.bare});return s.length?r(s[0],e):o.push(e),t.setBookmarks({conferences:o})}).nodeify(n)},t.removeBookmark=function(e,n){return e=new o(e),this.getBookmarks().then(function(n){var r=n.privateStorage.bookmarks.conferences||[];return r=i(r,function(t){return e.bare!==t.jid.bare}),t.setBookmarks({conferences:r})}).nodeify(n)}}},function(t,e,n){"use strict";var r=n(363);t.exports=function(t,e){e.use(n(310)),t.transports.bosh=r}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(312)),t.disco.addFeature("urn:xmpp:carbons:2"),t.enableCarbons=function(t){return this.sendIq({type:"set",enableCarbons:!0},t)},t.disableCarbons=function(t){return this.sendIq({type:"set",disableCarbons:!0},t)},t.on("message",function(e){return e.carbonSent?t.emit("carbon:sent",e):e.carbonReceived?t.emit("carbon:received",e):void 0}),t.on("carbon:*",function(e,n){var r=e.split(":")[1];if(n.from.bare===t.jid.bare){var i,o;"received"===r?(i=n.carbonReceived.forwarded.message,o=n.carbonReceived.forwarded.delay):(i=n.carbonSent.forwarded.message,o=n.carbonSent.forwarded.delay),i.delay||(o?i.delay.stamp=o.stamp:i.delay={stamp:new Date(Date.now())}),i.carbon=!0,i.from.bare===t.jid.bare?t.emit("message:sent",i):t.emit("message",i)}})}},function(t,e,n){"use strict";t.exports=function(t){t.disco.addFeature("http://jabber.org/protocol/chatstates"),t.on("message",function(e){e.chatState&&(t.emit("chat:state",{to:e.to,from:e.from,chatState:e.chatState}),t.emit("chatState",{to:e.to,from:e.from,chatState:e.chatState}))})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/commands";t.exports=function(t,e){e.use(n(313)),t.disco.addFeature(r),t.disco.addItem({name:"Ad-Hoc Commands",node:r}),t.getCommands=function(e,n){return t.getDiscoItems(e,r,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.disco.addFeature("urn:xmpp:message-correct:0"),t.on("message",function(e){e.replace&&(t.emit("replace",e),t.emit("replace:"+e.id,e))})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(314));var r=e.getDefinition("active","urn:xmpp:csi"),i=e.getDefinition("inactive","urn:xmpp:csi");t.registerFeature("clientStateIndication",400,function(t,e){this.features.negotiated.clientStateIndication=!0,e()}),t.markActive=function(){this.features.negotiated.clientStateIndication&&this.send(new r)},t.markInactive=function(){this.features.negotiated.clientStateIndication&&this.send(new i)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(315)),t.disco.addFeature("jabber:x:data"),t.disco.addFeature("urn:xmpp:media-element"),t.disco.addFeature("http://jabber.org/protocol/xdata-validate"),t.disco.addFeature("http://jabber.org/protocol/xdata-layout"),t.on("message",function(e){e.form&&t.emit("dataform",e)})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(316)),t.disco.addFeature("urn:xmpp:delay")}},function(t,e,n){(function(e){"use strict";function r(t,n){var r="",i=t.features.sort(),o=[],u={},l=[];s(t.identities,function(t){o.push([t.category||"",t.type||"",t.lang||"",t.name||""].join("/"))}),o.sort();var p=o.length,f=i.length;if(o=a(o,!0),i=a(i,!0),f!==i.length||p!==o.length)return!1;r+=o.join("<")+"<",r+=i.join("<")+"<";var d=!1;if(s(t.extensions,function(t){for(var e=t.fields,n=0,r=e.length;r>n;n++)if("FORM_TYPE"===e[n].name&&"hidden"===e[n].type){var i=e[n].value;return u[i]?void(d=!0):(u[i]=t,void l.push(i))}}),d)return!1;l.sort(),s(l,function(t){var e=u[t],n={},i=[];r+="<"+t,s(e.fields,function(t){var e=t.name;if("FORM_TYPE"!==e){var r=t.value||"";"object"!=typeof r&&(r=r.split("\n")),n[e]=r.sort(),i.push(e)}}),i.sort(),s(i,function(t){r+="<"+t,s(n[t],function(t){r+="<"+t})})});var h=c.createHash(n).update(new e(r,"utf8")).digest("base64"),m=4-h.length%4;4===m&&(m=0);for(var g=0;m>g;g++)h+="=";return h}function i(t,e,n){var i=r(t,e);return i&&i===n}function o(){this.features={},this.identities={},this.extensions={},this.items={},this.caps={}}var s=n(25),a=n(457),u=n(12).JID,c=n(93);o.prototype={constructor:{value:o},addFeature:function(t,e){e=e||"",this.features[e]||(this.features[e]=[]),this.features[e].push(t)},addIdentity:function(t,e){e=e||"",this.identities[e]||(this.identities[e]=[]),this.identities[e].push(t)},addItem:function(t,e){e=e||"",this.items[e]||(this.items[e]=[]),this.items[e].push(t)},addExtension:function(t,e){e=e||"",this.extensions[e]||(this.extensions[e]=[]),this.extensions[e].push(t)}},t.exports=function(t,e){e.use(n(317)),e.use(n(311)),e.use(n(349)),t.disco=new o(t),t.disco.addFeature("http://jabber.org/protocol/disco#info"),t.disco.addFeature("http://jabber.org/protocol/disco#items"),t.disco.addIdentity({category:"client",type:"web"}),t.registerFeature("caps",100,function(t,e){this.emit("disco:caps",{from:new u(this.jid.domain),caps:t.caps}),this.features.negotiated.caps=!0,e()}),t.getDiscoInfo=function(t,e,n){return this.sendIq({to:t,type:"get",discoInfo:{node:e}},n)},t.getDiscoItems=function(t,e,n){return this.sendIq({to:t,type:"get",discoItems:{node:e}},n)},t.updateCaps=function(){var e=this.config.capsNode||"https://stanza.io",n=JSON.parse(JSON.stringify({identities:this.disco.identities[""],features:this.disco.features[""],extensions:this.disco.extensions[""]})),i=r(n,"sha-1");return this.disco.caps={node:e,hash:"sha-1",ver:i},e=e+"#"+i,this.disco.features[e]=n.features,this.disco.identities[e]=n.identities,this.disco.extensions[e]=n.extensions,t.getCurrentCaps()},t.getCurrentCaps=function(){var e=t.disco.caps;if(!e.ver)return{ver:null,discoInfo:null};var n=e.node+"#"+e.ver;return{ver:e.ver,discoInfo:{identities:t.disco.identities[n],features:t.disco.features[n],extensions:t.disco.extensions[n]}}},t.on("presence",function(e){e.caps&&t.emit("disco:caps",e)}),t.on("iq:get:discoInfo",function(e){var n=e.discoInfo.node||"",r=e.discoInfo.node||"";n===t.disco.caps.node+"#"+t.disco.caps.ver&&(r=n,n=""),t.sendIq(e.resultReply({discoInfo:{node:r,identities:t.disco.identities[n]||[],features:t.disco.features[n]||[],extensions:t.disco.extensions[n]||[]}}))}),t.on("iq:get:discoItems",function(e){var n=e.discoItems.node;t.sendIq(e.resultReply({discoItems:{node:n,items:t.disco.items[n]||[]}}))}),t.verifyVerString=i,t.generateVerString=r,t.updateCaps()}}).call(e,n(2).Buffer)},function(t,e,n){"use strict";t.exports=function(t){t.disco.addFeature("jid\\20escaping")}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(319)),t.disco.addFeature("urn:xmpp:extdisco:1"),t.getServices=function(t,e,n){return this.sendIq({type:"get",to:t,services:{type:e}},n)},t.getServiceCredentials=function(t,e,n){return this.sendIq({type:"get",to:t,credentials:{service:{host:e}}},n)}}},function(t,e,n){"use strict";var r=n(47);t.exports=function(t,e){e.use(n(358)),t.features={negotiated:{},order:[],handlers:{}},t.registerFeature=function(e,n,r){this.features.order.push({priority:n,name:e}),this.features.order.sort(function(t,e){return t.priority<e.priority?-1:t.priority>e.priority?1:0}),this.features.handlers[e]=r.bind(t)},t.on("streamFeatures",function(e){var n=[],i=t.features.negotiated,o=t.features.handlers;t.features.order.forEach(function(t){var r=t.name;e[r]&&o[r]&&!i[r]&&n.push(function(t){i[r]?t():o[r](e,t)})}),r.series(n,function(e,n){"restart"===e?t.transport.restart():"disconnect"===e&&(t.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+n}),t.disconnect())})})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(321)),t.disco.addFeature("urn:xmpp:forward:0")}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(323)),t.disco.addFeature("http://jabber.org/protocol/geoloc"),t.disco.addFeature("http://jabber.org/protocol/geoloc+notify"),t.on("pubsub:event",function(e){e.event.updated&&"http://jabber.org/protocol/geoloc"===e.event.updated.node&&t.emit("geoloc",{jid:e.from,geoloc:e.event.updated.published[0].geoloc})}),t.publishGeoLoc=function(t,e){return this.publish("","http://jabber.org/protocol/geoloc",{geoloc:t},e)}}},function(t,e,n){"use strict";var r=n(93);t.exports=function(t,e){e.use(n(324)),t.disco.addFeature("urn:xmpp:hashes:1");var i=r.getHashes();i.forEach(function(e){t.disco.addFeature("urn:xmpp:hash-function-text-names:"+e)})}},function(t,e,n){"use strict";t.exports=function(t){t.disco.addFeature("urn:xmpp:idle:1")}},function(t,e,n){"use strict";t.exports=function(t){t.use(n(266)),t.use(n(252)),t.use(n(253)),t.use(n(255)),t.use(n(256)),t.use(n(257)),t.use(n(259)),t.use(n(260)),t.use(n(261)),t.use(n(262)),t.use(n(263)),t.use(n(264)),t.use(n(265)),t.use(n(267)),t.use(n(268)),t.use(n(270)),t.use(n(271)),t.use(n(272)),t.use(n(273)),t.use(n(275)),t.use(n(276)),t.use(n(277)),t.use(n(278)),t.use(n(279)),t.use(n(280)),t.use(n(281)),t.use(n(283)),t.use(n(282)),t.use(n(284)),t.use(n(286)),t.use(n(287)),t.use(n(288)),t.use(n(289)),t.use(n(290)),t.use(n(291)),t.use(n(292)),t.use(n(293)),t.use(n(294)),t.use(n(295)),t.use(n(298)),t.use(n(300)),t.use(n(301)),t.use(n(302))}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(362)),t.goInvisible=function(t){return this.sendIq({type:"set",invisible:!0},t)},t.goVisible=function(t){return this.sendIq({type:"set",visible:!0},t)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(328)),t.prepJID=function(e,n){return t.sendIq({to:t.jid.domain,type:"get",jidPrep:e},n)}}},function(t,e,n){"use strict";var r=n(389);t.exports=function(t,e){e.use(n(329)),e.use(n(350)),e.use(n(326)),e.use(n(320));var i=t.jingle=new r;i.capabilities.forEach(function(e){t.disco.addFeature(e)});var o=["outgoing","incoming","accepted","terminated","ringing","mute","unmute","hold","resumed"];o.forEach(function(e){i.on(e,function(n,r){t.emit("jingle:"+e,n,r)})}),i.on("createdSession",function(e){t.emit("jingle:created",e)}),i.on("peerStreamAdded",function(e,n){t.emit("jingle:remotestream:added",e,n)}),i.on("peerStreamRemoved",function(e,n){t.emit("jingle:remotestream:removed",e,n)}),i.on("send",function(e){t.sendIq(e,function(e){e&&t.emit("jingle:error",e)})}),t.on("session:bound",function(t){i.jid=t,i.selfID=t.full}),t.on("iq:set:jingle",function(t){i.process(t)}),t.on("unavailable",function(t){var e=t.from.full;i.endPeerSessions(e,!0)}),t.discoverICEServers=function(e){return this.getServices(t.config.server).then(function(e){for(var n=e.services.services,r=[],i=0;i<n.length;i++){var o=n[i],s={};"stun"===o.type||"stuns"===o.type?(s.url=o.type+":"+o.host,o.port&&(s.url+=":"+o.port),r.push(s),t.jingle.addICEServer(s)):("turn"===o.type||"turns"===o.type)&&(s.url=o.type+":"+o.host,o.port&&(s.url+=":"+o.port),o.transport&&"udp"!==o.transport&&(s.url+="?transport="+o.transport),o.username&&(s.username=o.username),o.password&&(s.credential=o.password),r.push(s),t.jingle.addICEServer(s))}return r}).nodeify(e)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(330)),t.disco.addFeature("urn:xmpp:json:0")}},function(t,e,n){"use strict";function r(t,e){return new i(function(e,n){t.sm.started?(t.once("stream:management:ack",e),t.sm.request()):t.ping().then(e)["catch"](function(t){t.error&&"timeout"!==t.error.condition?e():n()})}).timeout(1e3*e||15e3)}var i=n(61);t.exports=function(t){t.enableKeepAlive=function(e){function n(){t.sessionStarted&&r(t,e.timeout)["catch"](function(){t.sendStreamError({condition:"connection-timeout"})})}e=e||{},e.interval=e.interval||300,e.timeout=e.timeout||15,t._keepAliveInterval=setInterval(n,1e3*e.interval)},t.disableKeepAlive=function(){t._keepAliveInterval&&(clearInterval(t._keepAliveInterval),delete t._keepAliveInterval)},t.on("disconnected",function(){t.disableKeepAlive()})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(331)),t.disco.addFeature("","urn:xmpp:eventlog"),t.sendLog=function(e,n){t.sendMessage({to:e,type:"normal",log:n})}}},function(t,e,n){"use strict";var r=n(61),i=n(12).JID;t.exports=function(t,e){e.use(n(332)),t.disco.addFeature("urn:xmpp:mam:0"),t.getHistorySearchForm=function(e,n){return t.sendIq({to:e,type:"get",mam:!0},n)},t.searchHistory=function(e,n){var o=this,s=this.nextId();e=e||{},e.queryid=s;var a=e.jid||e.to||"";delete e.jid,delete e.to,e.form||(e.form={}),e.form.type="submit";var u=e.form.fields=e.form.fields||[],c=["FORM_TYPE","with","start","end"];c.forEach(function(t){if(e[t]||"FORM_TYPE"===t){var n=e[t],r="start"===t||"end"===t;r&&"string"!=typeof n&&(n=n.toISOString()),"FORM_TYPE"===t&&(n="urn:xmpp:mam:0");for(var i=!1,o=0,s=u.length;s>o;o++)u[o].name!==t;i||u.push({name:t,value:n}),delete e[t]}});var l=new i(a||t.jid.bare),p={};p[""]=!0,p[l.full]=!0,p[l.bare]=!0,p[l.domain]=!0,p[t.jid.bare]=!0,p[t.jid.domain]=!0;var f=[];this.on("mam:item:"+s,"session",function(t){p[t.from.full]&&f.push(t.mamItem)});var d=new r(function(t){o.once("mam:result:"+s,"session",function(e){p[e.from.full]&&(e.mamResult.items=f,t(e))})}),h=this.sendIq({type:"set",to:a,id:s,mam:e});return r.all([h,d]).spread(function(t,e){return e}).timeout(1e3*o.config.timeout||15e3)["catch"](r.TimeoutError,function(){throw{id:s,type:"error",error:{condition:"timeout"}}})["finally"](function(){o.off("mam:item:"+s),o.off("mam:result:"+s)}).nodeify(n)},t.getHistoryPreferences=function(t){return this.sendIq({type:"get",mamPrefs:!0},t)},t.setHistoryPreferences=function(t,e){return this.sendIq({type:"set",mamPrefs:t},e)},t.on("message",function(e){e.mamItem&&t.emit("mam:item:"+e.mamItem.queryid,e),e.mamResult&&t.emit("mam:result:"+e.mamResult.queryid,e)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/mood";t.exports=function(t,e){e.use(n(334)),t.disco.addFeature(r),t.disco.addFeature(r+"+notify"),t.on("pubsub:event",function(e){e.event.updated&&e.event.updated.node===r&&t.emit("mood",{jid:e.from,mood:e.event.updated.published[0].mood})}),t.publishMood=function(t,e,n){return this.publish("",r,{mood:{value:t,text:e}},n)}}},function(t,e,n){"use strict";var r=n(25),i=n(12).JID;t.exports=function(t,e){function o(){r(t.joinedRooms,function(e,n){t.joinedRooms[n]=!1,t.joinRoom(n,e)})}e.use(n(335)),e.use(n(325)),t.disco.addFeature("http://jabber.org/protocol/muc"),t.disco.addFeature("jabber:x:conference"),t.disco.addFeature("urn:xmpp:hats:0"),t.joinedRooms={},t.on("session:started",o),t.on("stream:management:resumed",o),t.on("message",function(e){e.muc?(e.muc.invite&&t.emit("muc:invite",{from:e.muc.invite.from,room:e.from,reason:e.muc.invite.reason,password:e.muc.password,thread:e.muc.invite.thread,type:"mediated"}),e.muc.destroyed&&t.emit("muc:destroyed",{room:e.from,newRoom:e.muc.destroyed.jid,reason:e.muc.destroyed.reason,password:e.muc.destroyed.password}),e.muc.decline&&t.emit("muc:declined",{room:e.from,from:e.muc.decline.from,reason:e.muc.decline.reason})):e.mucInvite&&t.emit("muc:invite",{from:e.from,room:e.mucInvite.jid,reason:e.mucInvite.reason,password:e.mucInvite.password,thread:e.mucInvite.thread,type:"direct"}),"groupchat"===e.type&&e.subject&&t.emit("muc:subject",e)}),t.on("presence",function(e){if(e.joinMuc&&"error"===e.type)t.emit("muc:error",e);else if(e.muc){var n=e.muc.codes&&e.muc.codes.indexOf("110")>=0;"error"===e.type?t.emit("muc:error",e):"unavailable"===e.type?(t.emit("muc:unavailable",e),n&&(t.emit("muc:leave",e),delete t.joinedRooms[e.from.bare])):(t.emit("muc:available",e),n&&!t.joinedRooms[e.from.bare]&&(t.emit("muc:join",e),t.joinedRooms[e.from.bare]=e.from.resource))}}),t.joinRoom=function(t,e,n){n=n||{},n.to=t+"/"+e,n.caps=this.disco.caps,n.joinMuc=n.joinMuc||{},this.sendPresence(n)},t.leaveRoom=function(t,e,n){n=n||{},n.to=t+"/"+e,n.type="unavailable",this.sendPresence(n)},t.ban=function(e,n,r,i){t.setRoomAffiliation(e,n,"outcast",r,i)},t.kick=function(e,n,r,i){t.setRoomRole(e,n,"none",r,i)},t.invite=function(e,n){t.sendMessage({to:e,muc:{invites:n}})},t.directInvite=function(e,n){n.jid=e,t.sendMessage({to:n.to,mucInvite:n})},t.declineInvite=function(e,n,r){t.sendMessage({to:e,muc:{decline:{to:n,reason:r}}})},t.changeNick=function(e,n){t.sendPresence({to:new i(e).bare+"/"+n})},t.setSubject=function(e,n){t.sendMessage({to:e,type:"groupchat",subject:n})},t.discoverReservedNick=function(e,n){t.getDiscoInfo(e,"x-roomuser-item",function(t,e){if(t)return n(t);var r=e.discoInfo.identities[0]||{};n(null,r.name)})},t.requestRoomVoice=function(e){t.sendMessage({to:e,form:{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}]}})},t.setRoomAffiliation=function(t,e,n,r,i){return this.sendIq({type:"set",to:t,mucAdmin:{jid:e,affiliation:n,reason:r}},i)},t.setRoomRole=function(t,e,n,r,i){return this.sendIq({type:"set",to:t,mucAdmin:{nick:e,role:n,reason:r}},i)},t.getRoomMembers=function(t,e,n){return this.sendIq({type:"get",to:t,mucAdmin:e},n)},t.getRoomConfig=function(t,e){return this.sendIq({to:t,type:"get",mucOwner:!0},e)},t.configureRoom=function(t,e,n){return e.type||(e.type="submit"),this.sendIq({to:t,type:"set",mucOwner:{form:e}},n)},t.destroyRoom=function(t,e,n){return this.sendIq({to:t,type:"set",mucOwner:{destroy:e}},n)},t.getUniqueRoomName=function(t,e){return this.sendIq({type:"get",to:t,mucUnique:!0},e)}}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/nick";t.exports=function(t,e){e.use(n(336)),t.disco.addFeature(r),t.disco.addFeature(r+"+notify"),t.on("pubsub:event",function(e){e.event.updated&&e.event.updated.node===r&&t.emit("nick",{jid:e.from,nick:e.event.updated.published[0].nick})}),t.publishNick=function(t,e){return this.publish("",r,{nick:t},e)}}},function(t,e,n){"use strict";var r=n(364);t.exports=function(t,e){e.use(n(356)),t.transports["old-websocket"]=r}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(337)),t.disco.addFeature("jabber:x:oob")}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(338)),t.disco.addFeature("urn:xmpp:ping"),t.on("iq:get:ping",function(e){t.sendIq(e.resultReply())}),t.ping=function(t,e){return this.sendIq({to:t,type:"get",ping:!0},e)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(340)),t.getPrivateData=function(t,e){return this.sendIq({type:"get",privateStorage:t},e)},t.setPrivateData=function(t,e){return this.sendIq({type:"set",privateStorage:t},e)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(341)),t.disco.addFeature("urn:xmpp:psa")}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(342)),e.use(n(345)),e.use(n(344)),e.use(n(343)),t.on("message",function(e){if(e.event){if(t.emit("pubsub:event",e),t.emit("pubsubEvent",e),e.event.updated){var n=e.event.updated.published,r=e.event.updated.retracted;n&&n.length&&t.emit("pubsub:published",e),r&&r.length&&t.emit("pubsub:retracted",e)}e.event.purged&&t.emit("pubsub:purged",e),e.event.deleted&&t.emit("pubsub:deleted",e),e.event.subscriptionChanged&&t.emit("pubsub:subscription",e),e.event.configurationChanged&&t.emit("pubsub:config",e)}e.pubsub&&e.pubsub.affiliations&&t.emit("pubsub:affiliation",e)}),t.subscribeToNode=function(e,n,r){return"string"==typeof n&&(n={node:n}),n.jid=n.jid||t.jid,this.sendIq({type:"set",to:e,pubsub:{subscribe:n}},r)},t.unsubscribeFromNode=function(e,n,r){return"string"==typeof n&&(n={node:n}),n.jid=n.jid||t.jid.bare,this.sendIq({type:"set",to:e,pubsub:{unsubscribe:n}},r)},t.publish=function(t,e,n,r){return this.sendIq({type:"set",to:t,pubsub:{publish:{node:e,item:n}}},r)},t.getItem=function(t,e,n,r){return this.sendIq({type:"get",to:t,pubsub:{retrieve:{node:e,item:n}}},r)},t.getItems=function(t,e,n,r){return n=n||{},n.node=e,this.sendIq({type:"get",to:t,pubsub:{retrieve:{node:e,max:n.max},rsm:n.rsm}},r)},t.retract=function(t,e,n,r,i){return this.sendIq({type:"set",to:t,pubsub:{retract:{node:e,notify:r,id:n}}},i)},t.purgeNode=function(t,e,n){return this.sendIq({type:"set",to:t,pubsubOwner:{purge:e}},n)},t.deleteNode=function(t,e,n){return this.sendIq({type:"set",to:t,pubsubOwner:{del:e}},n)},t.createNode=function(t,e,n,r){var i={type:"set",to:t,pubsubOwner:{create:e}};return n&&(i.pubsubOwner.config={form:n}),this.sendIq(i,r)},t.getSubscriptions=function(t,e,n){return e=e||{},this.sendIq({type:"get",to:t,pubsub:{subscriptions:e}},n)},t.getAffiliations=function(t,e,n){return e=e||{},this.sendIq({type:"get",to:t,pubsub:{affiliations:e}},n)},t.getNodeSubscribers=function(t,e,n,r){
return n=n||{},n.node=e,this.sendIq({type:"get",to:t,pubsubOwner:{subscriptions:n}},r)},t.updateNodeSubscriptions=function(t,e,n,r){return this.sendIq({type:"set",to:t,pubsubOwner:{subscriptions:{node:e,list:n}}},r)},t.getNodeAffiliations=function(t,e,n,r){return n=n||{},n.node=e,this.sendIq({type:"get",to:t,pubsubOwner:{affiliations:n}},r)},t.updateNodeAffiliations=function(t,e,n,r){return this.sendIq({type:"set",to:t,pubsubOwner:{affiliations:{node:e,list:n}}},r)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(346)),t.disco.addFeature("urn:xmpp:reach:0"),t.disco.addFeature("urn:xmpp:reach:0+notify"),t.on("pubsub:event",function(e){e.event.updated&&"urn:xmpp:reach:0"===e.event.updated.node&&t.emit("reachability",{jid:e.from,addresses:e.event.updated.published[0].reach})}),t.on("presence",function(e){e.reach&&e.reach.length&&t.emit("reachability",{jid:e.from,addresses:e.reach})}),t.publishReachability=function(t,e){return this.publish("","urn:xmpp:reach:0",{reach:t},e)}}},function(t,e,n){"use strict";t.exports=function(t){t.disco.addFeature("urn:xmpp:receipts"),t.on("message",function(e){var n={normal:!0,chat:!0,headline:!0};n[e.type]&&e.requestReceipt&&!e.receipt&&t.sendMessage({to:e.from,type:e.type,receipt:e.id,id:e.id}),e.receipt&&(t.emit("receipt",e),t.emit("receipt:"+e.receipt))})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(347)),t.getAccountInfo=function(t,e){return this.sendIq({type:"get",to:t,register:!0},e)},t.updateAccount=function(t,e,n){return this.sendIq({type:"set",to:t,register:e},n)},t.deleteAccount=function(t,e){return this.sendIq({type:"set",to:t,register:{remove:!0}},e)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(348)),t.on("iq:set:roster",function(e){var n={};return n[""]=!0,n[t.jid.bare]=!0,n[t.jid.domain]=!0,n[e.from.full]?(t.emit("roster:update",e),void t.sendIq({id:e.id,type:"result"})):t.sendIq(e.errorReply({error:{type:"cancel",condition:"service-unavailable"}}))}),t.getRoster=function(e){var n=this;return e=e||function(){},t.sendIq({type:"get",roster:{ver:n.config.rosterVer}}).then(function(t){if(t.roster){var e=t.roster.ver;e&&(n.config.rosterVer=e,n.emit("roster:ver",e))}return t}).nodeify(e)},t.updateRosterItem=function(e,n){return t.sendIq({type:"set",roster:{items:[e]}},n)},t.removeRosterItem=function(e,n){return t.updateRosterItem({jid:e,subscription:"remove"},n)},t.subscribe=function(e){t.sendPresence({type:"subscribe",to:e})},t.unsubscribe=function(e){t.sendPresence({type:"unsubscribe",to:e})},t.acceptSubscription=function(e){t.sendPresence({type:"subscribed",to:e})},t.denySubscription=function(e){t.sendPresence({type:"unsubscribed",to:e})}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(351)),t.disco.addFeature("urn:xmpp:rtt:0"),t.on("message",function(e){e.rtt&&(t.emit("rtt",e),t.emit("rtt:"+e.rtt.event,e))})}},function(t,e,n){(function(e){"use strict";var r="urn:ietf:params:xml:ns:xmpp-sasl";t.exports=function(t,i){i.use(n(352));var o=i.getDefinition("auth",r),s=i.getDefinition("response",r);t.registerFeature("sasl",100,function(t,n){var r=this,i=r.SASLFactory.create(t.sasl.mechanisms);if(!i)return r.releaseGroup("sasl"),r.emit("auth:failed"),n("disconnect","authentication failed");r.on("sasl:success","sasl",function(){r.features.negotiated.sasl=!0,r.releaseGroup("sasl"),r.emit("auth:success",r.config.credentials),n("restart")}),r.on("sasl:challenge","sasl",function(t){i.challenge(new e(t.value,"base64").toString()),r.send(new s({value:new e(i.response(r.getCredentials())).toString("base64")})),i.cache&&(Object.keys(i.cache).forEach(function(t){i.cache[t]&&(r.config.credentials[t]=new e(i.cache[t]))}),r.emit("credentials:update",r.config.credentials))}),r.on("sasl:failure","sasl",function(){r.releaseGroup("sasl"),r.emit("auth:failed"),n("disconnect","authentication failed")}),r.on("sasl:abort","sasl",function(){r.releaseGroup("sasl"),r.emit("auth:failed"),n("disconnect","authentication failed")});var a={mechanism:i.name};i.clientFirst&&(a.value=new e(i.response(r.getCredentials())).toString("base64")),r.send(new o(a))}),t.on("disconnected",function(){t.features.negotiated.sasl=!1})}}).call(e,n(2).Buffer)},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(353)),t.registerFeature("session",1e3,function(t,e){var n=this;return t.session.optional||n.sessionStarted?(n.features.negotiated.session=!0,e()):void n.sendIq({type:"set",session:{}},function(t){return t?e("disconnect","session request failed"):(n.features.negotiated.session=!0,n.sessionStarted||(n.sessionStarted=!0,n.emit("session:started",n.jid)),void e())})}),t.on("disconnected",function(){t.sessionStarted=!1,t.features.negotiated.session=!1})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/shim";t.exports=function(t,e){e.use(n(354)),t.disco.addFeature(r),t.disco.addFeature(r+"#SubID",r)}},function(t,e,n){"use strict";t.exports=function(t,e,r){e.use(n(355));var i=function(t,e){var n=this;return r.useStreamManagement?(n.on("stream:management:enabled","sm",function(t){n.sm.enabled(t),n.features.negotiated.streamManagement=!0,n.releaseGroup("sm"),e()}),n.on("stream:management:resumed","sm",function(t){n.sm.resumed(t),n.features.negotiated.streamManagement=!0,n.features.negotiated.bind=!0,n.sessionStarted=!0,n.releaseGroup("sm"),e("break")}),n.on("stream:management:failed","sm",function(){n.sm.failed(),n.emit("session:end"),n.releaseGroup("session"),n.releaseGroup("sm"),e()}),void(n.sm.id?n.sm.id&&n.sm.allowResume?n.sm.resume():e():n.features.negotiated.bind?n.sm.enable():e())):e()};t.on("disconnected",function(){t.features.negotiated.streamManagement=!1}),t.registerFeature("streamManagement",200,i),t.registerFeature("streamManagement",500,i)}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(359)),t.disco.addFeature("urn:xmpp:time"),t.getTime=function(t,e){return this.sendIq({to:t,type:"get",time:!0},e)},t.on("iq:get:time",function(e){var n=new Date;t.sendIq(e.resultReply({time:{utc:n,tzo:n.getTimezoneOffset()}}))})}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(360)),t.disco.addFeature("vcard-temp"),t.getVCard=function(t,e){return this.sendIq({to:t,type:"get",vCardTemp:!0},e)},t.publishVCard=function(t,e){return this.sendIq({type:"set",vCardTemp:t},e)}}},function(t,e,n){"use strict";t.exports=function(t,e){e.use(n(361)),t.disco.addFeature("jabber:iq:version"),t.on("iq:get:version",function(e){t.sendIq(e.resultReply({version:t.config.softwareVersion||{name:"stanza.io"}}))}),t.getSoftwareVersion=function(t,e){return this.sendIq({to:t,type:"get",version:!0},e)}}},function(t,e,n){"use strict";var r=n(131);t.exports=function(t,e){e.use(n(322)),t.transports.websocket=r}},function(t,e,n){"use strict";function r(t,e){return(t%e+e)%e}function i(t){this.client=t,this.id=!1,this.allowResume=!0,this.started=!1,this.inboundStarted=!1,this.outboundStarted=!1,this.lastAck=0,this.handled=0,this.windowSize=1,this.unacked=[],this.pendingAck=!1;var e="urn:xmpp:sm:3";this.stanzas={Enable:t.stanzas.getDefinition("enable",e),Resume:t.stanzas.getDefinition("resume",e),Ack:t.stanzas.getDefinition("a",e),Request:t.stanzas.getDefinition("r",e)}}var o=Math.pow(2,32);i.prototype={constructor:{value:i},enable:function(){var t=new this.stanzas.Enable;t.resume=this.allowResume,this.client.send(t),this.handled=0,this.outboundStarted=!0},resume:function(){var t=new this.stanzas.Resume({h:this.handled,previd:this.id});this.client.send(t),this.outboundStarted=!0},enabled:function(t){this.id=t.id,this.handled=0,this.inboundStarted=!0},resumed:function(t){this.id=t.previd,t.h&&this.process(t,!0),this.inboundStarted=!0},failed:function(){this.inboundStarted=!1,this.outboundStarted=!1,this.id=!1,this.lastAck=0,this.handled=0,this.unacked=[]},ack:function(){this.client.send(new this.stanzas.Ack({h:this.handled}))},request:function(){this.pendingAck=!0,this.client.send(new this.stanzas.Request)},process:function(t,e){var n=this,i=r(t.h-this.lastAck,o);this.pendingAck=!1;for(var s=0;i>s&&this.unacked.length>0;s++)this.client.emit("stanza:acked",this.unacked.shift());if(this.lastAck=t.h,e){var a=this.unacked;this.unacked=[],a.forEach(function(t){n.client.send(t)})}this.needAck()&&this.request()},track:function(t){var e=t._name,n={message:!0,presence:!0,iq:!0};this.outboundStarted&&n[e]&&(this.unacked.push(t),this.needAck()&&this.request())},handle:function(){this.inboundStarted&&(this.handled=r(this.handled+1,o))},needAck:function(){return!this.pendingAck&&this.unacked.length>=this.windowSize}},Object.defineProperties(i.prototype,{started:{get:function(){return this.outboundStarted&&this.inboundStarted},set:function(t){t||(this.outboundStarted=!1,this.inboundStarted=!1)}}}),t.exports=i},function(t,e,n){"use strict";var r=n(25);t.exports=function(t){var e=t.utils,n=t.define({name:"avatar",namespace:"urn:xmpp:avatar:metadata",element:"info",fields:{id:e.attribute("id"),bytes:e.attribute("bytes"),height:e.attribute("height"),width:e.attribute("width"),type:e.attribute("type","image/png"),url:e.attribute("url")}}),i={get:function(){var t=e.find(this.xml,"urn:xmpp:avatar:metadata","metadata"),i=[];if(t.length){var o=e.find(t[0],"urn:xmpp:avatar:metadata","info");r(o,function(t){i.push(new n({},t))})}return i},set:function(t){var i=e.findOrCreate(this.xml,"urn:xmpp:avatar:metadata","metadata");e.setAttribute(i,"xmlns","urn:xmpp:avatar:metadata"),r(t,function(t){var e=new n(t);i.appendChild(e.xml)})}};t.withPubsubItem(function(n){t.add(n,"avatars",i),t.add(n,"avatarData",e.textSub("urn:xmpp:avatar:data","data"))})}},function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-bind";t.exports=function(t){var e=t.utils,n=t.define({name:"bind",namespace:r,element:"bind",fields:{resource:e.textSub(r,"resource"),jid:e.jidSub(r,"jid")}});t.withIq(function(e){t.extend(e,n)}),t.withStreamFeatures(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r=n(12).JID,i="urn:xmpp:blocking";t.exports=function(t){var e=t.utils,n={get:function(){var t=[],n=e.find(this.xml,i,"item");return n.length?(n.forEach(function(n){t.push(new r(e.getAttribute(n,"jid","")))}),t):t},set:function(t){var n=this;t.forEach(function(t){var r=e.createElement(i,"item",i);e.setAttribute(r,"jid",t.toString()),n.xml.appendChild(r)})}},o=t.define({name:"block",namespace:i,element:"block",fields:{jids:n}}),s=t.define({name:"unblock",namespace:i,element:"unblock",fields:{jids:n}}),a=t.define({name:"blockList",namespace:i,element:"blocklist",fields:{jids:n}});t.withIq(function(e){t.extend(e,o),t.extend(e,s),t.extend(e,a)})}},function(t,e,n){"use strict";var r="urn:xmpp:bob";t.exports=function(t){var e=t.utils,n=t.define({name:"bob",namespace:r,element:"data",fields:{cid:e.attribute("cid"),maxAge:e.numberAttribute("max-age"),type:e.attribute("type"),data:e.text()}});t.withIq(function(e){t.extend(e,n)}),t.withMessage(function(e){t.extend(e,n)}),t.withPresence(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils,n=t.define({name:"_conference",namespace:"storage:bookmarks",element:"conference",fields:{name:e.attribute("name"),autoJoin:e.boolAttribute("autojoin"),jid:e.jidAttribute("jid"),nick:e.textSub("storage:bookmarks","nick")}}),r=t.define({name:"bookmarks",namespace:"storage:bookmarks",element:"storage"});t.extend(r,n,"conferences"),t.withDefinition("query","jabber:iq:private",function(e){t.extend(e,r)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/httpbind",i="urn:xmpp:xbosh";t.exports=function(t){var e=t.utils;t.define({name:"bosh",namespace:r,element:"body",prefixes:{xmpp:i},fields:{accept:e.attribute("accept"),ack:e.numberAttribute("ack"),authid:e.attribute("authid"),charsets:e.attribute("charsets"),condition:e.attribute("condition"),content:e.attribute("content"),from:e.jidAttribute("from",!0),hold:e.numberAttribute("hold"),inactivity:e.numberAttribute("inactivity"),key:e.attribute("key"),maxpause:e.numberAttribute("maxpause"),newKey:e.attribute("newkey"),pause:e.numberAttribute("pause"),polling:e.numberAttribute("polling"),resport:e.numberAttribute("report"),requests:e.numberAttribute("requests"),rid:e.numberAttribute("rid"),sid:e.attribute("sid"),stream:e.attribute("stream"),time:e.attribute("time"),to:e.jidAttribute("to",!0),type:e.attribute("type"),ver:e.attribute("ver"),wait:e.numberAttribute("wait"),uri:e.textSub(r,"uri"),lang:e.langAttribute(),version:e.attribute("xmpp:version","1.0"),restart:e.attribute("xmpp:restart"),restartLogic:e.boolAttribute("xmpp:restartLogic"),payload:{get:function(){for(var e=[],n=0,r=this.xml.childNodes.length;r>n;n++){var i=t.build(this.xml.childNodes[n]);void 0!==i&&e.push(i)}return e},set:function(t){var e=this;t.forEach(function(t){e.xml.appendChild(t.xml)})}}}})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils,n=t.define({name:"caps",namespace:"http://jabber.org/protocol/caps",element:"c",fields:{ver:e.attribute("ver"),node:e.attribute("node"),hash:e.attribute("hash"),ext:e.attribute("ext")}});t.withPresence(function(e){t.extend(e,n)}),t.withStreamFeatures(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.define({name:"carbonSent",eventName:"carbon:sent",namespace:"urn:xmpp:carbons:2",element:"sent"}),n=t.define({name:"carbonReceived",eventName:"carbon:received",namespace:"urn:xmpp:carbons:2",element:"received"}),r=t.define({name:"carbonPrivate",eventName:"carbon:private",namespace:"urn:xmpp:carbons:2",element:"private"}),i=t.define({name:"enableCarbons",namespace:"urn:xmpp:carbons:2",element:"enable"}),o=t.define({name:"disableCarbons",namespace:"urn:xmpp:carbons:2",element:"disable"});t.withDefinition("forwarded","urn:xmpp:forward:0",function(r){t.extend(e,r),t.extend(n,r)}),t.withMessage(function(i){t.extend(i,e),t.extend(i,n),t.extend(i,r)}),t.withIq(function(e){t.extend(e,i),t.extend(e,o)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/commands",i=["next","prev","complete","cancel"],o=["bad-action","bad-locale","bad-payload","bad-sessionid","malformed-action","session-expired"];t.exports=function(t){var e=t.utils,n=t.define({name:"command",namespace:r,element:"command",fields:{action:e.attribute("action"),node:e.attribute("node"),sessionid:e.attribute("sessionid"),status:e.attribute("status"),execute:e.subAttribute(r,"actions","execute"),actions:{get:function(){var t=[],n=e.find(this.xml,r,"actions");return n.length?(i.forEach(function(i){var o=e.find(n[0],r,i);o.length&&t.push(i)}),t):[]},set:function(t){for(var n=e.findOrCreate(this.xml,r,"actions"),i=0,o=n.childNodes.length;o>i;i++)n.removeChild(n.childNodes[i]);t.forEach(function(t){n.appendChild(e.createElement(r,t.toLowerCase(),r))})}}}}),s=t.define({name:"_commandNote",namespace:r,element:"note",fields:{type:e.attribute("type"),value:e.text()}});t.extend(n,s,"notes"),t.withStanzaError(function(n){t.add(n,"adhocCommandCondition",e.enumSub(r,o))}),t.withDataForm(function(e){t.extend(n,e)}),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="urn:xmpp:csi";t.exports=function(t){var e=t.define({name:"clientStateIndication",namespace:r,element:"csi"});t.define({name:"csiActive",eventName:"csi:active",namespace:r,element:"active",topLevel:!0}),t.define({name:"csiInactive",eventName:"csi:inactive",namespace:r,element:"inactive",topLevel:!0}),t.withStreamFeatures(function(n){t.extend(n,e)})}},function(t,e,n){"use strict";var r=n(12).JID,i="jabber:x:data",o="urn:xmpp:media-element",s="http://jabber.org/protocol/xdata-validate",a="http://jabber.org/protocol/xdata-layout",u=["text-single","text-private","list-single","jid-single"];t.exports=function(t){var e=t.utils,n=t.define({name:"_field",namespace:i,element:"field",init:function(t){this._type=(t||{}).type||this.type},fields:{type:{get:function(){return e.getAttribute(this.xml,"type","text-single")},set:function(t){this._type=t,e.setAttribute(this.xml,"type",t)}},name:e.attribute("var"),desc:e.textSub(i,"desc"),required:e.boolSub(i,"required"),label:e.attribute("label"),value:{get:function(){var t=e.getMultiSubText(this.xml,i,"value");return"boolean"===this._type?"1"===t[0]||"true"===t[0]:t.length>1?"text-multi"===this._type?t.join("\n"):"jid-multi"===this._type?t.map(function(t){return new r(t)}):t:u.indexOf(this._type)>=0?"jid-single"===this._type?new r(t[0]):t[0]:t},set:function(t){if("boolean"===this._type||t===!0||t===!1){var n=t===!0||"true"===t||"1"===t,r=e.createElement(i,"value",i);r.textContent=n?"1":"0",this.xml.appendChild(r)}else"text-multi"===this._type&&"string"==typeof t&&(t=t.split("\n")),e.setMultiSubText(this.xml,i,"value",t,function(t){var n=e.createElement(i,"value",i);n.textContent=t,this.xml.appendChild(n)}.bind(this))}}}}),c=t.define({name:"_formoption",namespace:i,element:"option",fields:{label:e.attribute("label"),value:e.textSub(i,"value")}}),l=t.define({name:"_formitem",namespace:i,element:"item"}),p=t.define({name:"media",element:"media",namespace:o,fields:{height:e.numberAttribute("height"),width:e.numberAttribute("width")}}),f=t.define({name:"_mediaURI",element:"uri",namespace:o,fields:{uri:e.text(),type:e.attribute("type")}}),d=t.define({name:"validation",element:"validate",namespace:s,fields:{dataType:e.attribute("datatype"),basic:e.boolSub(s,"basic"),open:e.boolSub(s,"open"),regex:e.textSub(s,"regex")}}),h=t.define({name:"range",element:"range",namespace:s,fields:{min:e.attribute("min"),max:e.attribute("max")}}),m=t.define({name:"select",element:"list-range",namespace:s,fields:{min:e.numberAttribute("min"),max:e.numberAttribute("max")}}),g={get:function(){for(var t=[],e=0,n=this.xml.childNodes.length;n>e;e++){var r=this.xml.childNodes[e];if(r.namespaceURI===a)switch(r.localName){case"text":t.push({text:r.textContent});break;case"fieldref":t.push({field:r.getAttribute("var")});break;case"reportedref":t.push({reported:!0});break;case"section":t.push({section:new v(null,r,this).toJSON()})}}return t},set:function(e){for(var n=0,r=e.length;r>n;n++){var i=e[n];if(i.text){var o=t.createElement(a,"text",a);o.textContent=i.text,this.xml.appendChild(o)}if(i.field){var s=t.createElement(a,"fieldref",a);s.setAttribute("var",i.field),this.xml.appendChild(s)}if(i.reported&&this.xml.appendChild(t.createElement(a,"reportedref",a)),i.section){var u=t.createElement(a,"section",a);this.xml.appendChild(u);var c=new v(null,u);c.label=i.section.label,c.contents=i.section.contents}}}},v=t.define({name:"_section",element:"section",namespace:a,fields:{label:e.attribute("label"),contents:g}}),y=t.define({name:"_page",element:"page",namespace:a,fields:{label:e.attribute("label"),contents:g}}),_=t.define({name:"form",namespace:i,element:"x",init:function(){if(this.reportedFields.length){var t={};this.reportedFields.forEach(function(e){t[e.name]=e.type}),this.items.forEach(function(e){e.fields.forEach(function(e){e.type=e._type=t[e.name]})})}},fields:{title:e.textSub(i,"title"),instructions:e.multiTextSub(i,"instructions"),type:e.attribute("type","form"),reportedFields:e.subMultiExtension(i,"reported",n)}});t.extend(_,n,"fields"),t.extend(_,l,"items"),t.extend(_,y,"layout"),t.extend(n,p),t.extend(n,d),t.extend(n,c,"options"),t.extend(l,n,"fields"),t.extend(p,f,"uris"),t.extend(d,h),t.extend(d,m),t.withMessage(function(e){t.extend(e,_)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils,n=t.define({name:"delay",namespace:"urn:xmpp:delay",element:"delay",fields:{from:e.jidAttribute("from"),stamp:e.dateAttribute("stamp"),reason:e.text()}});t.withMessage(function(e){t.extend(e,n)}),t.withPresence(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/disco#info",i="http://jabber.org/protocol/disco#items";t.exports=function(t){var e=t.utils,n=t.define({name:"discoInfo",namespace:r,element:"query",fields:{node:e.attribute("node"),features:e.multiSubAttribute(r,"feature","var")}}),o=t.define({name:"_discoIdentity",namespace:r,element:"identity",fields:{category:e.attribute("category"),type:e.attribute("type"),name:e.attribute("name"),lang:e.langAttribute()}}),s=t.define({name:"discoItems",namespace:i,element:"query",fields:{node:e.attribute("node")}}),a=t.define({name:"_discoItem",namespace:i,element:"item",fields:{jid:e.jidAttribute("jid"),node:e.attribute("node"),name:e.attribute("name")}});t.extend(s,a,"items"),t.extend(n,o,"identities"),t.withIq(function(e){t.extend(e,n),t.extend(e,s)}),t.withDataForm(function(e){t.extend(n,e,"extensions")}),t.withDefinition("set","http://jabber.org/protocol/rsm",function(e){t.extend(s,e)})}},function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-stanzas",i=["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"];t.exports=function(t){var e=t.utils,n=t.define({name:"error",namespace:"jabber:client",element:"error",fields:{lang:{get:function(){return(this.parent||{}).lang||""}},condition:e.enumSub(r,i),gone:{get:function(){return e.getSubText(this.xml,r,"gone")},set:function(t){this.condition="gone",e.setSubText(this.xml,r,"gone",t)}},redirect:{get:function(){return e.getSubText(this.xml,r,"redirect")},set:function(t){this.condition="redirect",e.setSubText(this.xml,r,"redirect",t)}},code:e.attribute("code"),type:e.attribute("type"),by:e.jidAttribute("by"),$text:{get:function(){return e.getSubLangText(this.xml,r,"text",this.lang)}},text:{get:function(){var t=this.$text;return t[this.lang]||""},set:function(t){e.setSubLangText(this.xml,r,"text",t,this.lang)}}}});t.withMessage(function(e){t.extend(e,n)}),t.withPresence(function(e){t.extend(e,n)}),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="urn:xmpp:extdisco:1";t.exports=function(t){var n=t.utils,i=e.Services=t.define({name:"services",namespace:r,element:"services",fields:{type:n.attribute("type")}}),o=e.Credentials=t.define({name:"credentials",namespace:r,element:"credentials"}),s=t.define({name:"service",namespace:r,element:"service",fields:{host:n.attribute("host"),port:n.attribute("port"),transport:n.attribute("transport"),type:n.attribute("type"),username:n.attribute("username"),password:n.attribute("password")}});t.extend(i,s,"services"),t.extend(o,s),t.withDataForm(function(e){t.extend(s,e)}),t.withIq(function(e){t.extend(e,i),t.extend(e,o)})}},function(t,e,n){"use strict";var r="urn:xmpp:jingle:apps:file-transfer:3",i="urn:xmpp:thumbs:0";t.exports=function(t){var e=t.utils,n=t.define({name:"_file",namespace:r,element:"file",fields:{name:e.textSub(r,"name"),desc:e.textSub(r,"desc"),size:e.numberSub(r,"size"),date:e.dateSub(r,"date")}}),o=t.define({name:"range",namespace:r,element:"range",fields:{offset:e.numberAttribute("offset")}}),s=t.define({name:"thumbnail",namespace:i,element:"thumbnail",fields:{cid:e.attribute("cid"),mimeType:e.attribute("mime-type"),width:e.numberAttribute("width"),height:e.numberAttribute("height")}}),a=t.define({name:"_filetransfer",namespace:r,element:"description",tags:["jingle-description"],fields:{descType:{value:"filetransfer"},offer:e.subExtension("offer",r,"offer",n),request:e.subExtension("request",r,"request",n)}});t.extend(n,o),t.extend(n,s),t.withDefinition("hash","urn:xmpp:hashes:1",function(e){t.extend(n,e,"hashes")}),t.withDefinition("content","urn:xmpp:jingle:1",function(e){t.extend(e,a)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.define({name:"forwarded",eventName:"forward",namespace:"urn:xmpp:forward:0",element:"forwarded"});t.withMessage(function(n){t.extend(n,e),t.extend(e,n)}),t.withPresence(function(n){t.extend(e,n)}),t.withIq(function(n){t.extend(e,n)}),t.withDefinition("delay","urn:xmpp:delay",function(n){t.extend(e,n)})}},function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-framing";t.exports=function(t){var e=t.utils;t.define({name:"openStream",namespace:r,element:"open",topLevel:!0,fields:{lang:e.langAttribute(),id:e.attribute("id"),version:e.attribute("version","1.0"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0)}}),t.define({name:"closeStream",namespace:r,element:"close",topLevel:!0,fields:{seeOtherURI:e.attribute("see-other-uri")}})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/geoloc";t.exports=function(t){var e=t.utils,n=t.define({name:"geoloc",namespace:r,element:"geoloc",fields:{accuracy:e.numberSub(r,"accuracy",!0),altitude:e.numberSub(r,"alt",!0),area:e.textSub(r,"area"),heading:e.numberSub(r,"bearing",!0),bearing:e.numberSub(r,"bearing",!0),building:e.textSub(r,"building"),country:e.textSub(r,"country"),countrycode:e.textSub(r,"countrycode"),datum:e.textSub(r,"datum"),description:e.textSub(r,"description"),error:e.numberSub(r,"error",!0),floor:e.textSub(r,"floor"),latitude:e.numberSub(r,"lat",!0),locality:e.textSub(r,"locality"),longitude:e.numberSub(r,"lon",!0),postalcode:e.textSub(r,"postalcode"),region:e.textSub(r,"region"),room:e.textSub(r,"room"),speed:e.numberSub(r,"speed",!0),street:e.textSub(r,"street"),text:e.textSub(r,"text"),timestamp:e.dateSub(r,"timestamp"),tzo:e.tzoSub(r,"tzo"),uri:e.textSub(r,"uri")}});t.withPubsubItem(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";t.exports=function(t){t.define({name:"hash",namespace:"urn:xmpp:hashes:1",element:"hash",fields:{algo:t.utils.attribute("algo"),value:t.utils.text()}})}},function(t,e,n){"use strict";var r="urn:xmpp:hats:0";t.exports=function(t){var e=t.utils,n=t.define({name:"_hat",namespace:r,element:"hat",fields:{lang:e.langAttribute(),name:e.attribute("name"),displayName:e.attribute("displayName")}});t.withPresence(function(i){t.add(i,"hats",e.subMultiExtension(r,"hats",n))})}},function(t,e,n){"use strict";var r="urn:xmpp:jingle:transports:ice-udp:1";t.exports=function(t){var e=t.utils,n=t.define({name:"_iceUdp",namespace:r,element:"transport",tags:["jingle-transport"],fields:{transType:{value:"iceUdp"},pwd:e.attribute("pwd"),ufrag:e.attribute("ufrag")}}),i=t.define({name:"remoteCandidate",namespace:r,element:"remote-candidate",fields:{component:e.attribute("component"),ip:e.attribute("ip"),port:e.attribute("port")}}),o=t.define({name:"_iceUdpCandidate",namespace:r,element:"candidate",fields:{component:e.attribute("component"),foundation:e.attribute("foundation"),generation:e.attribute("generation"),id:e.attribute("id"),ip:e.attribute("ip"),network:e.attribute("network"),port:e.attribute("port"),priority:e.attribute("priority"),protocol:e.attribute("protocol"),relAddr:e.attribute("rel-addr"),relPort:e.attribute("rel-port"),tcpType:e.attribute("tcptype"),type:e.attribute("type")}}),s=t.define({name:"_iceFingerprint",namespace:"urn:xmpp:jingle:apps:dtls:0",element:"fingerprint",fields:{hash:e.attribute("hash"),setup:e.attribute("setup"),value:e.text(),required:e.boolAttribute("required")}}),a=t.define({name:"_sctpMap",namespace:"urn:xmpp:jingle:transports:dtls-sctp:1",element:"sctpmap",fields:{number:e.attribute("number"),protocol:e.attribute("protocol"),streams:e.attribute("streams")}});t.extend(n,o,"candidates"),t.extend(n,i),t.extend(n,s,"fingerprints"),t.extend(n,a,"sctp"),t.withDefinition("content","urn:xmpp:jingle:1",function(e){t.extend(e,n)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils,n=t.define({name:"iq",namespace:"jabber:client",element:"iq",topLevel:!0,fields:{lang:e.langAttribute(),id:e.attribute("id"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0),type:e.attribute("type")}}),r=n.prototype.toJSON;n.prototype.toJSON=function(){var t=r.call(this);return t.resultReply=this.resultReply,t.errorReply=this.errorReply,t},n.prototype.resultReply=function(t){return t=t||{},t.to=this.from,t.id=this.id,t.type="result",new n(t)},n.prototype.errorReply=function(t){return t=t||{},t.to=this.from,t.id=this.id,t.type="error",new n(t)}}},function(t,e,n){"use strict";var r=n(12).JID,i="urn:xmpp:jidprep:0";t.exports=function(t){var e=t.utils;t.withIq(function(n){t.add(n,"jidPrep",{get:function(){var t=e.getSubText(this.xml,i,"jid");if(t){var n=new r(t);return n.prepped=!0,n}},set:function(t){e.setSubText(this.xml,i,"jid",(t||"").toString())}})})}},function(t,e,n){"use strict";var r="urn:xmpp:jingle:1",i="urn:xmpp:jingle:errors:1",o=["out-of-order","tie-break","unknown-session","unsupported-info"],s=["alternative-session","busy","cancel","connectivity-error","decline","expired","failed-application","failed-transport","general-error","gone","incompatible-parameters","media-error","security-error","success","timeout","unsupported-applications","unsupported-transports"];t.exports=function(t){var e=t.utils,n=t.define({name:"jingle",namespace:r,element:"jingle",fields:{action:e.attribute("action"),initiator:e.attribute("initiator"),responder:e.attribute("responder"),sid:e.attribute("sid")}}),a=t.define({name:"_jingleContent",namespace:r,element:"content",fields:{creator:e.attribute("creator"),disposition:e.attribute("disposition","session"),name:e.attribute("name"),senders:e.attribute("senders","both"),description:{get:function(){for(var e=t.tagged("jingle-description").map(function(t){return t.prototype._name}),n=0,r=e.length;r>n;n++)if(this._extensions[e[n]])return this._extensions[e[n]]},set:function(t){var e="_"+t.descType;this[e]=t}},transport:{get:function(){for(var e=t.tagged("jingle-transport").map(function(t){return t.prototype._name}),n=0,r=e.length;r>n;n++)if(this._extensions[e[n]])return this._extensions[e[n]]},set:function(t){var e="_"+t.transType;this[e]=t}}}}),u=t.define({name:"reason",namespace:r,element:"reason",fields:{condition:e.enumSub(r,s),alternativeSession:{get:function(){return e.getSubText(this.xml,r,"alternative-session")},set:function(t){this.condition="alternative-session",e.setSubText(this.xml,r,"alternative-session",t)}},text:e.textSub(r,"text")}});t.extend(n,a,"contents"),t.extend(n,u),t.withStanzaError(function(n){t.add(n,"jingleCondition",e.enumSub(i,o))}),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils,n={get:function(){var t=e.getSubText(this.xml,"urn:xmpp:json:0","json");return t?JSON.parse(t):void 0},set:function(t){t=JSON.stringify(t),t&&e.setSubText(this.xml,"urn:xmpp:json:0","json",t)}};t.withMessage(function(e){t.add(e,"json",n)}),t.withPubsubItem(function(e){t.add(e,"json",n)})}},function(t,e,n){"use strict";var r="urn:xmpp:eventlog";t.exports=function(t){var e=t.utils,n=t.define({name:"log",namespace:r,element:"log",fields:{id:e.attribute("id"),timestamp:e.dateAttribute("timestamp"),type:e.attribute("type"),level:e.attribute("level"),object:e.attribute("object"),subject:e.attribute("subject"),facility:e.attribute("facility"),module:e.attribute("module"),message:e.textSub(r,"message"),stackTrace:e.textSub(r,"stackTrace")}}),i=t.define({name:"_logtag",namespace:r,element:"tag",fields:{name:e.attribute("name"),value:e.attribute("value"),type:e.attribute("type")}});t.extend(n,i,"tags"),t.withMessage(function(e){t.extend(e,n)}),t.withPubsubItem(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r=n(12).JID,i="urn:xmpp:mam:0";t.exports=function(t){var e=t.utils,n=t.define({name:"mam",namespace:i,element:"query",fields:{queryid:e.attribute("queryid")}}),o=t.define({name:"mamItem",namespace:i,element:"result",fields:{queryid:e.attribute("queryid"),id:e.attribute("id")}}),s=t.define({name:"mamResult",namespace:i,element:"fin",fields:{queryid:e.attribute("queryid"),complete:e.boolAttribute("complete"),stable:e.boolAttribute("stable")}}),a=t.define({name:"mamPrefs",namespace:i,element:"prefs",fields:{defaultCondition:e.attribute("default"),always:{get:function(){var t=[],n=e.find(this.xml,i,"always");if(0===n.length)return t;n=n[0];var o=e.getMultiSubText(n,i,"jid");return o.forEach(function(e){t.push(new r(e.textContent))}),t},set:function(t){if(t.length>0){var n=e.find(this.xml,i,"always");e.setMultiSubText(n,i,"jid",t);

}}},never:{get:function(){var t=[],n=e.find(this.xml,i,"always");if(0===n.length)return t;n=n[0];var o=e.getMultiSubText(n,i,"jid");return o.forEach(function(e){t.push(new r(e.textContent))}),t},set:function(t){if(t.length>0){var n=e.find(this.xml,i,"never");e.setMultiSubText(n,i,"jid",t)}}}}});t.withDefinition("forwarded","urn:xmpp:forward:0",function(e){t.extend(o,e)}),t.withDefinition("set","http://jabber.org/protocol/rsm",function(e){t.extend(n,e),t.extend(s,e)}),t.withDataForm(function(e){t.extend(n,e)}),t.withIq(function(e){t.extend(e,n),t.extend(e,a)}),t.withMessage(function(e){t.extend(e,o),t.extend(e,s)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils;t.define({name:"message",namespace:"jabber:client",element:"message",topLevel:!0,fields:{lang:e.langAttribute(),id:e.attribute("id"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0),type:e.attribute("type","normal"),thread:e.textSub("jabber:client","thread"),parentThread:e.subAttribute("jabber:client","thread","parent"),subject:e.textSub("jabber:client","subject"),$body:{get:function(){return e.getSubLangText(this.xml,this._NS,"body",this.lang)}},body:{get:function(){var t=this.$body;return t[this.lang]||""},set:function(t){e.setSubLangText(this.xml,this._NS,"body",t,this.lang)}},attention:e.boolSub("urn:xmpp:attention:0","attention"),chatState:e.enumSub("http://jabber.org/protocol/chatstates",["active","composing","paused","inactive","gone"]),replace:e.subAttribute("urn:xmpp:message-correct:0","replace","id"),requestReceipt:e.boolSub("urn:xmpp:receipts","request"),receipt:e.subAttribute("urn:xmpp:receipts","received","id")}})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/mood",i=["afraid","amazed","amorous","angry","annoyed","anxious","aroused","ashamed","bored","brave","calm","cautious","cold","confident","confused","contemplative","contented","cranky","crazy","creative","curious","dejected","depressed","disappointed","disgusted","dismayed","distracted","embarrassed","envious","excited","flirtatious","frustrated","grateful","grieving","grumpy","guilty","happy","hopeful","hot","humbled","humiliated","hungry","hurt","impressed","in_awe","in_love","indignant","interested","intoxicated","invincible","jealous","lonely","lucky","mean","moody","nervous","neutral","offended","outraged","playful","proud","relaxed","relieved","remorseful","restless","sad","sarcastic","serious","shocked","shy","sick","sleepy","spontaneous","stressed","strong","surprised","thankful","thirsty","tired","undefined","weak","worried"];t.exports=function(t){var e=t.define({name:"mood",namespace:r,element:"mood",fields:{text:t.utils.textSub(r,"text"),value:t.utils.enumSub(r,i)}});t.withPubsubItem(function(n){t.extend(n,e)}),t.withMessage(function(n){t.extend(n,e)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/muc",i=r+"#user",o=r+"#admin",s=r+"#owner",a=r+"#unique",u=function(t,e){return{get:function(){return this._extensions[t]?this[t][e]:void 0},set:function(n){this[t][e]=n}}};t.exports=function(t){var e=t.utils,n=t.define({name:"_mucUserItem",namespace:i,element:"item",fields:{affiliation:e.attribute("affiliation"),nick:e.attribute("nick"),jid:e.jidAttribute("jid"),role:e.attribute("role"),reason:e.textSub(i,"reason")}}),c=t.define({name:"_mucUserActor",namespace:i,element:"actor",fields:{nick:e.attribute("nick"),jid:e.jidAttribute("jid")}}),l=t.define({name:"destroyed",namespace:i,element:"destroy",fields:{jid:e.jidAttribute("jid"),reason:e.textSub(i,"reason")}}),p=t.define({name:"invite",namespace:i,element:"invite",fields:{to:e.jidAttribute("to"),from:e.jidAttribute("from"),reason:e.textSub(i,"reason"),thread:e.subAttribute(i,"continue","thread"),"continue":e.boolSub(i,"continue")}}),f=t.define({name:"decline",namespace:i,element:"decline",fields:{to:e.jidAttribute("to"),from:e.jidAttribute("from"),reason:e.textSub(i,"reason")}}),d=t.define({name:"_mucAdminItem",namespace:o,element:"item",fields:{affiliation:e.attribute("affiliation"),nick:e.attribute("nick"),jid:e.jidAttribute("jid"),role:e.attribute("role"),reason:e.textSub(o,"reason")}}),h=t.define({name:"actor",namespace:i,element:"actor",fields:{nick:e.attribute("nick"),jid:e.jidAttribute("jid")}}),m=t.define({name:"destroy",namespace:s,element:"destroy",fields:{jid:e.jidAttribute("jid"),password:e.textSub(s,"password"),reason:e.textSub(s,"reason")}}),g=t.define({name:"muc",namespace:i,element:"x",fields:{affiliation:u("_mucUserItem","affiliation"),nick:u("_mucUserItem","nick"),jid:u("_mucUserItem","jid"),role:u("_mucUserItem","role"),actor:u("_mucUserItem","_mucUserActor"),reason:u("_mucUserItem","reason"),password:e.textSub(i,"password"),codes:{get:function(){return e.getMultiSubText(this.xml,i,"status",function(t){return e.getAttribute(t,"code")})},set:function(t){var n=this;e.setMultiSubText(this.xml,i,"status",t,function(t){var r=e.createElement(i,"status",i);e.setAttribute(r,"code",t),n.xml.appendChild(r)})}}}}),v=t.define({name:"mucAdmin",namespace:o,element:"query",fields:{affiliation:u("_mucAdminItem","affiliation"),nick:u("_mucAdminItem","nick"),jid:u("_mucAdminItem","jid"),role:u("_mucAdminItem","role"),actor:u("_mucAdminItem","_mucAdminActor"),reason:u("_mucAdminItem","reason")}}),y=t.define({name:"mucOwner",namespace:s,element:"query"}),_=t.define({name:"joinMuc",namespace:r,element:"x",fields:{password:e.textSub(r,"password"),history:{get:function(){var t={},n=e.find(this.xml,this._NS,"history");if(!n.length)return{};n=n[0];var r=n.getAttribute("maxchars")||"",i=n.getAttribute("maxstanas")||"",o=n.getAttribute("seconds")||"",s=n.getAttribute("since")||"";r&&(t.maxchars=parseInt(r,10)),i&&(t.maxtypess=parseInt(i,10)),o&&(t.seconds=parseInt(o,10)),s&&(t.since=new Date(s))},set:function(t){var n=e.find(this.xml,this._NS,"history");if(n.length)for(var r=0;r<n.length;r++)this.xml.removeChild(n[r]);var i=e.createElement(this._NS,"history",this._NS);this.xml.appendChild(i),t.maxchars&&i.setAttribute(""+t.maxchars),t.maxtypess&&i.setAttribute(""+t.maxtypess),t.seconds&&i.setAttribute(""+t.seconds),t.since&&i.setAttribute(t.since.toISOString())}}}}),b=t.define({name:"mucInvite",namespace:"jabber:x:conference",element:"x",fields:{jid:e.jidAttribute("jid"),password:e.attribute("password"),reason:e.attribute("reason"),thread:e.attribute("thread"),"continue":e.boolAttribute("continue")}});t.extend(n,c),t.extend(g,n),t.extend(g,p,"invites"),t.extend(g,f),t.extend(g,l),t.extend(d,h),t.extend(v,d,"items"),t.extend(y,m),t.withDataForm(function(e){t.extend(y,e)}),t.withIq(function(n){t.add(n,"mucUnique",e.textSub(a,"unique")),t.extend(n,v),t.extend(n,y)}),t.withPresence(function(e){t.extend(e,g),t.extend(e,_)}),t.withMessage(function(e){t.extend(e,g),t.extend(e,b)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils.textSub("http://jabber.org/protocol/nick","nick");t.withPubsubItem(function(n){t.add(n,"nick",e)}),t.withPresence(function(n){t.add(n,"nick",e)}),t.withMessage(function(n){t.add(n,"nick",e)})}},function(t,e,n){"use strict";var r="jabber:x:oob";t.exports=function(t){var e=t.define({name:"oob",element:"x",namespace:r,fields:{url:t.utils.textSub(r,"url"),desc:t.utils.textSub(r,"desc")}});t.withMessage(function(n){t.extend(n,e,"oobURIs")})}},function(t,e,n){"use strict";var r="urn:xmpp:ping";t.exports=function(t){var e=t.define({name:"ping",namespace:r,element:"ping"});t.withIq(function(n){t.extend(n,e)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils;t.define({name:"presence",namespace:"jabber:client",element:"presence",topLevel:!0,fields:{lang:e.langAttribute(),id:e.attribute("id"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0),priority:e.numberSub("jabber:client","priority",!1,0),show:e.textSub("jabber:client","show"),type:{get:function(){return e.getAttribute(this.xml,"type","available")},set:function(t){"available"===t&&(t=!1),e.setAttribute(this.xml,"type",t)}},$status:{get:function(){return e.getSubLangText(this.xml,this._NS,"status",this.lang)}},status:{get:function(){var t=this.$status;return t[this.lang]||""},set:function(t){e.setSubLangText(this.xml,this._NS,"status",t,this.lang)}},idleSince:e.dateSubAttribute("urn:xmpp:idle:1","idle","since"),decloak:e.subAttribute("urn:xmpp:decloak:0","decloak","reason"),avatarId:{get:function(){var t="vcard-temp:x:update",n=e.find(this.xml,t,"x");return n.length?e.getSubText(n[0],t,"photo"):""},set:function(t){var n="vcard-temp:x:update",r=e.findOrCreate(this.xml,n,"x");if(""===t)e.setBoolSub(r,n,"photo",!0);else{if(t===!0)return;t?e.setSubText(r,n,"photo",t):this.xml.removeChild(r)}}}}})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.define({name:"privateStorage",namespace:"jabber:iq:private",element:"query"});t.withIq(function(n){t.extend(n,e)})}},function(t,e,n){"use strict";var r="urn:xmpp:psa",i=["server-unavailable","connection-paused"];t.exports=function(t){var e=t.utils,n=t.define({name:"state",namespace:r,element:"state-annotation",fields:{from:e.jidAttribute("from"),condition:e.enumSub(r,i),description:e.textSub(r,"description")}});t.withPresence(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/pubsub";t.exports=function(t){var e=t.utils,n=t.define({name:"pubsub",namespace:"http://jabber.org/protocol/pubsub",element:"pubsub",fields:{publishOptions:{get:function(){var n=t.getDefinition("x","jabber:x:data"),r=e.find(this.xml,this._NS,"publish-options");return r.length&&r[0].childNodes.length?new n({},r[0].childNodes[0]):void 0},set:function(n){var r=t.getDefinition("x","jabber:x:data"),i=e.findOrCreate(this.xml,this._NS,"publish-options");if(n){var o=new r(n);i.appendChild(o.xml)}}}}}),i=t.define({name:"subscribe",namespace:r,element:"subscribe",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid")}}),o=t.define({name:"subscription",namespace:r,element:"subscription",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid"),subid:e.attribute("subid"),type:e.attribute("subscription"),configurable:e.boolSub("subscribe-options"),configurationRequired:{get:function(){var t=e.find(this.xml,r,"subscribe-options");return t.length?e.getBoolSub(t[0],r,"required"):!1}}}}),s=t.define({name:"subscriptions",namespace:r,element:"subscriptions",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid")}}),a=t.define({name:"affiliation",namespace:r,element:"affiliation",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid"),type:e.attribute("affiliation")}}),u=t.define({name:"affiliations",namespace:r,element:"affiliations",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid")}}),c=t.define({name:"subscriptionOptions",namespace:r,element:"options",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid"),subid:e.attribute("subid")}}),l=t.define({name:"unsubscribe",namespace:r,element:"unsubscribe",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid")}}),p=t.define({name:"publish",namespace:r,element:"publish",fields:{node:e.attribute("node")}}),f=t.define({name:"retract",namespace:r,element:"retract",fields:{node:e.attribute("node"),notify:e.boolAttribute("notify"),id:e.subAttribute(r,"item","id")}}),d=t.define({name:"retrieve",namespace:r,element:"items",fields:{node:e.attribute("node"),max:e.attribute("max_items")}}),h=t.define({name:"item",namespace:r,element:"item",fields:{id:e.attribute("id")}});t.extend(n,i),t.extend(n,l),t.extend(n,p),t.extend(n,f),t.extend(n,d),t.extend(n,o),t.extend(n,c),t.extend(n,s),t.extend(n,u),t.extend(p,h,"items"),t.extend(d,h,"items"),t.extend(s,o,"list"),t.extend(u,a,"list"),t.withDataForm(function(e){t.extend(c,e),t.extend(h,e)}),t.withIq(function(e){t.extend(e,n)}),t.withDefinition("set","http://jabber.org/protocol/rsm",function(e){t.extend(n,e)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/pubsub#errors",i=["closed-node","configuration-required","invalid-jid","invalid-options","invalid-payload","invalid-subid","item-forbidden","item-required","jid-required","max-items-exceeded","max-nodes-exceeded","nodeid-required","not-in-roster-group","not-subscribed","payload-too-big","payload-required","pending-subscription","presence-subscription-required","subid-required","too-many-subscriptions","unsupported","unsupported-access-model"];t.exports=function(t){t.withStanzaError(function(e){t.add(e,"pubsubCondition",t.utils.enumSub(r,i))})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/pubsub#event";t.exports=function(t){var e=t.utils,n=t.define({name:"event",namespace:r,element:"event"}),i=t.define({name:"purged",namespace:r,element:"purge",fields:{node:e.attribute("node")}}),o=t.define({name:"deleted",namespace:r,element:"delete",fields:{node:e.attribute("node"),redirect:e.subAttribute(r,"redirect","uri")}}),s=t.define({name:"subscriptionChanged",namespace:r,element:"subscription",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid"),type:e.attribute("subscription"),subid:e.attribute("subid"),expiry:{get:function(){var t=e.getAttribute(this.xml,"expiry");return"presence"===t?t:t?new Date(t):void 0},set:function(t){t&&("string"!=typeof t&&(t=t.toISOString()),e.setAttribute(this.xml,"expiry",t))}}}}),a=t.define({name:"configurationChanged",namespace:r,element:"configuration",fields:{node:e.attribute("node")}}),u=t.define({name:"updated",namespace:r,element:"items",fields:{node:e.attribute("node"),retracted:{get:function(){var t=[],n=e.find(this.xml,this._NS,"retract");return n.forEach(function(e){t.push(e.getAttribute("id"))}),t},set:function(t){var n=this;t.forEach(function(t){var r=e.createElement(n._NS,"retract",n._NS);r.setAttribute("id",t),this.xml.appendChild(r)})}}}}),c=t.define({name:"_eventItem",namespace:r,element:"item",fields:{id:e.attribute("id"),node:e.attribute("node"),publisher:e.jidAttribute("publisher")}});t.extend(u,c,"published"),t.extend(n,u),t.extend(n,s),t.extend(n,a),t.extend(n,o),t.extend(n,i),t.withMessage(function(e){t.extend(e,n)}),t.withDataForm(function(e){t.extend(a,e)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/pubsub#owner";t.exports=function(t){var e=t.utils,n=t.define({name:"pubsubOwner",namespace:r,element:"pubsub",fields:{create:e.subAttribute(r,"create","node"),purge:e.subAttribute(r,"purge","node"),del:e.subAttribute(r,"delete","node"),redirect:{get:function(){var t=e.find(this.xml,this._NS,"delete");return t.length?e.getSubAttribute(t[0],this._NS,"redirect","uri"):""},set:function(t){var n=e.findOrCreate(this.xml,this._NS,"delete");e.setSubAttribute(n,this._NS,"redirect","uri",t)}}}}),i=t.define({name:"subscription",namespace:r,element:"subscription",fields:{node:e.attribute("node"),jid:e.jidAttribute("jid"),subid:e.attribute("subid"),type:e.attribute("subscription"),configurable:e.boolSub("subscribe-options"),configurationRequired:{get:function(){var t=e.find(this.xml,r,"subscribe-options");return t.length?e.getBoolSub(t[0],r,"required"):!1}}}}),o=t.define({name:"subscriptions",namespace:r,element:"subscriptions",fields:{node:e.attribute("node")}}),s=t.define({name:"affiliation",namespace:r,element:"affiliation",fields:{node:e.attribute("node"),type:e.attribute("affiliation")}}),a=t.define({name:"affiliations",namespace:r,element:"affiliations",fields:{node:e.attribute("node")}}),u=t.define({name:"config",namespace:r,element:"configure",fields:{node:e.attribute("node")}});t.extend(n,u),t.extend(n,o),t.extend(n,a),t.extend(o,i,"list"),t.extend(a,s,"list"),t.withDataForm(function(e){t.extend(u,e)}),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r=n(25),i="urn:xmpp:reach:0";t.exports=function(t){var e=t.utils,n=t.define({name:"_reachAddr",namespace:i,element:"addr",fields:{uri:e.attribute("uri"),$desc:{get:function(){return e.getSubLangText(this.xml,i,"desc",this.lang)}},desc:{get:function(){var t=this.$desc;return t[this.lang]||""},set:function(t){e.setSubLangText(this.xml,i,"desc",t,this.lang)}}}}),o={get:function(){var t=e.find(this.xml,i,"reach"),o=[];if(t.length){var s=e.find(t[0],i,"addr");r(s,function(t){o.push(new n({},t))})}return o},set:function(t){var o=e.findOrCreate(this.xml,i,"reach");e.setAttribute(o,"xmlns",i),r(t,function(t){var e=new n(t);o.appendChild(e.xml)})}};t.withPubsubItem(function(e){t.add(e,"reach",o)}),t.withPresence(function(e){t.add(e,"reach",o)})}},function(t,e,n){"use strict";var r="jabber:iq:register";t.exports=function(t){var e=t.utils,n=t.define({name:"register",namespace:r,element:"query",fields:{instructions:e.textSub(r,"instructions"),registered:e.boolSub(r,"registered"),remove:e.boolSub(r,"remove"),username:e.textSub(r,"username"),nick:e.textSub(r,"nick"),password:e.textSub(r,"password"),name:e.textSub(r,"name"),first:e.textSub(r,"first"),last:e.textSub(r,"last"),email:e.textSub(r,"email"),address:e.textSub(r,"address"),city:e.textSub(r,"city"),state:e.textSub(r,"state"),zip:e.textSub(r,"zip"),phone:e.textSub(r,"phone"),url:e.textSub(r,"url"),date:e.textSub(r,"date"),misc:e.textSub(r,"misc"),text:e.textSub(r,"text"),key:e.textSub(r,"key")}});t.withDefinition("x","jabber:x:oob",function(e){t.extend(n,e)}),t.withDataForm(function(e){t.extend(n,e)}),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="jabber:iq:roster";t.exports=function(t){var e=t.utils,n=t.define({name:"roster",namespace:r,element:"query",fields:{ver:{get:function(){return e.getAttribute(this.xml,"ver")},set:function(t){var n=""===t;e.setAttribute(this.xml,"ver",t,n)}}}}),i=t.define({name:"_rosterItem",namespace:r,element:"item",fields:{jid:e.jidAttribute("jid",!0),name:e.attribute("name"),subscription:e.attribute("subscription","none"),subscriptionRequested:{get:function(){var t=e.getAttribute(this.xml,"ask");return"subscribe"===t}},preApproved:e.boolAttribute(r,"approved"),groups:e.multiTextSub(r,"group")}});t.extend(n,i,"items"),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/rsm";t.exports=function(t){var e=t.utils;t.define({name:"rsm",namespace:r,element:"set",fields:{after:e.textSub(r,"after"),before:{get:function(){return e.getSubText(this.xml,this._NS,"before")},set:function(t){t===!0?e.findOrCreate(this.xml,this._NS,"before"):e.setSubText(this.xml,this._NS,"before",t)}},count:e.numberSub(r,"count",!1,0),first:e.textSub(r,"first"),firstIndex:e.subAttribute(r,"first","index"),index:e.textSub(r,"index"),last:e.textSub(r,"last"),max:e.textSub(r,"max")}})}},function(t,e,n){"use strict";var r="urn:xmpp:jingle:apps:rtp:1",i="urn:xmpp:jingle:apps:rtp:rtcp-fb:0",o="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",s="urn:xmpp:jingle:apps:rtp:info:1",a="urn:xmpp:jingle:apps:rtp:ssma:0",u="urn:xmpp:jingle:apps:grouping:0";t.exports=function(t){var e=t.utils,n={get:function(){var t=e.find(this.xml,i,"rtcp-fb"),n=[];return t.forEach(function(t){n.push({type:e.getAttribute(t,"type"),subtype:e.getAttribute(t,"subtype")})}),t=e.find(this.xml,i,"rtcp-fb-trr-int"),t.forEach(function(t){n.push({type:e.getAttribute(t,"type"),value:e.getAttribute(t,"value")})}),n},set:function(t){var n=this,o=e.find(this.xml,i,"rtcp-fb");o.forEach(function(t){n.xml.removeChild(t)}),o=e.find(this.xml,i,"rtcp-fb-trr-int"),o.forEach(function(t){n.xml.removeChild(t)}),t.forEach(function(t){var o;"trr-int"===t.type?(o=e.createElement(i,"rtcp-fb-trr-int",r),e.setAttribute(o,"type",t.type),e.setAttribute(o,"value",t.value)):(o=e.createElement(i,"rtcp-fb",r),e.setAttribute(o,"type",t.type),e.setAttribute(o,"subtype",t.subtype)),n.xml.appendChild(o)})}},c=t.define({name:"bandwidth",namespace:r,element:"bandwidth",fields:{type:e.attribute("type"),bandwidth:e.text()}}),l=t.define({name:"_rtp",namespace:r,element:"description",tags:["jingle-description"],fields:{descType:{value:"rtp"},media:e.attribute("media"),ssrc:e.attribute("ssrc"),mux:e.boolSub(r,"rtcp-mux"),encryption:{get:function(){var t=e.find(this.xml,r,"encryption");if(!t.length)return[];t=t[0];var n=this,i=e.find(t,r,"crypto"),o=[];return i.forEach(function(t){o.push(new f({},t,n).toJSON())}),o},set:function(t){var n=e.find(this.xml,r,"encryption");if(n.length&&this.xml.removeChild(n),t.length){e.setBoolSubAttribute(this.xml,r,"encryption","required",!0),n=e.find(this.xml,r,"encryption")[0];var i=this;t.forEach(function(t){var e=new f(t,null,i);n.appendChild(e.xml)})}}},feedback:n,headerExtensions:{get:function(){var t=e.find(this.xml,o,"rtp-hdrext"),n=[];return t.forEach(function(t){n.push({id:e.getAttribute(t,"id"),uri:e.getAttribute(t,"uri"),senders:e.getAttribute(t,"senders")})}),n},set:function(t){var n=this,i=e.find(this.xml,o,"rtp-hdrext");i.forEach(function(t){n.xml.removeChild(t)}),t.forEach(function(t){var i=e.createElement(o,"rtp-hdrext",r);e.setAttribute(i,"id",t.id),e.setAttribute(i,"uri",t.uri),e.setAttribute(i,"senders",t.senders),n.xml.appendChild(i)})}}}}),p=t.define({name:"_payloadType",namespace:r,element:"payload-type",fields:{channels:e.attribute("channels"),clockrate:e.attribute("clockrate"),id:e.attribute("id"),maxptime:e.attribute("maxptime"),name:e.attribute("name"),ptime:e.attribute("ptime"),feedback:n,parameters:{get:function(){var t=[],n=e.find(this.xml,r,"parameter");return n.forEach(function(n){t.push({key:e.getAttribute(n,"name"),value:e.getAttribute(n,"value")})}),t},set:function(t){var n=this;t.forEach(function(t){var i=e.createElement(r,"parameter");e.setAttribute(i,"name",t.key),e.setAttribute(i,"value",t.value),n.xml.appendChild(i)})}}}}),f=t.define({name:"crypto",namespace:r,element:"crypto",fields:{cipherSuite:e.attribute("crypto-suite"),keyParams:e.attribute("key-params"),sessionParams:e.attribute("session-params"),tag:e.attribute("tag")}}),d=t.define({name:"_group",namespace:u,element:"group",fields:{semantics:e.attribute("semantics"),contents:e.multiSubAttribute(u,"content","name")}}),h=t.define({name:"_sourceGroup",namespace:a,element:"ssrc-group",fields:{semantics:e.attribute("semantics"),sources:e.multiSubAttribute(a,"source","ssrc")}}),m=t.define({name:"_source",namespace:a,element:"source",fields:{ssrc:e.attribute("ssrc"),parameters:{get:function(){var t=[],n=e.find(this.xml,a,"parameter");return n.forEach(function(n){t.push({key:e.getAttribute(n,"name"),value:e.getAttribute(n,"value")})}),t},set:function(t){var n=this;t.forEach(function(t){var r=e.createElement(a,"parameter");e.setAttribute(r,"name",t.key),e.setAttribute(r,"value",t.value),n.xml.appendChild(r)})}}}}),g=t.define({name:"mute",namespace:s,element:"mute",fields:{creator:e.attribute("creator"),name:e.attribute("name")}}),v=t.define({name:"unmute",namespace:s,element:"unmute",fields:{creator:e.attribute("creator"),name:e.attribute("name")}});t.extend(l,c),t.extend(l,p,"payloads"),t.extend(l,m,"sources"),t.extend(l,h,"sourceGroups"),t.withDefinition("content","urn:xmpp:jingle:1",function(e){t.extend(e,l)}),t.withDefinition("jingle","urn:xmpp:jingle:1",function(n){t.extend(n,g),t.extend(n,v),t.extend(n,d,"groups"),t.add(n,"ringing",e.boolSub(s,"ringing")),t.add(n,"hold",e.boolSub(s,"hold")),t.add(n,"active",e.boolSub(s,"active"))})}},function(t,e,n){"use strict";var r="urn:xmpp:rtt:0",i={insert:"t",erase:"e",wait:"w"},o={t:"insert",e:"erase",w:"wait"};t.exports=function(t){var e=t.utils,n=t.define({name:"rtt",namespace:r,element:"rtt",fields:{id:e.attribute("id"),event:e.attribute("event","edit"),seq:e.numberAttribute("seq"),actions:{get:function(){for(var t=[],n=0,i=this.xml.childNodes.length;i>n;n++){var s=this.xml.childNodes[n],a=s.localName,u={};if(s.namespaceURI===r&&o[a]){u.type=o[a];var c=e.getAttribute(s,"p");c&&(u.pos=parseInt(c,10));var l=e.getAttribute(s,"n");l&&(u.num=parseInt(l,10));var p=e.getText(s);p&&"t"===a&&(u.text=p),t.push(u)}}return t},set:function(t){for(var n=this,o=0,s=this.xml.childNodes.length;s>o;o++)this.xml.removeChild(this.xml.childNodes[o]);t.forEach(function(t){if(i[t.type]){var o=e.createElement(r,i[t.type],r);void 0!==t.pos&&e.setAttribute(o,"p",t.pos.toString()),t.num&&e.setAttribute(o,"n",t.num.toString()),t.text&&e.setText(o,t.text),n.xml.appendChild(o)}})}}}});t.withMessage(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-sasl",i=["aborted","account-disabled","credentials-expired","encryption-required","incorrect-encoding","invalid-authzid","invalid-mechanism","malformed-request","mechanism-too-weak","not-authorized","temporary-auth-failure"];t.exports=function(t){var e=t.utils,n=t.define({name:"sasl",namespace:r,element:"mechanisms",fields:{mechanisms:e.multiTextSub(r,"mechanism")}});t.define({name:"saslAuth",eventName:"sasl:auth",namespace:r,element:"auth",topLevel:!0,fields:{value:e.text(),mechanism:e.attribute("mechanism")}}),t.define({name:"saslChallenge",eventName:"sasl:challenge",namespace:r,element:"challenge",topLevel:!0,fields:{value:e.text()}}),t.define({name:"saslResponse",eventName:"sasl:response",namespace:r,element:"response",topLevel:!0,fields:{value:e.text()}}),t.define({name:"saslAbort",eventName:"sasl:abort",namespace:r,element:"abort",topLevel:!0}),t.define({name:"saslSuccess",eventName:"sasl:success",namespace:r,element:"success",topLevel:!0,fields:{value:e.text()}}),t.define({name:"saslFailure",eventName:"sasl:failure",namespace:r,element:"failure",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(t){this._lang=t}},condition:e.enumSub(r,i),$text:{get:function(){return e.getSubLangText(this.xml,r,"text",this.lang)}},text:{get:function(){var t=this.$text;return t[this.lang]||""},set:function(t){e.setSubLangText(this.xml,r,"text",t,this.lang)}}}}),t.withStreamFeatures(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-session";t.exports=function(t){var e=t.utils,n=t.define({name:"session",namespace:r,element:"session",fields:{required:e.boolSub(r,"required"),optional:e.boolSub(r,"optional")}});t.withIq(function(e){t.extend(e,n)}),t.withStreamFeatures(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="http://jabber.org/protocol/shim";t.exports=function(t){var e=t.utils,n={get:function(){var t=e.find(this.xml,r,"headers");return t.length?e.getMultiSubText(t[0],r,"header",function(t){var n=e.getAttribute(t,"name");return n?{name:n,value:e.getText(t)}:void 0}):[]},set:function(n){var i=e.findOrCreate(this.xml,r,"headers");t.setMultiSubText(i,r,"header",n,function(t){var n=e.createElement(r,"header",r);e.setAttribute(n,"name",t.name),e.setText(n,t.value),i.appendChild(n)})}};t.withMessage(function(e){t.add(e,"headers",n)}),t.withPresence(function(e){t.add(e,"headers",n)})}},function(t,e,n){"use strict";var r="urn:xmpp:sm:3";t.exports=function(t){var e=t.utils,n=t.define({name:"streamManagement",namespace:r,element:"sm"});t.define({name:"smEnable",eventName:"stream:management:enable",namespace:r,element:"enable",topLevel:!0,fields:{resume:e.boolAttribute("resume")}}),t.define({name:"smEnabled",eventName:"stream:management:enabled",namespace:r,element:"enabled",topLevel:!0,fields:{id:e.attribute("id"),resume:e.boolAttribute("resume")}}),t.define({name:"smResume",eventName:"stream:management:resume",namespace:r,element:"resume",topLevel:!0,fields:{h:e.numberAttribute("h",!1,0),previd:e.attribute("previd")}}),t.define({name:"smResumed",eventName:"stream:management:resumed",namespace:r,element:"resumed",topLevel:!0,fields:{h:e.numberAttribute("h",!1,0),previd:e.attribute("previd")}}),t.define({name:"smFailed",eventName:"stream:management:failed",namespace:r,element:"failed",topLevel:!0}),t.define({name:"smAck",eventName:"stream:management:ack",namespace:r,element:"a",topLevel:!0,fields:{h:e.numberAttribute("h",!1,0)}}),t.define({name:"smRequest",eventName:"stream:management:request",namespace:r,element:"r",topLevel:!0}),t.withStreamFeatures(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.utils;t.define({name:"stream",namespace:"http://etherx.jabber.org/streams",element:"stream",fields:{lang:e.langAttribute(),id:e.attribute("id"),version:e.attribute("version","1.0"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0)}})}},function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-streams",i=["bad-format","bad-namespace-prefix","conflict","connection-timeout","host-gone","host-unknown","improper-addressing","internal-server-error","invalid-from","invalid-namespace","invalid-xml","not-authorized","not-well-formed","policy-violation","remote-connection-failed","reset","resource-constraint","restricted-xml","see-other-host","system-shutdown","undefined-condition","unsupported-encoding","unsupported-feature","unsupported-stanza-type","unsupported-version"];t.exports=function(t){var e=t.utils;t.define({name:"streamError",namespace:"http://etherx.jabber.org/streams",element:"error",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(t){this._lang=t}},condition:e.enumSub(r,i),seeOtherHost:{get:function(){return e.getSubText(this.xml,r,"see-other-host")},set:function(t){this.condition="see-other-host",e.setSubText(this.xml,r,"see-other-host",t)}},$text:{get:function(){return e.getSubLangText(this.xml,r,"text",this.lang)}},text:{get:function(){var t=this.$text;return t[this.lang]||""},set:function(t){e.setSubLangText(this.xml,r,"text",t,this.lang)}}}})}},function(t,e,n){"use strict";t.exports=function(t){var e=t.define({name:"streamFeatures",namespace:"http://etherx.jabber.org/streams",element:"features",topLevel:!0}),n=t.define({name:"rosterVersioning",namespace:"urn:xmpp:features:rosterver",element:"ver"}),r=t.define({name:"subscriptionPreApproval",namespace:"urn:xmpp:features:pre-approval",element:"sub"});t.extend(e,n),t.extend(e,r)}},function(t,e,n){"use strict";t.exports=function(t){var e=t.define({name:"time",namespace:"urn:xmpp:time",element:"time",fields:{utc:t.utils.dateSub("urn:xmpp:time","utc"),tzo:t.utils.tzoSub("urn:xmpp:time","tzo",0)}});t.withIq(function(n){t.extend(n,e)})}},function(t,e,n){"use strict";var r="vcard-temp";t.exports=function(t){var e=t.utils,n=t.define({name:"vCardTemp",namespace:r,element:"vCard",fields:{role:e.textSub(r,"ROLE"),website:e.textSub(r,"URL"),title:e.textSub(r,"TITLE"),description:e.textSub(r,"DESC"),fullName:e.textSub(r,"FN"),birthday:e.dateSub(r,"BDAY"),nicknames:e.multiTextSub(r,"NICKNAME"),jids:e.multiTextSub(r,"JABBERID")}}),i=t.define({name:"_email",namespace:r,element:"EMAIL",fields:{email:e.textSub(r,"USERID"),home:e.boolSub(r,"HOME"),work:e.boolSub(r,"WORK"),preferred:e.boolSub(r,"PREF")}}),o=t.define({name:"_tel",namespace:r,element:"TEL",fields:{number:e.textSub(r,"NUMBER"),home:e.boolSub(r,"HOME"),work:e.boolSub(r,"WORK"),mobile:e.boolSub(r,"CELL"),preferred:e.boolSub(r,"PREF")}}),s=t.define({name:"_address",namespace:r,element:"ADR",fields:{street:e.textSub(r,"STREET"),street2:e.textSub(r,"EXTADD"),country:e.textSub(r,"CTRY"),city:e.textSub(r,"LOCALITY"),region:e.textSub(r,"REGION"),postalCode:e.textSub(r,"PCODE"),pobox:e.textSub(r,"POBOX"),home:e.boolSub(r,"HOME"),work:e.boolSub(r,"WORK"),preferred:e.boolSub(r,"PREF")}}),a=t.define({name:"organization",namespace:r,element:"ORG",fields:{name:e.textSub(r,"ORGNAME"),unit:e.textSub(r,"ORGUNIT")}}),u=t.define({name:"name",namespace:r,element:"N",fields:{family:e.textSub(r,"FAMILY"),given:e.textSub(r,"GIVEN"),middle:e.textSub(r,"MIDDLE"),prefix:e.textSub(r,"PREFIX"),suffix:e.textSub(r,"SUFFIX")}}),c=t.define({name:"photo",namespace:r,element:"PHOTO",fields:{type:e.textSub(r,"TYPE"),data:e.textSub(r,"BINVAL"),url:e.textSub(r,"EXTVAL")}});t.extend(n,i,"emails"),t.extend(n,s,"addresses"),t.extend(n,o,"phoneNumbers"),t.extend(n,a),t.extend(n,u),t.extend(n,c),t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="jabber:iq:version";t.exports=function(t){var e=t.utils,n=t.define({name:"version",namespace:r,element:"query",fields:{name:e.textSub(r,"name"),version:e.textSub(r,"version"),os:e.textSub(r,"os")}});t.withIq(function(e){t.extend(e,n)})}},function(t,e,n){"use strict";var r="urn:xmpp:invisible:0";t.exports=function(t){t.withIq(function(e){t.add(e,"visible",t.utils.boolSub(r,"visible")),t.add(e,"invisible",t.utils.boolSub(r,"invisible"))})}},function(t,e,n){
(function(e,r){"use strict";function i(){}function o(t,e,n,r){r=r||0;var s=p(t).cancellable().timeout(1e3*(e||20));return s.spread(function(t,e){if(t.statusCode<200||t.statusCode>=400)throw new i("HTTP Status Error");return e})["catch"](l.TimeoutError,function(){throw new i("Dead Connection, exceeded timeout limit")})["catch"](function(){if(n>r)return l.delay(100).then(function(){return o(t,e,n,r+1)});throw new i("Dead Connection, exceeded retry limit")})}function s(t,e){var n=this;f.call(this),n.sm=t,n.stanzas={BOSH:e.getDefinition("body","http://jabber.org/protocol/httpbind"),StreamError:e.getStreamError()},n.sendQueue=[],n.requests=[],n.maxRequests=2,n.sid="",n.on("raw:incoming",function(t){if(t=t.trim(),""!==t){var r,i;try{r=e.parse(t,n.stanzas.BOSH)}catch(o){return i=new n.stanzas.StreamError({condition:"invalid-xml"}),n.emit("stream:error",i,o),n.send(i),n.disconnect()}n.hasStream||(n.hasStream=!0,n.stream={id:r.sid,lang:r.lang||"en",version:r.version||"1.0",to:r.to,from:r.from},n.sid=r.sid,n.maxRequests=r.requests);var s=r.payload;s.forEach(function(t){t.lang||(t.lang=n.stream.lang),n.emit("stream:data",t)}),"terminate"===r.type&&(n.rid=void 0,n.sid=void 0,n.emit("bosh:terminate",r),n.emit("stream:end"),n.emit("disconnected",n))}})}var a=n(39),u=n(144),c=n(6),l=n(61),p=l.promisify(n(150)),f=n(15);c.inherits(i,Error),c.inherits(s,f),s.prototype.connect=function(t){var e=this;e.config=a({rid:Math.ceil(9999999999*Math.random()),wait:30,maxRetries:5},t),e.hasStream=!1,e.sm.started=!1,e.url=t.boshURL,e.rid=e.config.rid,e.requests=[],e.rid++,e.request(new e.stanzas.BOSH({version:e.config.version||"1.0",to:e.config.server,lang:e.config.lang||"en",wait:e.config.wait,ver:"1.6",hold:1}))},s.prototype.disconnect=function(){this.hasStream?(this.rid++,this.request(new this.stanzas.BOSH({type:"terminate"}))):(this.requests.forEach(function(t){t.request.cancel()}),this.stream=void 0,this.sid=void 0,this.rid=void 0,this.emit("disconnected",this))},s.prototype.restart=function(){var t=this;t.rid++,t.request(new t.stanzas.BOSH({to:t.config.server,lang:t.config.lang||"en",restart:"true"}))},s.prototype.send=function(t){var n=this;n.hasStream&&(n.sendQueue.push(t),e.nextTick(n.longPoll.bind(n)))},s.prototype.longPoll=function(){var t=0===this.requests.length,e=this.sendQueue.length>0&&this.requests.length<this.maxRequests;if(this.sid&&(t||e)){var n=this.sendQueue;this.sendQueue=[],this.rid++,this.request(new this.stanzas.BOSH({payload:n}))}},s.prototype.request=function(t){var n=this,s={id:n.rid,request:null};t.rid=n.rid,t.sid=n.sid;var a=new r(t.toString(),"utf8").toString();n.emit("raw:outgoing",a),n.requests.push(s);var c=o({uri:n.url,body:a,method:"POST",strictSSL:!0},1.5*n.config.wait,this.config.maxRetries);return s.request=c,c.then(function(t){n.emit("raw:incoming",new r(t,"utf8").toString())})["catch"](i,function(t){n.hasStream=!1;var e=new n.stanzas.StreamError({condition:"connection-timeout"});n.emit("stream:error",e,t),n.disconnect()})["catch"](l.CancellationError,function(){})["finally"](function(){n.requests=u(n.requests,function(t){return t.id!==s.id}),"terminate"!==t.type&&e.nextTick(function(){e.nextTick(n.longPoll.bind(n))})})},t.exports=s}).call(e,n(1),n(2).Buffer)},function(t,e,n){"use strict";function r(t,e){function n(t){return[r.streamStart,t,r.streamEnd].join("")}o.call(this,t,e);var r=this;r.on("connected",function(){r.streamStart='<stream:stream xmlns:stream="http://etherx.jabber.org/streams">',r.streamEnd="</stream:stream>"}),r.off("raw:incoming"),r.on("raw:incoming",function(t){var o,s,a;if(t=t.trim(),t=t.replace(/^(\s*<\?.*\?>\s*)*/,""),""!==t){if(t.match(r.streamEnd))return r.disconnect();if(r.hasStream)try{o=e.parse(n(t))}catch(u){return a=new this.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",a,u),r.send(a),r.disconnect()}else{var c=t.match(/^<(\S+:)?(\S+) /);r.streamStart=t,r.streamEnd="</"+(c[1]||"")+c[2]+">",s=!1;try{o=e.parse(t+r.streamEnd)}catch(u){try{o=e.parse(t),s=!0}catch(l){return a=new this.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",a,l),r.send(a),r.disconnect()}}r.hasStream=!0,r.stream=o,r.emit("stream:start",o)}i(o._extensions,function(t){!t.lang&&r.stream&&(t.lang=r.stream.lang),r.emit("stream:data",t)}),s&&r.emit("stream:end")}})}var i=n(25),o=n(131),s=n(6);s.inherits(r,o),r.prototype.startHeader=function(){return["<stream:stream",'xmlns:stream="http://etherx.jabber.org/streams"','xmlns="jabber:client"','version="'+(this.config.version||"1.0")+'"','xml:lang="'+(this.config.lang||"en")+'"','to="'+this.config.server+'">'].join(" ")},r.prototype.closeHeader=function(){return"</stream:stream>"},t.exports=r},function(t,e,n){function r(t){for(var e={},n=t.split(/,(?=(?:[^"]|"[^"]*")*$)/),r=0,i=n.length;i>r;r++){var o=/(\w+)=["]?([^"]+)["]?$/.exec(n[r]);o&&(e[o[1]]=o[2])}return e}function i(){return s(16).toString("hex")}function o(t){t=t||{},this._genNonce=t.genNonce||i}var s=n(375),a=n(366);o.Mechanism=o,o.prototype.name="DIGEST-MD5",o.prototype.clientFirst=!1,o.prototype.response=function(t){if(this._completed)return void 0;var e=t.serviceType+"/"+t.host;t.serviceName&&t.host!==t.serviceName&&(e+="/"+t.serviceName);var n=t.realm||this._realm||"",r=this._genNonce(),i="00000001",o="auth",s="";s+='username="'+t.username+'"',n&&(s+=',realm="'+n+'"'),s+=',nonce="'+this._nonce+'"',s+=',cnonce="'+r+'"',s+=",nc="+i,s+=",qop="+o,s+=',digest-uri="'+e+'"';var u=a("md5").update(t.username).update(":").update(n).update(":").update(t.password).digest(),c=a("md5").update(u).update(":").update(this._nonce).update(":").update(r);t.authzid&&c.update(":").update(t.authzid),c=c.digest("hex");var l=a("md5").update("AUTHENTICATE:").update(e);("auth-int"===o||"auth-conf"===o)&&l.update(":00000000000000000000000000000000"),l=l.digest("hex");var p=a("md5").update(c).update(":").update(this._nonce).update(":").update(i).update(":").update(r).update(":").update(o).update(":").update(l).digest("hex");return s+=",response="+p,"utf-8"===this._charset&&(s+=",charset=utf-8"),t.authzid&&(s+='authzid="'+t.authzid+'"'),s},o.prototype.challenge=function(t){var e=r(t);return this._completed=!!e.rspauth,this._realm=e.realm,this._nonce=e.nonce,this._qop=(e.qop||"auth").split(","),this._stale=e.stale,this._maxbuf=parseInt(e.maxbuf)||65536,this._charset=e.charset,this._algo=e.algorithm,this._cipher=e.cipher,this._cipher&&this._cipher.split(","),this},t.exports=o},function(t,e,n){(function(e){"use strict";function r(t){c.call(this),this._hash=t,this.buffers=[]}function i(t){c.call(this),this._hash=t}var o=n(29),s=n(368),a=n(369),u=n(370),c=n(17).Transform;o(r,c),r.prototype._transform=function(t,e,n){this.buffers.push(t),n()},r.prototype._flush=function(t){this.push(this.digest()),t()},r.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this.buffers.push(t),this},r.prototype.digest=function(t){var n=e.concat(this.buffers),r=this._hash(n);return this.buffers=null,t?r.toString(t):r},o(i,c),i.prototype._transform=function(t,n,r){n&&(t=new e(t,n)),this._hash.update(t),r()},i.prototype._flush=function(t){this.push(this._hash.digest()),this._hash=null,t()},i.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},i.prototype.digest=function(t){var e=this._hash.digest();return t?e.toString(t):e},t.exports=function(t){return"md5"===t?new r(s):"rmd160"===t?new r(a):new i(u(t))}}).call(e,n(2).Buffer)},function(t,e,n){(function(t){"use strict";function n(e,n){if(e.length%o!==0){var r=e.length+(o-e.length%o);e=t.concat([e,s],r)}for(var i=[],a=n?e.readInt32BE:e.readInt32LE,u=0;u<e.length;u+=o)i.push(a.call(e,u));return i}function r(e,n,r){for(var i=new t(n),o=r?i.writeInt32BE:i.writeInt32LE,s=0;s<e.length;s++)o.call(i,e[s],4*s,!0);return i}function i(e,i,o,s){t.isBuffer(e)||(e=new t(e));var u=i(n(e,s),e.length*a);return r(u,o,s)}var o=4,s=new t(o);s.fill(0);var a=8;e.hash=i}).call(e,n(2).Buffer)},function(t,e,n){"use strict";function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,p=0;p<t.length;p+=16){var f=n,d=r,h=i,m=l;n=o(n,r,i,l,t[p+0],7,-680876936),l=o(l,n,r,i,t[p+1],12,-389564586),i=o(i,l,n,r,t[p+2],17,606105819),r=o(r,i,l,n,t[p+3],22,-1044525330),n=o(n,r,i,l,t[p+4],7,-176418897),l=o(l,n,r,i,t[p+5],12,1200080426),i=o(i,l,n,r,t[p+6],17,-1473231341),r=o(r,i,l,n,t[p+7],22,-45705983),n=o(n,r,i,l,t[p+8],7,1770035416),l=o(l,n,r,i,t[p+9],12,-1958414417),i=o(i,l,n,r,t[p+10],17,-42063),r=o(r,i,l,n,t[p+11],22,-1990404162),n=o(n,r,i,l,t[p+12],7,1804603682),l=o(l,n,r,i,t[p+13],12,-40341101),i=o(i,l,n,r,t[p+14],17,-1502002290),r=o(r,i,l,n,t[p+15],22,1236535329),n=s(n,r,i,l,t[p+1],5,-165796510),l=s(l,n,r,i,t[p+6],9,-1069501632),i=s(i,l,n,r,t[p+11],14,643717713),r=s(r,i,l,n,t[p+0],20,-373897302),n=s(n,r,i,l,t[p+5],5,-701558691),l=s(l,n,r,i,t[p+10],9,38016083),i=s(i,l,n,r,t[p+15],14,-660478335),r=s(r,i,l,n,t[p+4],20,-405537848),n=s(n,r,i,l,t[p+9],5,568446438),l=s(l,n,r,i,t[p+14],9,-1019803690),i=s(i,l,n,r,t[p+3],14,-187363961),r=s(r,i,l,n,t[p+8],20,1163531501),n=s(n,r,i,l,t[p+13],5,-1444681467),l=s(l,n,r,i,t[p+2],9,-51403784),i=s(i,l,n,r,t[p+7],14,1735328473),r=s(r,i,l,n,t[p+12],20,-1926607734),n=a(n,r,i,l,t[p+5],4,-378558),l=a(l,n,r,i,t[p+8],11,-2022574463),i=a(i,l,n,r,t[p+11],16,1839030562),r=a(r,i,l,n,t[p+14],23,-35309556),n=a(n,r,i,l,t[p+1],4,-1530992060),l=a(l,n,r,i,t[p+4],11,1272893353),i=a(i,l,n,r,t[p+7],16,-155497632),r=a(r,i,l,n,t[p+10],23,-1094730640),n=a(n,r,i,l,t[p+13],4,681279174),l=a(l,n,r,i,t[p+0],11,-358537222),i=a(i,l,n,r,t[p+3],16,-722521979),r=a(r,i,l,n,t[p+6],23,76029189),n=a(n,r,i,l,t[p+9],4,-640364487),l=a(l,n,r,i,t[p+12],11,-421815835),i=a(i,l,n,r,t[p+15],16,530742520),r=a(r,i,l,n,t[p+2],23,-995338651),n=u(n,r,i,l,t[p+0],6,-198630844),l=u(l,n,r,i,t[p+7],10,1126891415),i=u(i,l,n,r,t[p+14],15,-1416354905),r=u(r,i,l,n,t[p+5],21,-57434055),n=u(n,r,i,l,t[p+12],6,1700485571),l=u(l,n,r,i,t[p+3],10,-1894986606),i=u(i,l,n,r,t[p+10],15,-1051523),r=u(r,i,l,n,t[p+1],21,-2054922799),n=u(n,r,i,l,t[p+8],6,1873313359),l=u(l,n,r,i,t[p+15],10,-30611744),i=u(i,l,n,r,t[p+6],15,-1560198380),r=u(r,i,l,n,t[p+13],21,1309151649),n=u(n,r,i,l,t[p+4],6,-145523070),l=u(l,n,r,i,t[p+11],10,-1120210379),i=u(i,l,n,r,t[p+2],15,718787259),r=u(r,i,l,n,t[p+9],21,-343485551),n=c(n,f),r=c(r,d),i=c(i,h),l=c(l,m)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function u(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var p=n(367);t.exports=function(t){return p.hash(t,r,16)}},function(t,e,n){(function(e){function n(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e}function r(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e}function i(t,e,n){for(var r=0;16>r;r++){var i=n+r,p=e[i];e[i]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var y,_,b,E,x,w,S,C,N,O;w=y=t[0],S=_=t[1],C=b=t[2],N=E=t[3],O=x=t[4];for(var T,r=0;80>r;r+=1)T=y+e[n+f[r]]|0,T+=16>r?o(_,b,E)+g[0]:32>r?s(_,b,E)+g[1]:48>r?a(_,b,E)+g[2]:64>r?u(_,b,E)+g[3]:c(_,b,E)+g[4],T=0|T,T=l(T,h[r]),T=T+x|0,y=x,x=E,E=l(b,10),b=_,_=T,T=w+e[n+d[r]]|0,T+=16>r?c(S,C,N)+v[0]:32>r?u(S,C,N)+v[1]:48>r?a(S,C,N)+v[2]:64>r?s(S,C,N)+v[3]:o(S,C,N)+v[4],T=0|T,T=l(T,m[r]),T=T+O|0,w=O,O=N,N=l(C,10),C=S,S=T;T=t[1]+b+N|0,t[1]=t[2]+E+O|0,t[2]=t[3]+x+w|0,t[3]=t[4]+y+S|0,t[4]=t[0]+_+C|0,t[0]=T}function o(t,e,n){return t^e^n}function s(t,e,n){return t&e|~t&n}function a(t,e,n){return(t|~e)^n}function u(t,e,n){return t&n|e&~n}function c(t,e,n){return t^(e|~n)}function l(t,e){return t<<e|t>>>32-e}function p(t){var o=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var s=n(t),a=8*t.length,u=8*t.length;s[a>>>5]|=128<<24-a%32,s[(a+64>>>9<<4)+14]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8);for(var c=0;c<s.length;c+=16)i(o,s,c);for(var c=0;5>c;c++){var l=o[c];o[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var p=r(o);return new e(p)}/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];t.exports=p}).call(e,n(2).Buffer)},function(t,e,n){var e=t.exports=function(t){var n=e[t.toLowerCase()];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};e.sha=n(371),e.sha1=n(372),e.sha224=n(373),e.sha256=n(132),e.sha384=n(374),e.sha512=n(133)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}function i(t,e){return t<<e|t>>>32-e}var o=n(29),s=n(37),a=new Array(80);o(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){function e(){return o[p-3]^o[p-8]^o[p-14]^o[p-16]}function n(t,e){o[p]=t;var n=i(s,5)+e+l+t+r;l=c,c=u,u=i(a,30),a=s,s=n,p++}var r,o=this._w,s=this._a,a=this._b,u=this._c,c=this._d,l=this._e,p=0;for(r=1518500249;16>p;)n(t.readInt32BE(4*p),a&u|~a&c);for(;20>p;)n(e(),a&u|~a&c);for(r=1859775393;40>p;)n(e(),a^u^c);for(r=-1894007588;60>p;)n(e(),a&u|a&c|u&c);for(r=-899497514;80>p;)n(e(),a^u^c);this._a=s+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=new e(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}function i(t,e){return t<<e|t>>>32-e}var o=n(29),s=n(37),a=new Array(80);o(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){function e(){return i(o[p-3]^o[p-8]^o[p-14]^o[p-16],1)}function n(t,e){o[p]=t;var n=i(s,5)+e+l+t+r;l=c,c=u,u=i(a,30),a=s,s=n,p++}var r,o=this._w,s=this._a,a=this._b,u=this._c,c=this._d,l=this._e,p=0;for(r=1518500249;16>p;)n(t.readInt32BE(4*p),a&u|~a&c);for(;20>p;)n(e(),a&u|~a&c);for(r=1859775393;40>p;)n(e(),a^u^c);for(r=-1894007588;60>p;)n(e(),a&u|a&c|u&c);for(r=-899497514;80>p;)n(e(),a^u^c);this._a=s+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=new e(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}var i=n(29),o=n(132),s=n(37),a=new Array(64);i(r,o),r.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},r.prototype._hash=function(){var t=new e(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,128,112)}var i=n(29),o=n(133),s=n(37),a=new Array(160);i(r,o),r.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},r.prototype._hash=function(){function t(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new e(48);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),n},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e,n,r){"use strict";function i(t,e){var i=new n(t);return s.getRandomValues(i),"function"==typeof e?r.nextTick(function(){e(null,i)}):i}function o(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=e.crypto||e.msCrypto;t.exports=s&&s.getRandomValues?i:o}).call(e,function(){return this}(),n(2).Buffer,n(1))},function(t,e,n){"use strict";var r=n(47),i=n(150),o=n(96).createRegistry();o.use(n(377)),t.exports=function(t,e){"string"==typeof t&&(t={host:t});var n={ssl:!0,json:!0,xrd:!0};for(var s in t)n[s]=t[s];var a=n.ssl?"https://":"http://";r.parallel([function(t){i(a+n.host+"/.well-known/host-meta.json",function(e,n,r){if(e)return t(null);var i;try{i=JSON.parse(r)}catch(o){i=null}return t(i)})},function(t){i(a+n.host+"/.well-known/host-meta",function(e,n,r){if(e)return t(null);var i=o.parse(r);return t(i.toJSON())})}],function(t){t?e(null,t):e("no-host-meta")})}},function(t,e,n){"use strict";var r=n(96),i="http://docs.oasis-open.org/ns/xri/xrd-1.0";t.exports=function(t){var e={get:function(){for(var t={},e=r.find(this.xml,i,"Property"),n=0,o=e.length;o>n;n++){var s=e[n],a=r.getAttribute(s,"type");t[a]=s.textContent}return t}},n=t.define({name:"xrd",namespace:i,element:"XRD",fields:{subject:r.subText(i,"Subject"),expires:r.dateSub(i,"Expires"),aliases:r.multiSubText(i,"Alias"),properties:e}}),o=t.define({name:"_xrdlink",namespace:i,element:"Link",fields:{rel:r.attribute("rel"),href:r.attribute("href"),type:r.attribute("type"),template:r.attribute("template"),titles:r.subLangText(i,"Title","default"),properties:e}});return t.extend(n,o,"links"),n}},function(t,e,n){t.exports=function(){return["sha1","sha224","sha256","sha384","sha512","md5","rmd160"]}},function(t,e,n){(function(t){"use strict";function n(e,n){if(e.length%o!==0){var r=e.length+(o-e.length%o);e=t.concat([e,s],r)}for(var i=[],a=n?e.readInt32BE:e.readInt32LE,u=0;u<e.length;u+=o)i.push(a.call(e,u));return i}function r(e,n,r){for(var i=new t(n),o=r?i.writeInt32BE:i.writeInt32LE,s=0;s<e.length;s++)o.call(i,e[s],4*s,!0);return i}function i(e,i,o,s){t.isBuffer(e)||(e=new t(e));var u=i(n(e,s),e.length*a);return r(u,o,s)}var o=4,s=new t(o);s.fill(0);var a=8;e.hash=i}).call(e,n(2).Buffer)},function(t,e,n){"use strict";function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,p=0;p<t.length;p+=16){var f=n,d=r,h=i,m=l;n=o(n,r,i,l,t[p+0],7,-680876936),l=o(l,n,r,i,t[p+1],12,-389564586),i=o(i,l,n,r,t[p+2],17,606105819),r=o(r,i,l,n,t[p+3],22,-1044525330),n=o(n,r,i,l,t[p+4],7,-176418897),l=o(l,n,r,i,t[p+5],12,1200080426),i=o(i,l,n,r,t[p+6],17,-1473231341),r=o(r,i,l,n,t[p+7],22,-45705983),n=o(n,r,i,l,t[p+8],7,1770035416),l=o(l,n,r,i,t[p+9],12,-1958414417),i=o(i,l,n,r,t[p+10],17,-42063),r=o(r,i,l,n,t[p+11],22,-1990404162),n=o(n,r,i,l,t[p+12],7,1804603682),l=o(l,n,r,i,t[p+13],12,-40341101),i=o(i,l,n,r,t[p+14],17,-1502002290),r=o(r,i,l,n,t[p+15],22,1236535329),n=s(n,r,i,l,t[p+1],5,-165796510),l=s(l,n,r,i,t[p+6],9,-1069501632),i=s(i,l,n,r,t[p+11],14,643717713),r=s(r,i,l,n,t[p+0],20,-373897302),n=s(n,r,i,l,t[p+5],5,-701558691),l=s(l,n,r,i,t[p+10],9,38016083),i=s(i,l,n,r,t[p+15],14,-660478335),r=s(r,i,l,n,t[p+4],20,-405537848),n=s(n,r,i,l,t[p+9],5,568446438),l=s(l,n,r,i,t[p+14],9,-1019803690),i=s(i,l,n,r,t[p+3],14,-187363961),r=s(r,i,l,n,t[p+8],20,1163531501),n=s(n,r,i,l,t[p+13],5,-1444681467),l=s(l,n,r,i,t[p+2],9,-51403784),i=s(i,l,n,r,t[p+7],14,1735328473),r=s(r,i,l,n,t[p+12],20,-1926607734),n=a(n,r,i,l,t[p+5],4,-378558),l=a(l,n,r,i,t[p+8],11,-2022574463),i=a(i,l,n,r,t[p+11],16,1839030562),r=a(r,i,l,n,t[p+14],23,-35309556),n=a(n,r,i,l,t[p+1],4,-1530992060),l=a(l,n,r,i,t[p+4],11,1272893353),i=a(i,l,n,r,t[p+7],16,-155497632),r=a(r,i,l,n,t[p+10],23,-1094730640),n=a(n,r,i,l,t[p+13],4,681279174),l=a(l,n,r,i,t[p+0],11,-358537222),i=a(i,l,n,r,t[p+3],16,-722521979),r=a(r,i,l,n,t[p+6],23,76029189),n=a(n,r,i,l,t[p+9],4,-640364487),l=a(l,n,r,i,t[p+12],11,-421815835),i=a(i,l,n,r,t[p+15],16,530742520),r=a(r,i,l,n,t[p+2],23,-995338651),n=u(n,r,i,l,t[p+0],6,-198630844),l=u(l,n,r,i,t[p+7],10,1126891415),i=u(i,l,n,r,t[p+14],15,-1416354905),r=u(r,i,l,n,t[p+5],21,-57434055),n=u(n,r,i,l,t[p+12],6,1700485571),l=u(l,n,r,i,t[p+3],10,-1894986606),i=u(i,l,n,r,t[p+10],15,-1051523),r=u(r,i,l,n,t[p+1],21,-2054922799),n=u(n,r,i,l,t[p+8],6,1873313359),l=u(l,n,r,i,t[p+15],10,-30611744),i=u(i,l,n,r,t[p+6],15,-1560198380),r=u(r,i,l,n,t[p+13],21,1309151649),n=u(n,r,i,l,t[p+4],6,-145523070),l=u(l,n,r,i,t[p+11],10,-1120210379),i=u(i,l,n,r,t[p+2],15,718787259),r=u(r,i,l,n,t[p+9],21,-343485551),n=c(n,f),r=c(r,d),i=c(i,h),l=c(l,m)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function u(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var p=n(379);t.exports=function(t){return p.hash(t,r,16)}},function(t,e,n){(function(e){function n(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e}function r(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e}function i(t,e,n){for(var r=0;16>r;r++){var i=n+r,p=e[i];e[i]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var y,_,b,E,x,w,S,C,N,O;w=y=t[0],S=_=t[1],C=b=t[2],N=E=t[3],O=x=t[4];for(var T,r=0;80>r;r+=1)T=y+e[n+f[r]]|0,T+=16>r?o(_,b,E)+g[0]:32>r?s(_,b,E)+g[1]:48>r?a(_,b,E)+g[2]:64>r?u(_,b,E)+g[3]:c(_,b,E)+g[4],T=0|T,T=l(T,h[r]),T=T+x|0,y=x,x=E,E=l(b,10),b=_,_=T,T=w+e[n+d[r]]|0,T+=16>r?c(S,C,N)+v[0]:32>r?u(S,C,N)+v[1]:48>r?a(S,C,N)+v[2]:64>r?s(S,C,N)+v[3]:o(S,C,N)+v[4],T=0|T,T=l(T,m[r]),T=T+O|0,w=O,O=N,N=l(C,10),C=S,S=T;T=t[1]+b+N|0,t[1]=t[2]+E+O|0,t[2]=t[3]+x+w|0,t[3]=t[4]+y+S|0,t[4]=t[0]+_+C|0,t[0]=T}function o(t,e,n){return t^e^n}function s(t,e,n){return t&e|~t&n}function a(t,e,n){return(t|~e)^n}function u(t,e,n){return t&n|e&~n}function c(t,e,n){return t^(e|~n)}function l(t,e){return t<<e|t>>>32-e}function p(t){var o=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var s=n(t),a=8*t.length,u=8*t.length;s[a>>>5]|=128<<24-a%32,s[(a+64>>>9<<4)+14]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8);for(var c=0;c<s.length;c+=16)i(o,s,c);for(var c=0;5>c;c++){var l=o[c];o[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var p=r(o);return new e(p)}/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];t.exports=p}).call(e,n(2).Buffer)},function(t,e,n){var e=t.exports=function(t){var n=e[t.toLowerCase()];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};e.sha=n(383),e.sha1=n(384),e.sha224=n(385),e.sha256=n(135),e.sha384=n(386),e.sha512=n(136)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}function i(t,e){return t<<e|t>>>32-e}var o=n(30),s=n(38),a=new Array(80);o(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){function e(){return o[p-3]^o[p-8]^o[p-14]^o[p-16]}function n(t,e){o[p]=t;var n=i(s,5)+e+l+t+r;l=c,c=u,u=i(a,30),a=s,s=n,p++}var r,o=this._w,s=this._a,a=this._b,u=this._c,c=this._d,l=this._e,p=0;for(r=1518500249;16>p;)n(t.readInt32BE(4*p),a&u|~a&c);for(;20>p;)n(e(),a&u|~a&c);for(r=1859775393;40>p;)n(e(),a^u^c);for(r=-1894007588;60>p;)n(e(),a&u|a&c|u&c);for(r=-899497514;80>p;)n(e(),a^u^c);this._a=s+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=new e(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}function i(t,e){return t<<e|t>>>32-e}var o=n(30),s=n(38),a=new Array(80);o(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){function e(){return i(o[p-3]^o[p-8]^o[p-14]^o[p-16],1)}function n(t,e){o[p]=t;var n=i(s,5)+e+l+t+r;l=c,c=u,u=i(a,30),a=s,s=n,p++}var r,o=this._w,s=this._a,a=this._b,u=this._c,c=this._d,l=this._e,p=0;for(r=1518500249;16>p;)n(t.readInt32BE(4*p),a&u|~a&c);for(;20>p;)n(e(),a&u|~a&c);for(r=1859775393;40>p;)n(e(),a^u^c);for(r=-1894007588;60>p;)n(e(),a&u|a&c|u&c);for(r=-899497514;80>p;)n(e(),a^u^c);this._a=s+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=new e(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}var i=n(30),o=n(135),s=n(38),a=new Array(64);i(r,o),r.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},r.prototype._hash=function(){var t=new e(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,128,112)}var i=n(30),o=n(136),s=n(38),a=new Array(160);i(r,o),r.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},r.prototype._hash=function(){function t(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new e(48);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),n},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){"use strict";function r(t,n){s.call(this),"string"==typeof n&&(n=new e(n));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=n,n.length>r?n=i(t).update(n).digest():n.length<r&&(n=e.concat([n,a],r));for(var o=this._ipad=new e(r),u=this._opad=new e(r),c=0;r>c;c++)o[c]=54^n[c],u[c]=92^n[c];this._hash=i(t).update(o)}var i=n(134),o=n(388),s=n(17).Transform,a=new e(128);a.fill(0),o(r,s),r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype._transform=function(t,e,n){this._hash.update(t),n()},r.prototype._flush=function(t){this.push(this.digest()),t()},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)},t.exports=function(t,e){return new r(t,e)}}).call(e,n(2).Buffer)},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t){s.call(this),t=t||{},this.jid=t.jid,this.selfID=t.selfID||this.jid&&this.jid.full||this.jid||"",this.sessions={},this.peers={},this.prepareSession=t.prepareSession||function(t){return t.descriptionTypes.indexOf("rtp")>=0?new c(t):t.descriptionTypes.indexOf("filetransfer")>=0?new l(t):void 0},this.screenSharingSupport=a.screenSharing,this.capabilities=["urn:xmpp:jingle:1"],a.support&&(this.capabilities=["urn:xmpp:jingle:1","urn:xmpp:jingle:apps:rtp:1","urn:xmpp:jingle:apps:rtp:audio","urn:xmpp:jingle:apps:rtp:video","urn:xmpp:jingle:apps:rtp:rtcb-fb:0","urn:xmpp:jingle:apps:rtp:rtp-hdrext:0","urn:xmpp:jingle:apps:rtp:ssma:0","urn:xmpp:jingle:apps:dtls:0","urn:xmpp:jingle:apps:grouping:0","urn:xmpp:jingle:apps:file-transfer:3","urn:xmpp:jingle:transports:ice-udp:1","urn:xmpp:jingle:transports.dtls-sctp:1","urn:ietf:rfc:3264","urn:ietf:rfc:5576","urn:ietf:rfc:5888"]),this.config={debug:!1,peerConnectionConfig:{iceServers:t.iceServers||[{url:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]},media:{audio:!0,video:!0}};for(var e in t)this.config[e]=t[e];this.iceServers=this.config.peerConnectionConfig.iceServers}var i=n(6),o=n(390),s=n(15),a=n(48),u=n(95),c=n(410),l=n(391);i.inherits(r,s),r.prototype.addICEServer=function(t){"string"==typeof t&&(t={url:t}),this.iceServers.push(t)},r.prototype.addSession=function(t){var e=this,n=t.sid,r=t.peerID;return this.sessions[n]=t,this.peers[r]||(this.peers[r]=[]),this.peers[r].push(t),t.on("terminated",function(){var i=e.peers[r]||[];i.length&&i.splice(i.indexOf(t),1),delete e.sessions[n]}),t.on("*",function(n,r,i,o){if("send"===n){var s=r.jingle&&r.jingle.action;t.isInitiator&&"session-initiate"===s&&e.emit("outgoing",t)}!e.config.debug||"log:debug"!==n&&"log:error"!==n||console.log("Jingle:",r,i,o),0!==n.indexOf("change")&&e.emit(n,r,i,o)}),this.emit("createdSession",t),t},r.prototype.createMediaSession=function(t,e,n){var r=new c({sid:e,peer:t,initiator:!0,stream:n,parent:this,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints});return this.addSession(r),r},r.prototype.createFileTransferSession=function(t,e){var n=new l({sid:e,peer:t,initiator:!0,parent:this});return this.addSession(n),n},r.prototype.endPeerSessions=function(t,e,n){t=t.full||t;var r=this.peers[t]||[];delete this.peers[t],r.forEach(function(t){t.end(e||"gone",n)})},r.prototype.endAllSessions=function(t,e){var n=this;Object.keys(this.peers).forEach(function(r){n.endPeerSessions(r,t,e)})},r.prototype._createIncomingSession=function(t,e){var n;return this.prepareSession&&(n=this.prepareSession(t,e)),n||(n=new u(t)),this.addSession(n),n},r.prototype._sendError=function(t,e,n){n.type||(n.type="cancel"),this.emit("send",{to:t,id:e,type:"error",error:n})},r.prototype._log=function(t,e){this.emit("log:"+t,e)},r.prototype.process=function(t){var e=this,n=t.jingle?t.jingle.sid:null,r=this.sessions[n]||null,i=t.id,s=t.from.full||t.from;if("error"===t.type){var a=t.error&&"tie-break"===t.error.jingleCondition;return r&&r.pending&&a?r.end("alternative-session",!0):(r&&(r.pendingAction=!1),this.emit("error",t))}if("result"===t.type)return void(r&&(r.pendingAction=!1));var u=t.jingle.action,c=t.jingle.contents||[],l=c.map(function(t){return t.description?t.description.descType:void 0}),p=c.map(function(t){return t.transport?t.transport.transType:void 0});if("session-initiate"!==u){if(!r)return this._log("error","Unknown session",n),this._sendError(s,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if(r.peerID!==s||r.ended)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(s,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if("session-accept"===u&&!r.pending)return this._log("error","Tried to accept session twice",n),this._sendError(s,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if("session-terminate"!==u&&u===r.pendingAction&&(this._log("error","Tie break during pending request"),r.isInitiator))return this._sendError(s,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(r){if(r.peerID!==s)return this._log("error","Duplicate sid from new sender"),this._sendError(s,i,{condition:"service-unavailable"});if(!r.pending)return this._log("error","Someone is doing this wrong"),this._sendError(s,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if(this.selfID>r.peerID)return this._log("error","Tie break new session because of duplicate sids"),this._sendError(s,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(this.peers[s]&&this.peers[s].length)for(var f=0,d=this.peers[s].length;d>f;f++){var h=this.peers[s][f];if(h&&h.pending&&o(l,h.pendingDescriptionTypes).length&&h.sid>n)return this._log("info","Tie break"),this._sendError(s,i,{condition:"conflict",jingleCondition:"tie-break"})}if("session-initiate"===u){if(!c.length)return e._sendError(s,i,{condition:"bad-request"});r=this._createIncomingSession({sid:n,peer:t.from,peerID:s,initiator:!1,parent:this,descriptionTypes:l,transportTypes:p,iceServers:this.iceServers,constraints:this.peerConnectionConstraints},t)}r.process(u,t.jingle,function(n){n?(e._log("error","Could not process request",t,n),e._sendError(s,i,n)):(e.emit("send",{to:s,id:i,type:"result"}),"session-initiate"===u&&e.emit("incoming",r))})},t.exports=r},function(t,e,n){function r(t,e){for(var n=[],r=0;r<t.length;r++)i(e,t[r])>-1&&n.push(t[r]);return n}function i(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}t.exports=r,r.big=function(t,e){for(var n=[],r={},i=0;i<e.length;i++)r[e[i]]=!0;for(var i=0;i<t.length;i++)r[t[i]]&&n.push(t[i]);return n}},function(t,e,n){function r(t){s.call(this,t);var e=this;this.pc=new a({iceServers:t.iceServers||[],useJingle:!0},t.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),this.pc.on("addChannel",this.onChannelAdded.bind(this)),this.sender=new u.Sender,this.sender.on("progress",function(t,n){e._log("info","Send progress "+t+"/"+n)}),this.sender.on("sentFile",function(t){e._log("info","Sent file",t.name);var n=e.pc.localDescription.contents[0];delete n.transport,n.description={descType:"filetransfer",offer:{hash:{algo:t.algo,value:t.hash}}},e.send("description-info",{contents:[n]}),e.emit("sentFile",e,t)}),this.receiver=new u.Receiver,this.receiver.on("progress",function(t,n){e._log("info","Receive progress "+t+"/"+n)}),this.receiver.on("receivedFile",function(t){e.receivedFile=t,e.maybeReceivedFile()})}var i=n(6),o=n(94),s=n(95),a=n(409),u=n(392);i.inherits(r,s),r.prototype=o(r.prototype,{start:function(t){var e=this;this.state="pending",this.pc.isInitiator=!0;var n=this.pc.createDataChannel("filetransfer");n.onopen=function(){e.sender.send(t,n)};var r={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this.pc.offer(r,function(n,r){return n?(e._log("error","Could not create WebRTC offer",n),e.end("failed-application",!0)):(r.jingle.contents[0].description={descType:"filetransfer",offer:{date:t.lastModifiedDate,name:t.name,size:t.size,hash:{algo:"sha-1",value:""}}},void e.send("session-initiate",r.jingle))})},accept:function(){var t=this;this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(function(e,n){return e?(t._log("error","Could not create WebRTC answer",e),t.end("failed-application")):(n.jingle.contents[0].name="data",void t.send("session-accept",n.jingle))})},end:function(t,e){this.pc.close(),s.prototype.end.call(this,t,e)},maybeReceivedFile:function(){this.receiver.metadata.hash.value&&(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash?(this._log("info","File hash matches"),this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),this.end("success")):(this._log("error","File hash does not match"),this.end("media-error")))},onIceCandidate:function(t){this._log("info","Discovered new ICE candidate",t.jingle),t.jingle.contents[0].name="data",this.send("transport-info",t.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":this.connectionState="stable"===this.pc.signalingState?"interrupted":"disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onChannelAdded:function(t){this.receiver.receive(null,t)},onSessionInitiate:function(t,e){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1;var r=t.contents[0].description;this.receiver.metadata=r.offer.toJSON(),this.receiver.metadata.hash&&(this.receiver.config.hash=this.receiver.metadata.hash.algo),t.contents[0].description={descType:"datachannel"},this.pc.handleOffer({type:"offer",jingle:t},function(t){return t?(n._log("error","Could not create WebRTC answer"),e({condition:"general-error"})):void e()})},onSessionAccept:function(t,e){var n=this;this.state="active",t.contents[0].description={descType:"datachannel"},this.pc.handleAnswer({type:"answer",jingle:t},function(t){return t?(n._log("error","Could not process WebRTC answer"),e({condition:"general-error"})):(n.emit("accepted",n),void e())})},onSessionTerminate:function(t,e){this._log("info","Terminating session"),this.pc.close(),s.prototype.end.call(this,t.reason,!0),e()},onDescriptionInfo:function(t,e){var n=t.contents[0].description.offer.hash;this.receiver.metadata.hash=n,this.receiver.metadata.actualhash&&this.maybeReceivedFile(),e()},onTransportInfo:function(t,e){this.pc.processIce(t,function(){e()})}}),t.exports=r},function(t,e,n){function r(t){s.call(this);var e=this,n=t||{};this.config={chunksize:16384,pacing:10,hash:"sha-1"};var r;for(r in n)this.config[r]=n[r];this.file=null,this.channel=null,this.hash=null,this.processingQueue=o.queue(function(t,n){if("chunk"==t.type){var r=new window.FileReader;r.onload=function(){return function(r){e.channel.send(r.target.result),e.hash&&e.hash.update(new Uint8Array(r.target.result)),e.emit("progress",t.start,t.file.size),window.setTimeout(n,e.config.pacing)}}(t.file);var i=t.file.slice(t.start,t.start+t.size);r.readAsArrayBuffer(i)}else"complete"==t.type&&(e.emit("progress",e.file.size,e.file.size),e.emit("sentFile",e.hash?{hash:e.hash.digest("hex"),algo:e.config.hash}:null),n())})}function i(t){s.call(this);var e=t||{};this.config={hash:"sha-1"};var n;for(n in e)this.config[n]=e[n];this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null,this.hash=null}var o=n(47),s=n(15),a=n(6),u=n(93);a.inherits(r,s),r.prototype.send=function(t,e){this.file=t,this.config.hash&&(this.hash=u.createHash(this.config.hash)),this.channel=e;for(var n=0;n<this.file.size;n+=this.config.chunksize)this.processingQueue.push({type:"chunk",file:t,start:n,size:this.config.chunksize});this.processingQueue.push({type:"complete"})},a.inherits(i,s),i.prototype.receive=function(t,e){var n=this;t&&(this.metadata=t),this.config.hash&&(this.hash=u.createHash(this.config.hash)),this.channel=e,e.binaryType="arraybuffer",this.channel.onmessage=function(t){var e=t.data.byteLength;n.received+=e,n.receiveBuffer.push(t.data),n.hash&&n.hash.update(new Uint8Array(t.data)),n.emit("progress",n.received,n.metadata.size),n.received==n.metadata.size?(n.hash&&(n.metadata.actualhash=n.hash.digest("hex")),n.emit("receivedFile",new window.Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}},t.exports={},t.exports.support=window&&window.File&&window.FileReader&&window.Blob,t.exports.Sender=r,t.exports.Receiver=i},function(t,e,n){function r(t,e){return o(t,i(e))}var i=n(394),o=n(395);t.exports=r},function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}t.exports=r},function(t,e,n){function r(t,e){var n=[];return a(t,function(t,r,i){n.push(e(t,r,i))}),n}function i(t,e,n){var i=u(t)?o:r;return e=s(e,n,3),i(t,e)}{var o=n(396),s=n(397),a=n(401),u=n(9);n(62)}t.exports=i},function(t,e,n){function r(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=r},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?"undefined"==typeof e?t:h(t,e,n):null==t?f:"object"==r?o(t):"undefined"==typeof e?a(t+""):s(t+"",e)}function i(t,e,n,r,i){for(var o=-1,s=e.length,a=!i;++o<s;)if(a&&r[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<s;){var u=e[o],c=t[u],l=n[o];if(a&&r[o])var p="undefined"!=typeof c||u in t;else p=i?i(c,l,u):void 0,"undefined"==typeof p&&(p=d(l,c,i,!0));if(!p)return!1}return!0}function o(t){var e=m(t),n=e.length;if(!n)return p(!0);if(1==n){var r=e[0],o=t[r];if(u(o))return function(t){return null!=t&&t[r]===o&&("undefined"!=typeof o||r in c(t))}}for(var s=Array(n),a=Array(n);n--;)o=t[e[n]],s[n]=o,a[n]=u(o);return function(t){return null!=t&&i(c(t),e,s,a)}}function s(t,e){return u(e)?function(n){return null!=n&&n[t]===e&&("undefined"!=typeof e||t in c(n))}:function(n){return null!=n&&d(e,n[t],null,!0)}}function a(t){return function(e){return null==e?void 0:e[t]}}function u(t){return t===t&&(0===t?1/t>0:!l(t))}function c(t){return l(t)?t:Object(t)}function l(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function p(t){return function(){return t}}function f(t){return t}var d=n(398),h=n(400),m=n(62);t.exports=r},function(t,e,n){function r(t,e,n,o,s,a){if(t===e)return 0!==t||1/t==1/e;var u=typeof t,c=typeof e;return"function"!=u&&"object"!=u&&"function"!=c&&"object"!=c||null==t||null==e?t!==t&&e!==e:i(t,e,r,n,o,s,a)}function i(t,e,n,r,i,l,d){var h=u(t),m=u(e),v=f,_=f;h||(v=w.call(t),v==p?v=y:v!=y&&(h=c(t))),m||(_=w.call(e),_==p?_=y:_!=y&&(m=c(e)));var b=v==y||i&&v==g,E=_==y||i&&_==g,S=v==_;if(S&&!h&&!b)return s(t,e,v);if(i){if(!(S||b&&E))return!1}else{var C=b&&x.call(t,"__wrapped__"),N=E&&x.call(e,"__wrapped__");if(C||N)return n(C?t.value():t,N?e.value():e,r,i,l,d);if(!S)return!1}l||(l=[]),d||(d=[]);for(var O=l.length;O--;)if(l[O]==t)return d[O]==e;l.push(t),d.push(e);var T=(h?o:a)(t,e,n,r,i,l,d);return l.pop(),d.pop(),T}function o(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++a<u;){var p=t[a],f=e[a];if(l=void 0,r&&(l=i?r(f,p,a):r(p,f,a)),"undefined"==typeof l)if(i)for(var d=c;d--&&(f=e[d],!(l=p&&p===f||n(p,f,r,i,o,s))););else l=p&&p===f||n(p,f,r,i,o,s)}return!!l}function s(t,e,n){switch(n){case d:case h:return+t==+e;case m:return t.name==e.name&&t.message==e.message;case v:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case _:case b:return t==e+""}return!1}function a(t,e,n,r,i,o,s){var a=l(t),u=a.length,c=l(e),p=c.length;if(u!=p&&!i)return!1;for(var f=i,d=-1;++d<u;){var h=a[d],m=i?h in e:x.call(e,h);if(m){var g=t[h],v=e[h];m=void 0,r&&(m=i?r(v,g,h):r(g,v,h)),"undefined"==typeof m&&(m=g&&g===v||n(g,v,r,i,o,s))}if(!m)return!1;f||(f="constructor"==h)}if(!f){var y=t.constructor,_=e.constructor;if(y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}var u=n(9),c=n(399),l=n(62),p="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Function]",v="[object Number]",y="[object Object]",_="[object RegExp]",b="[object String]",E=Object.prototype,x=E.hasOwnProperty,w=E.toString;t.exports=r},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&A>=t}function o(t){return r(t)&&i(t.length)&&!!D[I.call(t)]}var s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",f="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",D={};D[b]=D[E]=D[x]=D[w]=D[S]=D[C]=D[N]=D[O]=D[T]=!0,D[s]=D[a]=D[_]=D[u]=D[c]=D[l]=D[p]=D[f]=D[d]=D[h]=D[m]=D[g]=D[v]=D[y]=!1;var j=Object.prototype,I=j.toString,A=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=r},function(t,e,n){function r(t,e){return f(t,e,c)}function i(t,e){return function(n,r){var i=n?n.length:0;if(!s(i))return t(n,r);for(var o=e?i:-1,u=a(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function o(t){return function(e,n,r){for(var i=a(e),o=r(e),s=o.length,u=t?s:-1;t?u--:++u<s;){var c=o[u];if(n(i[c],c,i)===!1)break}return e}}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function a(t){return u(t)?t:Object(t)}function u(t){var e=typeof t;return"function"==e||!!t&&"object"==e}var c=n(62),l=Math.pow(2,53)-1,p=i(r),f=o();t.exports=p},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=r(t)?t.length:void 0;return i(e)&&u.call(t)==s}var s="[object Arguments]",a=Object.prototype,u=a.toString,c=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return null==t?!1:d.call(t)==a?h.test(f.call(t)):i(t)&&u.test(t)}function s(t){return t=r(t),t&&l.test(t)?t.replace(c,"\\$&"):t}var a="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,l=RegExp(c.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,h=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){var r=n(407),i=n(406);e.toIncomingSDPOffer=function(t){return r.toSessionSDP(t,{role:"responder",direction:"incoming"})},e.toOutgoingSDPOffer=function(t){return r.toSessionSDP(t,{role:"initiator",direction:"outgoing"})},e.toIncomingSDPAnswer=function(t){return r.toSessionSDP(t,{role:"initiator",direction:"incoming"})},e.toOutgoingSDPAnswer=function(t){return r.toSessionSDP(t,{role:"responder",direction:"outgoing"})},e.toIncomingMediaSDPOffer=function(t){return r.toMediaSDP(t,{role:"responder",direction:"incoming"})},e.toOutgoingMediaSDPOffer=function(t){return r.toMediaSDP(t,{role:"initiator",direction:"outgoing"})},e.toIncomingMediaSDPAnswer=function(t){return r.toMediaSDP(t,{role:"initiator",direction:"incoming"})},e.toOutgoingMediaSDPAnswer=function(t){return r.toMediaSDP(t,{role:"responder",direction:"outgoing"})},e.toCandidateSDP=r.toCandidateSDP,e.toMediaSDP=r.toMediaSDP,e.toSessionSDP=r.toSessionSDP,e.toIncomingJSONOffer=function(t,e){return i.toSessionJSON(t,{role:"responder",direction:"incoming",creators:e})},e.toOutgoingJSONOffer=function(t,e){return i.toSessionJSON(t,{role:"initiator",direction:"outgoing",creators:e})},e.toIncomingJSONAnswer=function(t,e){return i.toSessionJSON(t,{role:"initiator",direction:"incoming",creators:e})},e.toOutgoingJSONAnswer=function(t,e){return i.toSessionJSON(t,{role:"responder",direction:"outgoing",creators:e})},e.toIncomingMediaJSONOffer=function(t,e){return i.toMediaJSON(t,{role:"responder",direction:"incoming",creator:e})},e.toOutgoingMediaJSONOffer=function(t,e){return i.toMediaJSON(t,{role:"initiator",direction:"outgoing",creator:e})},e.toIncomingMediaJSONAnswer=function(t,e){return i.toMediaJSON(t,{role:"initiator",direction:"incoming",creator:e})},e.toOutgoingMediaJSONAnswer=function(t,e){return i.toMediaJSON(t,{role:"responder",direction:"outgoing",creator:e})},e.toCandidateJSON=i.toCandidateJSON,e.toMediaJSON=i.toMediaJSON,e.toSessionJSON=i.toSessionJSON},function(t,e,n){e.lines=function(t){return t.split("\r\n").filter(function(t){return t.length>0})},e.findLine=function(t,e,n){for(var r=t.length,i=0;i<e.length;i++)if(e[i].substr(0,r)===t)return e[i];if(!n)return!1;for(var o=0;o<n.length;o++)if(n[o].substr(0,r)===t)return n[o];return!1},e.findLines=function(t,e,n){for(var r=[],i=t.length,o=0;o<e.length;o++)e[o].substr(0,i)===t&&r.push(e[o]);if(r.length||!n)return r;for(var s=0;s<n.length;s++)n[s].substr(0,i)===t&&r.push(n[s]);return r},e.mline=function(t){for(var e=t.substr(2).split(" "),n={media:e[0],port:e[1],proto:e[2],formats:[]},r=3;r<e.length;r++)e[r]&&n.formats.push(e[r]);return n},e.rtpmap=function(t){var e=t.substr(9).split(" "),n={id:e.shift()};return e=e[0].split("/"),n.name=e[0],n.clockrate=e[1],n.channels=3==e.length?e[2]:"1",n},e.sctpmap=function(t){var e=t.substr(10).split(" "),n={number:e.shift(),protocol:e.shift(),streams:e.shift()};return n},e.fmtp=function(t){for(var e,n,r,i=t.substr(t.indexOf(" ")+1).split(";"),o=[],s=0;s<i.length;s++)e=i[s].split("="),n=e[0].trim(),r=e[1],n&&r?o.push({key:n,value:r}):n&&o.push({key:"",value:n});return o},e.crypto=function(t){var e=t.substr(9).split(" "),n={tag:e[0],cipherSuite:e[1],keyParams:e[2],sessionParams:e.slice(3).join(" ")};return n},e.fingerprint=function(t){var e=t.substr(14).split(" ");return{hash:e[0],value:e[1]}},e.extmap=function(t){var e=t.substr(9).split(" "),n={},r=e.shift(),i=r.indexOf("/");return i>=0?(n.id=r.substr(0,i),n.senders=r.substr(i+1)):(n.id=r,n.senders="sendrecv"),n.uri=e.shift()||"",n},e.rtcpfb=function(t){var e=t.substr(10).split(" "),n={};return n.id=e.shift(),n.type=e.shift(),"trr-int"===n.type?n.value=e.shift():n.subtype=e.shift()||"",n.parameters=e,n},e.candidate=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={foundation:e[0],component:e[1],protocol:e[2].toLowerCase(),priority:e[3],ip:e[4],port:e[5],type:e[7],generation:"0"},r=8;r<e.length;r+=2)"raddr"===e[r]?n.relAddr=e[r+1]:"rport"===e[r]?n.relPort=e[r+1]:"generation"===e[r]?n.generation=e[r+1]:"tcptype"===e[r]&&(n.tcpType=e[r+1]);return n.network="1",n},e.sourceGroups=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].substr(13).split(" ");e.push({semantics:r.shift(),sources:r})}return e},e.sources=function(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r].substr(7).split(" "),o=i.shift();if(!n[o]){var s={ssrc:o,parameters:[]};e.push(s),n[o]=s}i=i.join(" ").split(":");var a=i.shift(),u=i.join(":")||null;n[o].parameters.push({key:a,value:u})}return e},e.groups=function(t){for(var e,n=[],r=0;r<t.length;r++)e=t[r].substr(8).split(" "),n.push({semantics:e.shift(),contents:e});return n},e.bandwidth=function(t){var e=t.substr(2).split(":"),n={};return n.type=e.shift(),n.bandwidth=e.shift(),n}},function(t,e,n){var r=n(137),i=n(405),o=Math.random();e._setIdCounter=function(t){o=t},e.toSessionJSON=function(t,n){var r,o=n.creators||[],s=n.role||"initiator",a=n.direction||"outgoing",u=t.split("\r\nm=");for(r=1;r<u.length;r++)u[r]="m="+u[r],r!==u.length-1&&(u[r]+="\r\n");var c=u.shift()+"\r\n",l=i.lines(c),p={},f=[];for(r=0;r<u.length;r++)f.push(e.toMediaJSON(u[r],c,{role:s,direction:a,creator:o[r]||"initiator"}));p.contents=f;var d=i.findLines("a=group:",l);return d.length&&(p.groups=i.groups(d)),p},e.toMediaJSON=function(t,n,o){var s=o.creator||"initiator",a=o.role||"initiator",u=o.direction||"outgoing",c=i.lines(t),l=i.lines(n),p=i.mline(c[0]),f={creator:s,name:p.media,description:{descType:"rtp",media:p.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transType:"iceUdp",candidates:[],fingerprints:[]}};"application"==p.media&&(f.description={descType:"datachannel"},f.transport.sctp=[]);var d=f.description,h=f.transport,m=i.findLine("a=mid:",c);if(m&&(f.name=m.substr(6)),i.findLine("a=sendrecv",c,l)?f.senders="both":i.findLine("a=sendonly",c,l)?f.senders=r[a][u].sendonly:i.findLine("a=recvonly",c,l)?f.senders=r[a][u].recvonly:i.findLine("a=inactive",c,l)&&(f.senders="none"),"rtp"==d.descType){var g=i.findLine("b=",c);g&&(d.bandwidth=i.bandwidth(g));var v=i.findLine("a=ssrc:",c);v&&(d.ssrc=v.substr(7).split(" ")[0]);var y=i.findLines("a=rtpmap:",c);y.forEach(function(t){var e=i.rtpmap(t);e.parameters=[],e.feedback=[];var n=i.findLines("a=fmtp:"+e.id,c);n.forEach(function(t){e.parameters=i.fmtp(t)});var r=i.findLines("a=rtcp-fb:"+e.id,c);r.forEach(function(t){e.feedback.push(i.rtcpfb(t))}),d.payloads.push(e)});var _=i.findLines("a=crypto:",c,l);_.forEach(function(t){d.encryption.push(i.crypto(t))}),i.findLine("a=rtcp-mux",c)&&(d.mux=!0);var b=i.findLines("a=rtcp-fb:*",c);b.forEach(function(t){d.feedback.push(i.rtcpfb(t))});var E=i.findLines("a=extmap:",c);E.forEach(function(t){var e=i.extmap(t);e.senders=r[a][u][e.senders],d.headerExtensions.push(e)});var x=i.findLines("a=ssrc-group:",c);d.sourceGroups=i.sourceGroups(x||[]);var w=i.findLines("a=ssrc:",c);d.sources=i.sources(w||[]),i.findLine("a=x-google-flag:conference",c,l)&&(d.googConferenceFlag=!0)}var S=i.findLines("a=fingerprint:",c,l),C=i.findLine("a=setup:",c,l);S.forEach(function(t){var e=i.fingerprint(t);C&&(e.setup=C.substr(8)),h.fingerprints.push(e)});var N=i.findLine("a=ice-ufrag:",c,l),O=i.findLine("a=ice-pwd:",c,l);if(N&&O){h.ufrag=N.substr(12),h.pwd=O.substr(10),h.candidates=[];var T=i.findLines("a=candidate:",c,l);T.forEach(function(t){h.candidates.push(e.toCandidateJSON(t))})}if("datachannel"==d.descType){var D=i.findLines("a=sctpmap:",c);D.forEach(function(t){var e=i.sctpmap(t);h.sctp.push(e)})}return f},e.toCandidateJSON=function(t){var e=i.candidate(t.split("\r\n")[0]);return e.id=(o++).toString(36).substr(0,12),e}},function(t,e,n){var r=n(137);e.toSessionSDP=function(t,n){var r=(n.role||"initiator",n.direction||"outgoing",n.sid||t.sid||Date.now()),i=n.time||Date.now(),o=["v=0","o=- "+r+" "+i+" IN IP4 0.0.0.0","s=-","t=0 0"],s=t.groups||[];s.forEach(function(t){o.push("a=group:"+t.semantics+" "+t.contents.join(" "))});var a=t.contents||[];return a.forEach(function(t){o.push(e.toMediaSDP(t,n))}),o.join("\r\n")+"\r\n"},e.toMediaSDP=function(t,n){var i=[],o=n.role||"initiator",s=n.direction||"outgoing",a=t.description,u=t.transport,c=a.payloads||[],l=u&&u.fingerprints||[],p=[];

if("datachannel"==a.descType?(p.push("application"),p.push("1"),p.push("DTLS/SCTP"),u.sctp&&u.sctp.forEach(function(t){p.push(t.number)})):(p.push(a.media),p.push("1"),p.push(a.encryption&&a.encryption.length>0||l.length>0?"RTP/SAVPF":"RTP/AVPF"),c.forEach(function(t){p.push(t.id)})),i.push("m="+p.join(" ")),i.push("c=IN IP4 0.0.0.0"),a.bandwidth&&a.bandwidth.type&&a.bandwidth.bandwidth&&i.push("b="+a.bandwidth.type+":"+a.bandwidth.bandwidth),"rtp"==a.descType&&i.push("a=rtcp:1 IN IP4 0.0.0.0"),u){u.ufrag&&i.push("a=ice-ufrag:"+u.ufrag),u.pwd&&i.push("a=ice-pwd:"+u.pwd);var f=!1;l.forEach(function(t){i.push("a=fingerprint:"+t.hash+" "+t.value),t.setup&&!f&&i.push("a=setup:"+t.setup)}),u.sctp&&u.sctp.forEach(function(t){i.push("a=sctpmap:"+t.number+" "+t.protocol+" "+t.streams)})}"rtp"==a.descType&&i.push("a="+(r[o][s][t.senders]||"sendrecv")),i.push("a=mid:"+t.name),a.mux&&i.push("a=rtcp-mux");var d=a.encryption||[];d.forEach(function(t){i.push("a=crypto:"+t.tag+" "+t.cipherSuite+" "+t.keyParams+(t.sessionParams?" "+t.sessionParams:""))}),a.googConferenceFlag&&i.push("a=x-google-flag:conference"),c.forEach(function(t){var e="a=rtpmap:"+t.id+" "+t.name+"/"+t.clockrate;if(t.channels&&"1"!=t.channels&&(e+="/"+t.channels),i.push(e),t.parameters&&t.parameters.length){var n=["a=fmtp:"+t.id],r=[];t.parameters.forEach(function(t){r.push((t.key?t.key+"=":"")+t.value)}),n.push(r.join(";")),i.push(n.join(" "))}t.feedback&&t.feedback.forEach(function(e){i.push("trr-int"===e.type?"a=rtcp-fb:"+t.id+" trr-int "+(e.value?e.value:"0"):"a=rtcp-fb:"+t.id+" "+e.type+(e.subtype?" "+e.subtype:""))})}),a.feedback&&a.feedback.forEach(function(t){i.push("trr-int"===t.type?"a=rtcp-fb:* trr-int "+(t.value?t.value:"0"):"a=rtcp-fb:* "+t.type+(t.subtype?" "+t.subtype:""))});var h=a.headerExtensions||[];h.forEach(function(t){i.push("a=extmap:"+t.id+(t.senders?"/"+r[o][s][t.senders]:"")+" "+t.uri)});var m=a.sourceGroups||[];m.forEach(function(t){i.push("a=ssrc-group:"+t.semantics+" "+t.sources.join(" "))});var g=a.sources||[];g.forEach(function(t){for(var e=0;e<t.parameters.length;e++){var n=t.parameters[e];i.push("a=ssrc:"+(t.ssrc||a.ssrc)+" "+n.key+(n.value?":"+n.value:""))}});var v=u.candidates||[];return v.forEach(function(t){i.push(e.toCandidateSDP(t))}),i.join("\r\n")},e.toCandidateSDP=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),("srflx"===n||"prflx"===n||"relay"===n)&&t.relAddr&&t.relPort&&(e.push("raddr"),e.push(t.relAddr),e.push("rport"),e.push(t.relPort)),t.tcpType&&"TCP"==t.protocol.toUpperCase()&&(e.push("tcptype"),e.push(t.tcpType)),e.push("generation"),e.push(t.generation||"0"),"a=candidate:"+e.join(" ")}},function(t,e,n){function r(t){return{type:t.type,sdp:t.sdp}}function i(t){var e={label:t.id};return t.getAudioTracks().length&&(e.audio=t.getAudioTracks().map(function(t){return t.id})),t.getVideoTracks().length&&(e.video=t.getVideoTracks().map(function(t){return t.id})),e}function o(t,e){var n=this;u.call(this),this.peerconnection=new a.PeerConnection(t,e),this.trace=function(t,e){n.emit("PeerConnectionTrace",{time:new Date,type:t,value:e||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(t){n.trace("onicecandidate",t.candidate),null!==n.onicecandidate&&n.onicecandidate(t)},this.onaddstream=null,this.peerconnection.onaddstream=function(t){n.trace("onaddstream",i(t.stream)),null!==n.onaddstream&&n.onaddstream(t)},this.onremovestream=null,this.peerconnection.onremovestream=function(t){n.trace("onremovestream",i(t.stream)),null!==n.onremovestream&&n.onremovestream(t)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(t){n.trace("onsignalingstatechange",n.signalingState),null!==n.onsignalingstatechange&&n.onsignalingstatechange(t)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(t){n.trace("oniceconnectionstatechange",n.iceConnectionState),null!==n.oniceconnectionstatechange&&n.oniceconnectionstatechange(t)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(t){n.trace("onnegotiationneeded"),null!==n.onnegotiationneeded&&n.onnegotiationneeded(t)},n.ondatachannel=null,this.peerconnection.ondatachannel=function(t){n.trace("ondatachannel",t),null!==n.ondatachannel&&n.ondatachannel(t)},this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection),this.getRemoteStreams=this.peerconnection.getRemoteStreams.bind(this.peerconnection)}var s=n(6),a=n(48),u=n(15);s.inherits(o,u),Object.defineProperty(o.prototype,"signalingState",{get:function(){return this.peerconnection.signalingState}}),Object.defineProperty(o.prototype,"iceConnectionState",{get:function(){return this.peerconnection.iceConnectionState}}),Object.defineProperty(o.prototype,"localDescription",{get:function(){return this.peerconnection.localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{get:function(){return this.peerconnection.remoteDescription}}),o.prototype.addStream=function(t){this.trace("addStream",i(t)),this.peerconnection.addStream(t)},o.prototype.removeStream=function(t){this.trace("removeStream",i(t)),this.peerconnection.removeStream(t)},o.prototype.createDataChannel=function(t,e){return this.trace("createDataChannel",t,e),this.peerconnection.createDataChannel(t,e)},o.prototype.setLocalDescription=function(t,e,n){var i=this;this.trace("setLocalDescription",r(t)),this.peerconnection.setLocalDescription(t,function(){i.trace("setLocalDescriptionOnSuccess"),e()},function(t){i.trace("setLocalDescriptionOnFailure",t),n(t)})},o.prototype.setRemoteDescription=function(t,e,n){var i=this;this.trace("setRemoteDescription",r(t)),this.peerconnection.setRemoteDescription(t,function(){i.trace("setRemoteDescriptionOnSuccess"),e()},function(t){i.trace("setRemoteDescriptionOnFailure",t),n(t)})},o.prototype.close=function(){this.trace("stop"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),"closed"!=this.peerconnection.signalingState&&this.peerconnection.close()},o.prototype.createOffer=function(t,e,n){var i=this;this.trace("createOffer",n),this.peerconnection.createOffer(function(e){i.trace("createOfferOnSuccess",r(e)),t(e)},function(t){i.trace("createOfferOnFailure",t),e(t)},n)},o.prototype.createAnswer=function(t,e,n){var i=this;this.trace("createAnswer",n),this.peerconnection.createAnswer(function(e){i.trace("createAnswerOnSuccess",r(e)),t(e)},function(t){i.trace("createAnswerOnFailure",t),e(t)},n)},o.prototype.addIceCandidate=function(t,e,n){var r=this;this.trace("addIceCandidate",t),this.peerconnection.addIceCandidate(t,function(){e&&e()},function(t){r.trace("addIceCandidateOnFailure",t),n&&n(t)})},o.prototype.getStats=function(t,e){navigator.mozGetUserMedia?this.peerconnection.getStats(null,t,e):this.peerconnection.getStats(t)},t.exports=o},function(t,e,n){function r(t,e){var n,r=this;c.call(this),t=t||{},t.iceServers=t.iceServers||[],this.enableChromeNativeSimulcast=!1,e&&e.optional&&"webkit"===a.prefix&&null===navigator.appVersion.match(/Chromium\//)&&e.optional.forEach(function(t,e){t.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,e&&e.optional&&e.optional.forEach(function(t,e){t.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,e&&e.optional&&e.optional.forEach(function(t,e){t.andyetRestrictBandwidth&&(r.restrictBandwidth=t.andyetRestrictBandwidth)}),this.batchIceCandidates=0,e&&e.optional&&e.optional.forEach(function(t,e){t.andyetBatchIce&&(r.batchIceCandidates=t.andyetBatchIce)}),this.batchedIceCandidates=[],this.assumeSetLocalSuccess=!1,e&&e.optional&&e.optional.forEach(function(t,e){t.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=t.andyetAssumeSetLocalSuccess)}),"moz"===a.prefix&&e&&e.optional&&(this.wtFirefox=0,e.optional.forEach(function(t,e){t.andyetFirefoxMakesMeSad&&(r.wtFirefox=t.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))})),this.pc=new l(t,e),this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc),this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc),this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=this.pc.removeStream.bind(this.pc),this.pc.on("*",function(){r.emit.apply(r,arguments)}),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,ice:{},sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1};for(n in t)this.config[n]=t[n];this.config.debug&&this.on("*",function(e,n){var r=t.logger||console;r.log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[]}var i=n(6),o=n(25),s=n(393),a=n(48),u=n(404),c=n(15),l=n(408);i.inherits(r,c),Object.defineProperty(r.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(r.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),r.prototype._role=function(){return this.isInitiator?"initiator":"responder"},r.prototype.addStream=function(t){this.localStream=t,this.pc.addStream(t)},r.prototype._checkLocalCandidate=function(t){var e=u.toCandidateJSON(t);"srflx"==e.type?this.hadLocalStunCandidate=!0:"relay"==e.type&&(this.hadLocalRelayCandidate=!0),-1!=e.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},r.prototype._checkRemoteCandidate=function(t){var e=u.toCandidateJSON(t);"srflx"==e.type?this.hadRemoteStunCandidate=!0:"relay"==e.type&&(this.hadRemoteRelayCandidate=!0),-1!=e.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},r.prototype.processIce=function(t,e){e=e||function(){};var n=this;if("closed"===this.pc.signalingState)return e();if(t.contents||t.jingle&&t.jingle.contents){var r=s(this.remoteDescription.contents,"name"),i=t.contents||t.jingle.contents;i.forEach(function(t){var e=t.transport||{},i=e.candidates||[],o=r.indexOf(t.name),s=t.name;i.forEach(function(t){var e=u.toCandidateSDP(t)+"\r\n";n.pc.addIceCandidate(new a.IceCandidate({candidate:e,sdpMLineIndex:o,sdpMid:s}),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(e)})})}else{if(t.candidate&&0!==t.candidate.candidate.indexOf("a=")&&(t.candidate.candidate="a="+t.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(t.candidate),e();n.pc.addIceCandidate(new a.IceCandidate(t.candidate),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(t.candidate.candidate)}e()},r.prototype.offer=function(t,e){var n=this,r=2===arguments.length,i=r?t:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};return e=r?e:t,e=e||function(){},"closed"===this.pc.signalingState?e("Already closed"):void this.pc.createOffer(function(t){var r={type:"offer",sdp:t.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),e(null,r)),n.pc.setLocalDescription(t,function(){var i;n.config.useJingle&&(i=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}),i.sid=n.config.sid,n.localDescription=i,o(i.contents,function(t){var e=t.transport||{};e.ufrag&&(n.config.ice[t.name]={ufrag:e.ufrag,pwd:e.pwd})}),r.jingle=i),r.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkLocalCandidate(t)}),n.assumeSetLocalSuccess||(n.emit("offer",r),e(null,r))},function(t){n.emit("error",t),e(t)})},function(t){n.emit("error",t),e(t)},i)},r.prototype.handleOffer=function(t,e){e=e||function(){};var n=this;if(t.type="offer",t.jingle){if(this.enableChromeNativeSimulcast&&t.jingle.contents.forEach(function(t){"video"===t.name&&(t.description.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&t.jingle.contents.forEach(function(t){if("video"===t.name){var e=t.description.sources||[];(0===e.length||"3735928559"!==e[0].ssrc)&&(e.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),t.description.sources=e)}}),n.restrictBandwidth>0&&t.jingle.contents.length>=2&&"video"===t.jingle.contents[1].name){var r=t.jingle.contents[1],i=r.description&&r.description.bandwidth;i||(t.jingle.contents[1].description.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=t.jingle}t.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkRemoteCandidate(t)}),n.pc.setRemoteDescription(new a.SessionDescription(t),function(){e()},e)},r.prototype.answerAudioOnly=function(t){var e={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(e,t)},r.prototype.answerBroadcastOnly=function(t){var e={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(e,t)},r.prototype.answer=function(t,e){var n=2===arguments.length,r=n?e:t,i=n?t:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(i,r)},r.prototype.handleAnswer=function(t,e){e=e||function(){};var n=this;t.jingle&&(t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=t.jingle),t.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkRemoteCandidate(t)}),n.pc.setRemoteDescription(new a.SessionDescription(t),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(t){n.pc.addIceCandidate(new a.IceCandidate(t),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(t.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),e(null)},e)},r.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},r.prototype._answer=function(t,e){e=e||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");return"closed"===this.pc.signalingState?e("Already closed"):void n.pc.createAnswer(function(t){var r=[];if(n.enableChromeNativeSimulcast&&(t.jingle=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}),t.jingle.contents.length>=2&&"video"===t.jingle.contents[1].name)){var i=t.jingle.contents[1].description.sourceGroups||[],o=!1;if(i.forEach(function(t){"SIM"==t.semantics&&(o=!0)}),!o&&t.jingle.contents[1].description.sources.length){var s=JSON.parse(JSON.stringify(t.jingle.contents[1].description.sources[0]));s.ssrc=""+Math.floor(4294967295*Math.random()),t.jingle.contents[1].description.sources.push(s),r.push(t.jingle.contents[1].description.sources[0].ssrc),r.push(s.ssrc),i.push({semantics:"SIM",sources:r});var a=JSON.parse(JSON.stringify(s));a.ssrc=""+Math.floor(4294967295*Math.random()),t.jingle.contents[1].description.sources.push(a),i.push({semantics:"FID",sources:[s.ssrc,a.ssrc]}),t.jingle.contents[1].description.sourceGroups=i,t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var c={type:"answer",sdp:t.sdp};n.assumeSetLocalSuccess&&(n.emit("answer",c),e(null,c)),n.pc.setLocalDescription(t,function(){if(n.config.useJingle){var r=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,c.jingle=r}if(n.enableChromeNativeSimulcast){c.jingle||(c.jingle=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}));{c.jingle.contents[1].description.sourceGroups||[]}c.jingle.contents[1].description.sources.forEach(function(t,e){t.parameters=t.parameters.map(function(t){return"msid"===t.key&&(t.value+="-"+Math.floor(e/2)),t})}),c.sdp=u.toSessionSDP(c.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})}c.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkLocalCandidate(t)}),n.assumeSetLocalSuccess||(n.emit("answer",c),e(null,c))},function(t){n.emit("error",t),e(t)})},function(t){n.emit("error",t),e(t)},t)},r.prototype._onIce=function(t){var e=this;if(t.candidate){var n=t.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var i=u.toCandidateJSON(n.candidate);if(e.config.useJingle){if(n.sdpMid||(n.sdpMid=e.localDescription.contents[n.sdpMLineIndex].name),!e.config.ice[n.sdpMid]){var s=u.toSessionJSON(e.pc.localDescription.sdp,{role:e._role(),direction:"outgoing"});o(s.contents,function(t){var n=t.transport||{};n.ufrag&&(e.config.ice[t.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(r.jingle={contents:[{name:n.sdpMid,creator:e._role(),transport:{transType:"iceUdp",ufrag:e.config.ice[n.sdpMid].ufrag,pwd:e.config.ice[n.sdpMid].pwd,candidates:[i]}}]},e.batchIceCandidates>0)return 0===e.batchedIceCandidates.length&&window.setTimeout(function(){var t={};e.batchedIceCandidates.forEach(function(e){e=e.contents[0],t[e.name]||(t[e.name]=e),t[e.name].transport.candidates.push(e.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(t).forEach(function(e){n.jingle.contents.push(t[e])}),e.batchedIceCandidates=[],e.emit("ice",n)},e.batchIceCandidates),void e.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},r.prototype._onDataChannel=function(t){var e=t.channel;this._remoteDataChannels.push(e),this.emit("addChannel",e)},r.prototype.createDataChannel=function(t,e){var n=this.pc.createDataChannel(t,e);return this._localDataChannels.push(n),n},r.prototype.getStats=function(t){"moz"===a.prefix?this.pc.getStats(function(e){var n=[];for(var r in e)"object"==typeof e[r]&&n.push(e[r]);t(null,n)},t):this.pc.getStats(function(e){var n=[];e.result().forEach(function(t){var e={};t.names().forEach(function(n){e[n]=t.stat(n)}),e.id=t.id,e.type=t.type,e.timestamp=t.timestamp,n.push(e)}),t(null,n)})},t.exports=r},function(t,e,n){function r(t,e){delete t.transport,delete t.description.payloads,t.description.sources&&(t.description.sources=t.description.sources.filter(function(t){return e.id===t.parameters[1].value.split(" ")[0]}))}function i(t){var e=t.description.sources||[];e.forEach(function(t){t.parameters=t.parameters.filter(function(t){return!("mslabel"===t.key||"label"===t.key)})})}function o(t){u.call(this,t),this.pc=new c({iceServers:t.iceServers||[],useJingle:!0},t.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),this.pc.on("addStream",this.onAddStream.bind(this)),this.pc.on("removeStream",this.onRemoveStream.bind(this)),t.stream&&this.addStream(t.stream),this._ringing=!1}var s=n(6),a=n(94),u=n(95),c=n(427);s.inherits(o,u),Object.defineProperties(o.prototype,{ringing:{get:function(){return this._ringing},set:function(t){t!==this._ringing&&(this._ringing=t,this.emit("change:ringing",t))}},streams:{get:function(){return this.pc.getRemoteStreams()}}}),o.prototype=a(o.prototype,{start:function(t,e){var n=this;this.state="pending",e=e||function(){},this.pc.isInitiator=!0,this.pc.offer(t,function(r,o){return r?(n._log("error","Could not create WebRTC offer",r),n.end("failed-application",!0)):(t&&t.mandatory&&o.jingle.contents.forEach(function(e){var n=e.description.media;e.description&&"rtp"===e.description.descType&&(t.mandatory.OfferToReceiveAudio||"audio"!==n||(e.senders="initiator"),t.mandatory.OfferToReceiveVideo||"video"!==n||(e.senders="initiator"))}),o.jingle.contents.forEach(i),n.send("session-initiate",o.jingle),void e())})},accept:function(t){var e=this;t=t||function(){},this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(function(n,r){return n?(e._log("error","Could not create WebRTC answer",n),e.end("failed-application")):(r.jingle.contents.forEach(i),e.send("session-accept",r.jingle),void t())})},end:function(t,e){var n=this;this.pc.close(),this.streams.forEach(function(t){n.onRemoveStream({stream:t})}),u.prototype.end.call(this,t,e)},ring:function(){this._log("info","Ringing on incoming session"),this.ringing=!0,this.send("session-info",{ringing:!0})},mute:function(t,e){this._log("info","Muting",e),this.send("session-info",{mute:{creator:t,name:e}})},unmute:function(t,e){this._log("info","Unmuting",e),this.send("session-info",{unmute:{creator:t,name:e}})},hold:function(){this._log("info","Placing on hold"),this.send("session-info",{hold:!0})},resume:function(){this._log("info","Resuming from hold"),this.send("session-info",{active:!0})},addStream:function(t,e,n){var i=this;n=n||function(){},this.pc.addStream(t),e&&this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(e){return e?(i._log("error","Could not create offer for adding new stream"),n(e)):void i.pc.answer(function(e,o){return e?(i._log("error","Could not create answer for adding new stream"),n(e)):(o.jingle.contents.forEach(function(e){r(e,t)}),i.send("source-add",o.jingle),void n())})})},addStream2:function(t,e){this.addStream(t,!0,e)},removeStream:function(t,e,n){var i=this;if(n=n||function(){},!e)return void this.pc.removeStream(t);var o=this.pc.localDescription;o.contents.forEach(function(e){r(e,t)}),this.send("source-remove",o),this.pc.removeStream(t),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(t){return t?(i._log("error","Could not process offer for removing stream"),n(t)):void i.pc.answer(function(t){return t?(i._log("error","Could not process answer for removing stream"),n(t)):void n()})})},removeStream2:function(t,e){this.removeStream(t,!0,e)},switchStream:function(t,e,n){var r=this;n=n||function(){};var i=this.pc.localDescription;i.contents.forEach(function(t){delete t.transport,delete t.description.payloads}),this.pc.removeStream(t),this.send("source-remove",i);var o=t.getAudioTracks();o.length&&e.addTrack(o[0]),this.pc.addStream(e),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(t){return t?(r._log("error","Could not process offer for switching streams"),n(t)):void r.pc.answer(function(t,e){return t?(r._log("error","Could not process answer for switching streams"),n(t)):(e.jingle.contents.forEach(function(t){delete t.transport,delete t.description.payloads}),r.send("source-add",e.jingle),void n())})})},onIceCandidate:function(t){this._log("info","Discovered new ICE candidate",t.jingle),this.send("transport-info",t.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":this.connectionState="stable"===this.pc.signalingState?"interrupted":"disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onAddStream:function(t){this._log("info","Stream added"),this.emit("peerStreamAdded",this,t.stream)},onRemoveStream:function(t){this._log("info","Stream removed"),this.emit("peerStreamRemoved",this,t.stream)},onSessionInitiate:function(t,e){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1,this.pc.handleOffer({type:"offer",jingle:t},function(t){return t?(n._log("error","Could not create WebRTC answer"),e({condition:"general-error"})):void e()})},onSessionAccept:function(t,e){var n=this;this.state="active",this.pc.handleAnswer({type:"answer",jingle:t},function(t){return t?(n._log("error","Could not process WebRTC answer"),e({condition:"general-error"})):(n.emit("accepted",n),void e())})},onSessionTerminate:function(t,e){var n=this;this._log("info","Terminating session"),this.pc.close(),this.streams.forEach(function(t){n.onRemoveStream({stream:t})}),u.prototype.end.call(this,t.reason,!0),e()},onSessionInfo:function(t,e){return t.ringing?(this._log("info","Outgoing session is ringing"),this.ringing=!0,this.emit("ringing",this),e()):t.hold?(this._log("info","On hold"),this.emit("hold",this),e()):t.active?(this._log("info","Resuming from hold"),this.emit("resumed",this),e()):t.mute?(this._log("info","Muting",t.mute),this.emit("mute",this,t.mute),e()):t.unmute?(this._log("info","Unmuting",t.unmute),this.emit("unmute",this,t.unmute),e()):void e()},onTransportInfo:function(t,e){this.pc.processIce(t,function(){e()})},onSourceAdd:function(t,e){var n=this;this._log("info","Adding new stream source");var r=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(e,n){var i=e.description,o=i.sources||[],s=i.sourceGroups||[];t.contents.forEach(function(t){if(e.name===t.name){var i=t.description,a=i.sources||[];o=o.concat(a),r.contents[n].description.sources=JSON.parse(JSON.stringify(o));var u=i.sourceGroups||[];s=s.concat(u),r.contents[n].description.sourceGroups=JSON.parse(JSON.stringify(s))}})}),this.pc.handleOffer({type:"offer",jingle:r},function(t){return t?(n._log("error","Error adding new stream source"),e({condition:"general-error"})):void n.pc.answer(function(t){return t?(n._log("error","Error adding new stream source"),e({condition:"general-error"})):void e()})})},onSourceRemove:function(t,e){var n=this;this._log("info","Removing stream source");var r=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(e,n){var i=e.description,o=i.sources||[],s=i.sourceGroups||[];t.contents.forEach(function(t){if(e.name===t.name){var i,a,u,c,l=t.description,p=l.sources||[],f=l.sourceGroups||[];for(a=0;a<p.length;a++){for(i=-1,u=0;u<o.length;u++)if(p[a].ssrc===o[u].ssrc){i=u;break}i>-1&&(o.splice(i,1),r.contents[n].description.sources=JSON.parse(JSON.stringify(o)))}for(a=0;a<f.length;a++){for(i=-1,u=0;a<s.length;u++)if(f[a].semantics===s[u].semantics&&f[a].sources.length===s[u].sources.length){var d=!0;for(c=0;c<f[a].sources.length;c++)if(f[a].sources[c]!==s[u].sources[c]){d=!1;break}if(d){i=u;break}}i>-1&&(s.splice(i,1),r.contents[n].description.sourceGroups=JSON.parse(JSON.stringify(s)))}}})}),this.pc.handleOffer({type:"offer",jingle:r},function(t){return t?(n._log("error","Error removing stream source"),e({condition:"general-error"})):void n.pc.answer(function(t){return t?(n._log("error","Error removing stream source"),e({condition:"general-error"})):void e()})})}}),t.exports=o},function(t,e,n){function r(t,e){return o(t,i(e))}var i=n(412),o=n(413);t.exports=r},function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}t.exports=r},function(t,e,n){function r(t,e){var n=[];return a(t,function(t,r,i){n.push(e(t,r,i))}),n}function i(t,e,n){var i=u(t)?o:r;return e=s(e,n,3),i(t,e)}{var o=n(414),s=n(415),a=n(419),u=n(9);n(63)}t.exports=i},function(t,e,n){function r(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=r},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?"undefined"==typeof e?t:h(t,e,n):null==t?f:"object"==r?o(t):"undefined"==typeof e?a(t+""):s(t+"",e)}function i(t,e,n,r,i){for(var o=-1,s=e.length,a=!i;++o<s;)if(a&&r[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<s;){var u=e[o],c=t[u],l=n[o];if(a&&r[o])var p="undefined"!=typeof c||u in t;else p=i?i(c,l,u):void 0,"undefined"==typeof p&&(p=d(l,c,i,!0));if(!p)return!1}return!0}function o(t){var e=m(t),n=e.length;if(!n)return p(!0);if(1==n){var r=e[0],o=t[r];if(u(o))return function(t){return null!=t&&t[r]===o&&("undefined"!=typeof o||r in c(t))}}for(var s=Array(n),a=Array(n);n--;)o=t[e[n]],s[n]=o,a[n]=u(o);return function(t){return null!=t&&i(c(t),e,s,a)}}function s(t,e){return u(e)?function(n){return null!=n&&n[t]===e&&("undefined"!=typeof e||t in c(n))}:function(n){return null!=n&&d(e,n[t],null,!0)}}function a(t){return function(e){return null==e?void 0:e[t]}}function u(t){return t===t&&(0===t?1/t>0:!l(t))}function c(t){return l(t)?t:Object(t)}function l(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function p(t){return function(){return t}}function f(t){return t}var d=n(416),h=n(418),m=n(63);t.exports=r},function(t,e,n){function r(t,e,n,o,s,a){if(t===e)return 0!==t||1/t==1/e;var u=typeof t,c=typeof e;return"function"!=u&&"object"!=u&&"function"!=c&&"object"!=c||null==t||null==e?t!==t&&e!==e:i(t,e,r,n,o,s,a)}function i(t,e,n,r,i,l,d){var h=u(t),m=u(e),v=f,_=f;h||(v=w.call(t),v==p?v=y:v!=y&&(h=c(t))),m||(_=w.call(e),_==p?_=y:_!=y&&(m=c(e)));var b=v==y||i&&v==g,E=_==y||i&&_==g,S=v==_;if(S&&!h&&!b)return s(t,e,v);if(i){if(!(S||b&&E))return!1}else{var C=b&&x.call(t,"__wrapped__"),N=E&&x.call(e,"__wrapped__");if(C||N)return n(C?t.value():t,N?e.value():e,r,i,l,d);if(!S)return!1}l||(l=[]),d||(d=[]);for(var O=l.length;O--;)if(l[O]==t)return d[O]==e;l.push(t),d.push(e);var T=(h?o:a)(t,e,n,r,i,l,d);return l.pop(),d.pop(),T}function o(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++a<u;){var p=t[a],f=e[a];if(l=void 0,r&&(l=i?r(f,p,a):r(p,f,a)),"undefined"==typeof l)if(i)for(var d=c;d--&&(f=e[d],!(l=p&&p===f||n(p,f,r,i,o,s))););else l=p&&p===f||n(p,f,r,i,o,s)}return!!l}function s(t,e,n){switch(n){case d:case h:return+t==+e;case m:return t.name==e.name&&t.message==e.message;case v:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case _:case b:return t==e+""}return!1}function a(t,e,n,r,i,o,s){var a=l(t),u=a.length,c=l(e),p=c.length;if(u!=p&&!i)return!1;for(var f=i,d=-1;++d<u;){var h=a[d],m=i?h in e:x.call(e,h);if(m){var g=t[h],v=e[h];m=void 0,r&&(m=i?r(v,g,h):r(g,v,h)),"undefined"==typeof m&&(m=g&&g===v||n(g,v,r,i,o,s))}if(!m)return!1;f||(f="constructor"==h)}if(!f){var y=t.constructor,_=e.constructor;if(y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}var u=n(9),c=n(417),l=n(63),p="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Function]",v="[object Number]",y="[object Object]",_="[object RegExp]",b="[object String]",E=Object.prototype,x=E.hasOwnProperty,w=E.toString;t.exports=r},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&A>=t}function o(t){return r(t)&&i(t.length)&&!!D[I.call(t)]}var s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",f="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",D={};D[b]=D[E]=D[x]=D[w]=D[S]=D[C]=D[N]=D[O]=D[T]=!0,D[s]=D[a]=D[_]=D[u]=D[c]=D[l]=D[p]=D[f]=D[d]=D[h]=D[m]=D[g]=D[v]=D[y]=!1;var j=Object.prototype,I=j.toString,A=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=r},function(t,e,n){function r(t,e){return f(t,e,c)}function i(t,e){return function(n,r){var i=n?n.length:0;if(!s(i))return t(n,r);for(var o=e?i:-1,u=a(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function o(t){return function(e,n,r){for(var i=a(e),o=r(e),s=o.length,u=t?s:-1;t?u--:++u<s;){
var c=o[u];if(n(i[c],c,i)===!1)break}return e}}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function a(t){return u(t)?t:Object(t)}function u(t){var e=typeof t;return"function"==e||!!t&&"object"==e}var c=n(63),l=Math.pow(2,53)-1,p=i(r),f=o();t.exports=p},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=r(t)?t.length:void 0;return i(e)&&u.call(t)==s}var s="[object Arguments]",a=Object.prototype,u=a.toString,c=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return null==t?!1:d.call(t)==a?h.test(f.call(t)):i(t)&&u.test(t)}function s(t){return t=r(t),t&&l.test(t)?t.replace(c,"\\$&"):t}var a="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,l=RegExp(c.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,h=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){var r=n(425),i=n(424);e.toIncomingSDPOffer=function(t){return r.toSessionSDP(t,{role:"responder",direction:"incoming"})},e.toOutgoingSDPOffer=function(t){return r.toSessionSDP(t,{role:"initiator",direction:"outgoing"})},e.toIncomingSDPAnswer=function(t){return r.toSessionSDP(t,{role:"initiator",direction:"incoming"})},e.toOutgoingSDPAnswer=function(t){return r.toSessionSDP(t,{role:"responder",direction:"outgoing"})},e.toIncomingMediaSDPOffer=function(t){return r.toMediaSDP(t,{role:"responder",direction:"incoming"})},e.toOutgoingMediaSDPOffer=function(t){return r.toMediaSDP(t,{role:"initiator",direction:"outgoing"})},e.toIncomingMediaSDPAnswer=function(t){return r.toMediaSDP(t,{role:"initiator",direction:"incoming"})},e.toOutgoingMediaSDPAnswer=function(t){return r.toMediaSDP(t,{role:"responder",direction:"outgoing"})},e.toCandidateSDP=r.toCandidateSDP,e.toMediaSDP=r.toMediaSDP,e.toSessionSDP=r.toSessionSDP,e.toIncomingJSONOffer=function(t,e){return i.toSessionJSON(t,{role:"responder",direction:"incoming",creators:e})},e.toOutgoingJSONOffer=function(t,e){return i.toSessionJSON(t,{role:"initiator",direction:"outgoing",creators:e})},e.toIncomingJSONAnswer=function(t,e){return i.toSessionJSON(t,{role:"initiator",direction:"incoming",creators:e})},e.toOutgoingJSONAnswer=function(t,e){return i.toSessionJSON(t,{role:"responder",direction:"outgoing",creators:e})},e.toIncomingMediaJSONOffer=function(t,e){return i.toMediaJSON(t,{role:"responder",direction:"incoming",creator:e})},e.toOutgoingMediaJSONOffer=function(t,e){return i.toMediaJSON(t,{role:"initiator",direction:"outgoing",creator:e})},e.toIncomingMediaJSONAnswer=function(t,e){return i.toMediaJSON(t,{role:"initiator",direction:"incoming",creator:e})},e.toOutgoingMediaJSONAnswer=function(t,e){return i.toMediaJSON(t,{role:"responder",direction:"outgoing",creator:e})},e.toCandidateJSON=i.toCandidateJSON,e.toMediaJSON=i.toMediaJSON,e.toSessionJSON=i.toSessionJSON},function(t,e,n){e.lines=function(t){return t.split("\r\n").filter(function(t){return t.length>0})},e.findLine=function(t,e,n){for(var r=t.length,i=0;i<e.length;i++)if(e[i].substr(0,r)===t)return e[i];if(!n)return!1;for(var o=0;o<n.length;o++)if(n[o].substr(0,r)===t)return n[o];return!1},e.findLines=function(t,e,n){for(var r=[],i=t.length,o=0;o<e.length;o++)e[o].substr(0,i)===t&&r.push(e[o]);if(r.length||!n)return r;for(var s=0;s<n.length;s++)n[s].substr(0,i)===t&&r.push(n[s]);return r},e.mline=function(t){for(var e=t.substr(2).split(" "),n={media:e[0],port:e[1],proto:e[2],formats:[]},r=3;r<e.length;r++)e[r]&&n.formats.push(e[r]);return n},e.rtpmap=function(t){var e=t.substr(9).split(" "),n={id:e.shift()};return e=e[0].split("/"),n.name=e[0],n.clockrate=e[1],n.channels=3==e.length?e[2]:"1",n},e.sctpmap=function(t){var e=t.substr(10).split(" "),n={number:e.shift(),protocol:e.shift(),streams:e.shift()};return n},e.fmtp=function(t){for(var e,n,r,i=t.substr(t.indexOf(" ")+1).split(";"),o=[],s=0;s<i.length;s++)e=i[s].split("="),n=e[0].trim(),r=e[1],n&&r?o.push({key:n,value:r}):n&&o.push({key:"",value:n});return o},e.crypto=function(t){var e=t.substr(9).split(" "),n={tag:e[0],cipherSuite:e[1],keyParams:e[2],sessionParams:e.slice(3).join(" ")};return n},e.fingerprint=function(t){var e=t.substr(14).split(" ");return{hash:e[0],value:e[1]}},e.extmap=function(t){var e=t.substr(9).split(" "),n={},r=e.shift(),i=r.indexOf("/");return i>=0?(n.id=r.substr(0,i),n.senders=r.substr(i+1)):(n.id=r,n.senders="sendrecv"),n.uri=e.shift()||"",n},e.rtcpfb=function(t){var e=t.substr(10).split(" "),n={};return n.id=e.shift(),n.type=e.shift(),"trr-int"===n.type?n.value=e.shift():n.subtype=e.shift()||"",n.parameters=e,n},e.candidate=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={foundation:e[0],component:e[1],protocol:e[2].toLowerCase(),priority:e[3],ip:e[4],port:e[5],type:e[7],generation:"0"},r=8;r<e.length;r+=2)"raddr"===e[r]?n.relAddr=e[r+1]:"rport"===e[r]?n.relPort=e[r+1]:"generation"===e[r]?n.generation=e[r+1]:"tcptype"===e[r]&&(n.tcpType=e[r+1]);return n.network="1",n},e.sourceGroups=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].substr(13).split(" ");e.push({semantics:r.shift(),sources:r})}return e},e.sources=function(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r].substr(7).split(" "),o=i.shift();if(!n[o]){var s={ssrc:o,parameters:[]};e.push(s),n[o]=s}i=i.join(" ").split(":");var a=i.shift(),u=i.join(":")||null;n[o].parameters.push({key:a,value:u})}return e},e.groups=function(t){for(var e,n=[],r=0;r<t.length;r++)e=t[r].substr(8).split(" "),n.push({semantics:e.shift(),contents:e});return n},e.bandwidth=function(t){var e=t.substr(2).split(":"),n={};return n.type=e.shift(),n.bandwidth=e.shift(),n}},function(t,e,n){var r=n(138),i=n(423),o=Math.random();e._setIdCounter=function(t){o=t},e.toSessionJSON=function(t,n){var r,o=n.creators||[],s=n.role||"initiator",a=n.direction||"outgoing",u=t.split("\r\nm=");for(r=1;r<u.length;r++)u[r]="m="+u[r],r!==u.length-1&&(u[r]+="\r\n");var c=u.shift()+"\r\n",l=i.lines(c),p={},f=[];for(r=0;r<u.length;r++)f.push(e.toMediaJSON(u[r],c,{role:s,direction:a,creator:o[r]||"initiator"}));p.contents=f;var d=i.findLines("a=group:",l);return d.length&&(p.groups=i.groups(d)),p},e.toMediaJSON=function(t,n,o){var s=o.creator||"initiator",a=o.role||"initiator",u=o.direction||"outgoing",c=i.lines(t),l=i.lines(n),p=i.mline(c[0]),f={creator:s,name:p.media,description:{descType:"rtp",media:p.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transType:"iceUdp",candidates:[],fingerprints:[]}};"application"==p.media&&(f.description={descType:"datachannel"},f.transport.sctp=[]);var d=f.description,h=f.transport,m=i.findLine("a=mid:",c);if(m&&(f.name=m.substr(6)),i.findLine("a=sendrecv",c,l)?f.senders="both":i.findLine("a=sendonly",c,l)?f.senders=r[a][u].sendonly:i.findLine("a=recvonly",c,l)?f.senders=r[a][u].recvonly:i.findLine("a=inactive",c,l)&&(f.senders="none"),"rtp"==d.descType){var g=i.findLine("b=",c);g&&(d.bandwidth=i.bandwidth(g));var v=i.findLine("a=ssrc:",c);v&&(d.ssrc=v.substr(7).split(" ")[0]);var y=i.findLines("a=rtpmap:",c);y.forEach(function(t){var e=i.rtpmap(t);e.parameters=[],e.feedback=[];var n=i.findLines("a=fmtp:"+e.id,c);n.forEach(function(t){e.parameters=i.fmtp(t)});var r=i.findLines("a=rtcp-fb:"+e.id,c);r.forEach(function(t){e.feedback.push(i.rtcpfb(t))}),d.payloads.push(e)});var _=i.findLines("a=crypto:",c,l);_.forEach(function(t){d.encryption.push(i.crypto(t))}),i.findLine("a=rtcp-mux",c)&&(d.mux=!0);var b=i.findLines("a=rtcp-fb:*",c);b.forEach(function(t){d.feedback.push(i.rtcpfb(t))});var E=i.findLines("a=extmap:",c);E.forEach(function(t){var e=i.extmap(t);e.senders=r[a][u][e.senders],d.headerExtensions.push(e)});var x=i.findLines("a=ssrc-group:",c);d.sourceGroups=i.sourceGroups(x||[]);var w=i.findLines("a=ssrc:",c);d.sources=i.sources(w||[]),i.findLine("a=x-google-flag:conference",c,l)&&(d.googConferenceFlag=!0)}var S=i.findLines("a=fingerprint:",c,l),C=i.findLine("a=setup:",c,l);S.forEach(function(t){var e=i.fingerprint(t);C&&(e.setup=C.substr(8)),h.fingerprints.push(e)});var N=i.findLine("a=ice-ufrag:",c,l),O=i.findLine("a=ice-pwd:",c,l);if(N&&O){h.ufrag=N.substr(12),h.pwd=O.substr(10),h.candidates=[];var T=i.findLines("a=candidate:",c,l);T.forEach(function(t){h.candidates.push(e.toCandidateJSON(t))})}if("datachannel"==d.descType){var D=i.findLines("a=sctpmap:",c);D.forEach(function(t){var e=i.sctpmap(t);h.sctp.push(e)})}return f},e.toCandidateJSON=function(t){var e=i.candidate(t.split("\r\n")[0]);return e.id=(o++).toString(36).substr(0,12),e}},function(t,e,n){var r=n(138);e.toSessionSDP=function(t,n){var r=(n.role||"initiator",n.direction||"outgoing",n.sid||t.sid||Date.now()),i=n.time||Date.now(),o=["v=0","o=- "+r+" "+i+" IN IP4 0.0.0.0","s=-","t=0 0"],s=t.groups||[];s.forEach(function(t){o.push("a=group:"+t.semantics+" "+t.contents.join(" "))});var a=t.contents||[];return a.forEach(function(t){o.push(e.toMediaSDP(t,n))}),o.join("\r\n")+"\r\n"},e.toMediaSDP=function(t,n){var i=[],o=n.role||"initiator",s=n.direction||"outgoing",a=t.description,u=t.transport,c=a.payloads||[],l=u&&u.fingerprints||[],p=[];if("datachannel"==a.descType?(p.push("application"),p.push("1"),p.push("DTLS/SCTP"),u.sctp&&u.sctp.forEach(function(t){p.push(t.number)})):(p.push(a.media),p.push("1"),p.push(a.encryption&&a.encryption.length>0||l.length>0?"RTP/SAVPF":"RTP/AVPF"),c.forEach(function(t){p.push(t.id)})),i.push("m="+p.join(" ")),i.push("c=IN IP4 0.0.0.0"),a.bandwidth&&a.bandwidth.type&&a.bandwidth.bandwidth&&i.push("b="+a.bandwidth.type+":"+a.bandwidth.bandwidth),"rtp"==a.descType&&i.push("a=rtcp:1 IN IP4 0.0.0.0"),u){u.ufrag&&i.push("a=ice-ufrag:"+u.ufrag),u.pwd&&i.push("a=ice-pwd:"+u.pwd);var f=!1;l.forEach(function(t){i.push("a=fingerprint:"+t.hash+" "+t.value),t.setup&&!f&&i.push("a=setup:"+t.setup)}),u.sctp&&u.sctp.forEach(function(t){i.push("a=sctpmap:"+t.number+" "+t.protocol+" "+t.streams)})}"rtp"==a.descType&&i.push("a="+(r[o][s][t.senders]||"sendrecv")),i.push("a=mid:"+t.name),a.mux&&i.push("a=rtcp-mux");var d=a.encryption||[];d.forEach(function(t){i.push("a=crypto:"+t.tag+" "+t.cipherSuite+" "+t.keyParams+(t.sessionParams?" "+t.sessionParams:""))}),a.googConferenceFlag&&i.push("a=x-google-flag:conference"),c.forEach(function(t){var e="a=rtpmap:"+t.id+" "+t.name+"/"+t.clockrate;if(t.channels&&"1"!=t.channels&&(e+="/"+t.channels),i.push(e),t.parameters&&t.parameters.length){var n=["a=fmtp:"+t.id],r=[];t.parameters.forEach(function(t){r.push((t.key?t.key+"=":"")+t.value)}),n.push(r.join(";")),i.push(n.join(" "))}t.feedback&&t.feedback.forEach(function(e){i.push("trr-int"===e.type?"a=rtcp-fb:"+t.id+" trr-int "+(e.value?e.value:"0"):"a=rtcp-fb:"+t.id+" "+e.type+(e.subtype?" "+e.subtype:""))})}),a.feedback&&a.feedback.forEach(function(t){i.push("trr-int"===t.type?"a=rtcp-fb:* trr-int "+(t.value?t.value:"0"):"a=rtcp-fb:* "+t.type+(t.subtype?" "+t.subtype:""))});var h=a.headerExtensions||[];h.forEach(function(t){i.push("a=extmap:"+t.id+(t.senders?"/"+r[o][s][t.senders]:"")+" "+t.uri)});var m=a.sourceGroups||[];m.forEach(function(t){i.push("a=ssrc-group:"+t.semantics+" "+t.sources.join(" "))});var g=a.sources||[];g.forEach(function(t){for(var e=0;e<t.parameters.length;e++){var n=t.parameters[e];i.push("a=ssrc:"+(t.ssrc||a.ssrc)+" "+n.key+(n.value?":"+n.value:""))}});var v=u.candidates||[];return v.forEach(function(t){i.push(e.toCandidateSDP(t))}),i.join("\r\n")},e.toCandidateSDP=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),("srflx"===n||"prflx"===n||"relay"===n)&&t.relAddr&&t.relPort&&(e.push("raddr"),e.push(t.relAddr),e.push("rport"),e.push(t.relPort)),t.tcpType&&"TCP"==t.protocol.toUpperCase()&&(e.push("tcptype"),e.push(t.tcpType)),e.push("generation"),e.push(t.generation||"0"),"a=candidate:"+e.join(" ")}},function(t,e,n){function r(t){return{type:t.type,sdp:t.sdp}}function i(t){var e={label:t.id};return t.getAudioTracks().length&&(e.audio=t.getAudioTracks().map(function(t){return t.id})),t.getVideoTracks().length&&(e.video=t.getVideoTracks().map(function(t){return t.id})),e}function o(t,e){var n=this;u.call(this),this.peerconnection=new a.PeerConnection(t,e),this.trace=function(t,e){n.emit("PeerConnectionTrace",{time:new Date,type:t,value:e||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(t){n.trace("onicecandidate",t.candidate),null!==n.onicecandidate&&n.onicecandidate(t)},this.onaddstream=null,this.peerconnection.onaddstream=function(t){n.trace("onaddstream",i(t.stream)),null!==n.onaddstream&&n.onaddstream(t)},this.onremovestream=null,this.peerconnection.onremovestream=function(t){n.trace("onremovestream",i(t.stream)),null!==n.onremovestream&&n.onremovestream(t)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(t){n.trace("onsignalingstatechange",n.signalingState),null!==n.onsignalingstatechange&&n.onsignalingstatechange(t)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(t){n.trace("oniceconnectionstatechange",n.iceConnectionState),null!==n.oniceconnectionstatechange&&n.oniceconnectionstatechange(t)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(t){n.trace("onnegotiationneeded"),null!==n.onnegotiationneeded&&n.onnegotiationneeded(t)},n.ondatachannel=null,this.peerconnection.ondatachannel=function(t){n.trace("ondatachannel",t),null!==n.ondatachannel&&n.ondatachannel(t)},this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection),this.getRemoteStreams=this.peerconnection.getRemoteStreams.bind(this.peerconnection)}var s=n(6),a=n(48),u=n(15);s.inherits(o,u),Object.defineProperty(o.prototype,"signalingState",{get:function(){return this.peerconnection.signalingState}}),Object.defineProperty(o.prototype,"iceConnectionState",{get:function(){return this.peerconnection.iceConnectionState}}),Object.defineProperty(o.prototype,"localDescription",{get:function(){return this.peerconnection.localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{get:function(){return this.peerconnection.remoteDescription}}),o.prototype.addStream=function(t){this.trace("addStream",i(t)),this.peerconnection.addStream(t)},o.prototype.removeStream=function(t){this.trace("removeStream",i(t)),this.peerconnection.removeStream(t)},o.prototype.createDataChannel=function(t,e){return this.trace("createDataChannel",t,e),this.peerconnection.createDataChannel(t,e)},o.prototype.setLocalDescription=function(t,e,n){var i=this;this.trace("setLocalDescription",r(t)),this.peerconnection.setLocalDescription(t,function(){i.trace("setLocalDescriptionOnSuccess"),e()},function(t){i.trace("setLocalDescriptionOnFailure",t),n(t)})},o.prototype.setRemoteDescription=function(t,e,n){var i=this;this.trace("setRemoteDescription",r(t)),this.peerconnection.setRemoteDescription(t,function(){i.trace("setRemoteDescriptionOnSuccess"),e()},function(t){i.trace("setRemoteDescriptionOnFailure",t),n(t)})},o.prototype.close=function(){this.trace("stop"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),"closed"!=this.peerconnection.signalingState&&this.peerconnection.close()},o.prototype.createOffer=function(t,e,n){var i=this;this.trace("createOffer",n),this.peerconnection.createOffer(function(e){i.trace("createOfferOnSuccess",r(e)),t(e)},function(t){i.trace("createOfferOnFailure",t),e(t)},n)},o.prototype.createAnswer=function(t,e,n){var i=this;this.trace("createAnswer",n),this.peerconnection.createAnswer(function(e){i.trace("createAnswerOnSuccess",r(e)),t(e)},function(t){i.trace("createAnswerOnFailure",t),e(t)},n)},o.prototype.addIceCandidate=function(t,e,n){var r=this;this.trace("addIceCandidate",t),this.peerconnection.addIceCandidate(t,function(){e&&e()},function(t){r.trace("addIceCandidateOnFailure",t),n&&n(t)})},o.prototype.getStats=function(t,e){navigator.mozGetUserMedia?this.peerconnection.getStats(null,t,e):this.peerconnection.getStats(t)},t.exports=o},function(t,e,n){function r(t,e){var n,r=this;c.call(this),t=t||{},t.iceServers=t.iceServers||[],this.enableChromeNativeSimulcast=!1,e&&e.optional&&"webkit"===a.prefix&&null===navigator.appVersion.match(/Chromium\//)&&e.optional.forEach(function(t,e){t.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,e&&e.optional&&e.optional.forEach(function(t,e){t.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,e&&e.optional&&e.optional.forEach(function(t,e){t.andyetRestrictBandwidth&&(r.restrictBandwidth=t.andyetRestrictBandwidth)}),this.batchIceCandidates=0,e&&e.optional&&e.optional.forEach(function(t,e){t.andyetBatchIce&&(r.batchIceCandidates=t.andyetBatchIce)}),this.batchedIceCandidates=[],this.assumeSetLocalSuccess=!1,e&&e.optional&&e.optional.forEach(function(t,e){t.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=t.andyetAssumeSetLocalSuccess)}),"moz"===a.prefix&&e&&e.optional&&(this.wtFirefox=0,e.optional.forEach(function(t,e){t.andyetFirefoxMakesMeSad&&(r.wtFirefox=t.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))})),this.pc=new l(t,e),this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc),this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc),this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=this.pc.removeStream.bind(this.pc),this.pc.on("*",function(){r.emit.apply(r,arguments)}),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,ice:{},sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1};for(n in t)this.config[n]=t[n];this.config.debug&&this.on("*",function(e,n){var r=t.logger||console;r.log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[]}var i=n(6),o=n(25),s=n(411),a=n(48),u=n(422),c=n(15),l=n(426);i.inherits(r,c),Object.defineProperty(r.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(r.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),r.prototype._role=function(){return this.isInitiator?"initiator":"responder"},r.prototype.addStream=function(t){this.localStream=t,this.pc.addStream(t)},r.prototype._checkLocalCandidate=function(t){var e=u.toCandidateJSON(t);"srflx"==e.type?this.hadLocalStunCandidate=!0:"relay"==e.type&&(this.hadLocalRelayCandidate=!0),-1!=e.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},r.prototype._checkRemoteCandidate=function(t){var e=u.toCandidateJSON(t);"srflx"==e.type?this.hadRemoteStunCandidate=!0:"relay"==e.type&&(this.hadRemoteRelayCandidate=!0),-1!=e.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},r.prototype.processIce=function(t,e){e=e||function(){};var n=this;if("closed"===this.pc.signalingState)return e();if(t.contents||t.jingle&&t.jingle.contents){var r=s(this.remoteDescription.contents,"name"),i=t.contents||t.jingle.contents;i.forEach(function(t){var e=t.transport||{},i=e.candidates||[],o=r.indexOf(t.name),s=t.name;i.forEach(function(t){var e=u.toCandidateSDP(t)+"\r\n";n.pc.addIceCandidate(new a.IceCandidate({candidate:e,sdpMLineIndex:o,sdpMid:s}),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(e)})})}else{if(t.candidate&&0!==t.candidate.candidate.indexOf("a=")&&(t.candidate.candidate="a="+t.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(t.candidate),e();n.pc.addIceCandidate(new a.IceCandidate(t.candidate),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(t.candidate.candidate)}e()},r.prototype.offer=function(t,e){var n=this,r=2===arguments.length,i=r?t:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};return e=r?e:t,e=e||function(){},"closed"===this.pc.signalingState?e("Already closed"):void this.pc.createOffer(function(t){var r={type:"offer",sdp:t.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),e(null,r)),n.pc.setLocalDescription(t,function(){var i;n.config.useJingle&&(i=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}),i.sid=n.config.sid,n.localDescription=i,o(i.contents,function(t){var e=t.transport||{};e.ufrag&&(n.config.ice[t.name]={ufrag:e.ufrag,pwd:e.pwd})}),r.jingle=i),r.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkLocalCandidate(t)}),n.assumeSetLocalSuccess||(n.emit("offer",r),e(null,r))},function(t){n.emit("error",t),e(t)})},function(t){n.emit("error",t),e(t)},i)},r.prototype.handleOffer=function(t,e){e=e||function(){};var n=this;if(t.type="offer",t.jingle){if(this.enableChromeNativeSimulcast&&t.jingle.contents.forEach(function(t){"video"===t.name&&(t.description.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&t.jingle.contents.forEach(function(t){if("video"===t.name){var e=t.description.sources||[];(0===e.length||"3735928559"!==e[0].ssrc)&&(e.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),t.description.sources=e)}}),n.restrictBandwidth>0&&t.jingle.contents.length>=2&&"video"===t.jingle.contents[1].name){var r=t.jingle.contents[1],i=r.description&&r.description.bandwidth;i||(t.jingle.contents[1].description.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=t.jingle}t.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkRemoteCandidate(t)}),n.pc.setRemoteDescription(new a.SessionDescription(t),function(){e()},e)},r.prototype.answerAudioOnly=function(t){var e={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(e,t)},r.prototype.answerBroadcastOnly=function(t){var e={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(e,t)},r.prototype.answer=function(t,e){var n=2===arguments.length,r=n?e:t,i=n?t:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(i,r)},r.prototype.handleAnswer=function(t,e){e=e||function(){};var n=this;t.jingle&&(t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=t.jingle),t.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkRemoteCandidate(t)}),n.pc.setRemoteDescription(new a.SessionDescription(t),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(t){n.pc.addIceCandidate(new a.IceCandidate(t),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(t.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),e(null)},e)},r.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},r.prototype._answer=function(t,e){e=e||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");return"closed"===this.pc.signalingState?e("Already closed"):void n.pc.createAnswer(function(t){var r=[];if(n.enableChromeNativeSimulcast&&(t.jingle=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}),t.jingle.contents.length>=2&&"video"===t.jingle.contents[1].name)){var i=t.jingle.contents[1].description.sourceGroups||[],o=!1;if(i.forEach(function(t){"SIM"==t.semantics&&(o=!0)}),!o&&t.jingle.contents[1].description.sources.length){var s=JSON.parse(JSON.stringify(t.jingle.contents[1].description.sources[0]));s.ssrc=""+Math.floor(4294967295*Math.random()),t.jingle.contents[1].description.sources.push(s),r.push(t.jingle.contents[1].description.sources[0].ssrc),r.push(s.ssrc),i.push({semantics:"SIM",sources:r});var a=JSON.parse(JSON.stringify(s));a.ssrc=""+Math.floor(4294967295*Math.random()),t.jingle.contents[1].description.sources.push(a),i.push({semantics:"FID",sources:[s.ssrc,a.ssrc]}),t.jingle.contents[1].description.sourceGroups=i,t.sdp=u.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var c={type:"answer",sdp:t.sdp};n.assumeSetLocalSuccess&&(n.emit("answer",c),e(null,c)),n.pc.setLocalDescription(t,function(){if(n.config.useJingle){var r=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,c.jingle=r}if(n.enableChromeNativeSimulcast){c.jingle||(c.jingle=u.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}));{c.jingle.contents[1].description.sourceGroups||[]}c.jingle.contents[1].description.sources.forEach(function(t,e){t.parameters=t.parameters.map(function(t){return"msid"===t.key&&(t.value+="-"+Math.floor(e/2)),t})}),c.sdp=u.toSessionSDP(c.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})}c.sdp.split("\r\n").forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkLocalCandidate(t)}),n.assumeSetLocalSuccess||(n.emit("answer",c),e(null,c))},function(t){n.emit("error",t),e(t)})},function(t){n.emit("error",t),e(t)},t)},r.prototype._onIce=function(t){var e=this;if(t.candidate){var n=t.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var i=u.toCandidateJSON(n.candidate);if(e.config.useJingle){if(n.sdpMid||(n.sdpMid=e.localDescription.contents[n.sdpMLineIndex].name),!e.config.ice[n.sdpMid]){var s=u.toSessionJSON(e.pc.localDescription.sdp,{role:e._role(),direction:"outgoing"});o(s.contents,function(t){var n=t.transport||{};n.ufrag&&(e.config.ice[t.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(r.jingle={contents:[{name:n.sdpMid,creator:e._role(),transport:{transType:"iceUdp",ufrag:e.config.ice[n.sdpMid].ufrag,pwd:e.config.ice[n.sdpMid].pwd,candidates:[i]}}]},e.batchIceCandidates>0)return 0===e.batchedIceCandidates.length&&window.setTimeout(function(){var t={};e.batchedIceCandidates.forEach(function(e){e=e.contents[0],t[e.name]||(t[e.name]=e),t[e.name].transport.candidates.push(e.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(t).forEach(function(e){n.jingle.contents.push(t[e])}),e.batchedIceCandidates=[],e.emit("ice",n)},e.batchIceCandidates),void e.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},r.prototype._onDataChannel=function(t){var e=t.channel;this._remoteDataChannels.push(e),this.emit("addChannel",e)},r.prototype.createDataChannel=function(t,e){var n=this.pc.createDataChannel(t,e);return this._localDataChannels.push(n),n},r.prototype.getStats=function(t){"moz"===a.prefix?this.pc.getStats(function(e){var n=[];for(var r in e)"object"==typeof e[r]&&n.push(e[r]);t(null,n)},t):this.pc.getStats(function(e){var n=[];e.result().forEach(function(t){var e={};t.names().forEach(function(n){e[n]=t.stat(n)}),e.id=t.id,e.type=t.type,e.timestamp=t.timestamp,n.push(e)}),t(null,n)})},t.exports=r},function(t,e,n){"use strict";var r=n(12).JID;t.exports=function(t){var e=t.utils;t.withIq=function(t){this.withDefinition("iq","jabber:client",t),this.withDefinition("iq","jabber:component:accept",t)},t.withMessage=function(t){this.withDefinition("message","jabber:client",t),this.withDefinition("message","jabber:component:accept",t)},t.withPresence=function(t){this.withDefinition("presence","jabber:client",t),this.withDefinition("presence","jabber:component:accept",t)},t.withStreamFeatures=function(t){this.withDefinition("features","http://etherx.jabber.org/streams",t)},t.withStanzaError=function(t){this.withDefinition("error","jabber:client",t),this.withDefinition("error","jabber:component:accept",t)},t.withDataForm=function(t){this.withDefinition("x","jabber:x:data",t)},t.withPubsubItem=function(t){this.withDefinition("item","http://jabber.org/protocol/pubsub",t),this.withDefinition("item","http://jabber.org/protocol/pubsub#event",t)},t.getMessage=function(){return this.getDefinition("message","jabber:client")},t.getPresence=function(){return this.getDefinition("presence","jabber:client")},t.getIq=function(){return this.getDefinition("iq","jabber:client")},t.getStreamError=function(){return this.getDefinition("error","http://etherx.jabber.org/streams")},t.getComponentMessage=function(){return this.getDefinition("message","jabber:component:accept")},t.getComponentPresence=function(){return this.getDefinition("presence","jabber:component:accept")},t.getComponentIq=function(){return this.getDefinition("iq","jabber:component:accept")},t.utils.jidAttribute=function(t,n){return{get:function(){var i=new r(e.getAttribute(this.xml,t));return n&&(i.prepped=!0),i},set:function(n){e.setAttribute(this.xml,t,(n||"").toString())}}},t.utils.jidSub=function(t,n,i){return{get:function(){var o=new r(e.getSubText(this.xml,t,n));return i&&(o.prepped=!0),o},set:function(r){e.setSubText(this.xml,t,n,(r||"").toString())}}},t.utils.tzoSub=e.field(function(t,n,r,i){var o,s,a,u=-1,c=e.getSubText(t,n,r);return c?("-"===c.charAt(0)&&(u=1,c=c.slice(1)),o=c.split(":"),s=parseInt(o[0],10),a=parseInt(o[1],10),(60*s+a)*u):i},function(t,n,r,i){var o,s,a="-";"number"==typeof i?(0>i&&(i=-i,a="+"),o=i/60,s=i%60,a+=(10>o?"0":"")+o+":"+(10>s?"0":"")+s):a=i,e.setSubText(t,n,r,a)})}},function(t,e,n){"use strict";var r=n(97),i=n(39),o={constructor:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};t.exports=function(t,e){function n(n,o,s){var a=this,u=(o||{}).parentNode||(s||{}).xml,c=(u||{}).namespaceURI;a.xml=o||r.createElement(a._NS,a._EL,c),Object.keys(a._PREFIXES).forEach(function(t){var e=a._PREFIXES[t];a.xml.setAttribute("xmlns:"+t,e)}),a._extensions={};for(var l=0,p=a.xml.childNodes.length;p>l;l++){var f=a.xml.childNodes[l],d=t.getDefinition(f.localName,f.namespaceURI);if(void 0!==d){var h=d.prototype._name;a._extensions[h]=new d(null,f),a._extensions[h].parent=a}}return i(a,n),e.init&&e.init.apply(a,[n]),a}return n.prototype._name=e.name,n.prototype._eventname=e.eventName,n.prototype._NS=e.namespace,n.prototype._EL=e.element||e.name,n.prototype._PREFIXES=e.prefixes||{},n.prototype._TAGS=e.tags||[],n.prototype.toString=function(){return this.xml.toString()},n.prototype.toJSON=function(){var e,n={};for(e in this._extensions)this._extensions[e].toJSON&&"_"!==e[0]&&(n[e]=this._extensions[e].toJSON());for(e in this){var r=!o[e]&&"_"!==e[0],i=t.getExtensions(this._EL,this._NS)[e];if(r&&!i){var s=this[e];if("function"==typeof s)continue;var a=Object.prototype.toString.call(s);if(a.indexOf("Object")>=0)Object.keys(s).length>0&&(n[e]=s);else if(a.indexOf("Array")>=0){if(s.length>0){for(var u=[],c=s.length,l=0;c>l;l++){var p=s[l];"undefined"!=typeof p&&u.push(void 0!==p.toJSON?p.toJSON():p)}n[e]=u}}else void 0!==s&&s!==!1&&""!==s&&(n[e]=s)}}return n},n}},function(t,e,n){(function(t){"use strict";var r=n(97),i=n(39),o=r.find,s=r.createElement,a=e.field=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return{get:function(){return t.apply(null,[this.xml].concat(n))},set:function(t){e.apply(null,[this.xml].concat(n).concat([t]))}}}};e.boolAttribute=a(r.getBoolAttribute,r.setBoolAttribute),e.subAttribute=a(r.getSubAttribute,r.setSubAttribute),e.boolSubAttribute=a(r.getSubBoolAttribute,r.setSubBoolAttribute),e.text=a(r.getText,r.setText),e.textSub=e.subText=a(r.getSubText,r.setSubText),
e.multiTextSub=e.multiSubText=a(r.getMultiSubText,r.setMultiSubText),e.multiSubAttribute=a(r.getMultiSubAttribute,r.setMultiSubAttribute),e.langTextSub=e.subLangText=a(r.getSubLangText,r.setSubLangText),e.boolSub=a(r.getBoolSub,r.setBoolSub),e.langAttribute=a(function(t){return t.getAttributeNS(r.XML_NS,"lang")||""},function(t,e){t.setAttributeNS(r.XML_NS,"lang",e)}),e.b64Text=a(function(e){return e.textContent&&"="!==e.textContent?new t(e.textContent,"base64"):""},function(e,n){if("string"==typeof n){var r=new t(n).toString("base64");e.textContent=r||"="}else e.textContent=""}),e.dateAttribute=function(t,e){return{get:function(){var n=r.getAttribute(this.xml,t);return n?new Date(n):e?new Date(Date.now()):void 0},set:function(e){e&&("string"!=typeof e&&(e=e.toISOString()),r.setAttribute(this.xml,t,e))}}},e.dateSub=function(t,e,n){return{get:function(){var i=r.getSubText(this.xml,t,e);return i?new Date(i):n?new Date(Date.now()):void 0},set:function(n){n&&("string"!=typeof n&&(n=n.toISOString()),r.setSubText(this.xml,t,e,n))}}},e.dateSubAttribute=function(t,e,n,i){return{get:function(){var o=r.getSubAttribute(this.xml,t,e,n);return o?new Date(o):i?new Date(Date.now()):void 0},set:function(i){i&&("string"!=typeof i&&(i=i.toISOString()),r.setSubAttribute(this.xml,t,e,n,i))}}},e.numberAttribute=function(t,e,n){return{get:function(){var i=e?parseFloat:parseInt,o=r.getAttribute(this.xml,t,"");if(!o)return n;var s=i(o,10);return isNaN(s)?n:s},set:function(e){r.setAttribute(this.xml,t,e.toString())}}},e.numberSub=function(t,e,n,i){return{get:function(){var o=n?parseFloat:parseInt,s=r.getSubText(this.xml,t,e,"");if(!s)return i;var a=o(s,10);return isNaN(a)?i:a},set:function(n){r.setSubText(this.xml,t,e,n.toString())}}},e.attribute=function(t,e){return{get:function(){return r.getAttribute(this.xml,t,e)},set:function(e){r.setAttribute(this.xml,t,e)}}},e.attributeNS=function(t,e,n){return{get:function(){return r.getAttributeNS(this.xml,t,e,n)},set:function(n){r.setAttributeNS(this.xml,t,e,n)}}},e.extension=function(t){return{get:function(){var e=this,n=t.prototype._name;if(!this._extensions[n]){var r=o(this.xml,t.prototype._NS,t.prototype._EL);r.length?this._extensions[n]=new t(null,r[0],e):(this._extensions[n]=new t({},null,e),this.xml.appendChild(this._extensions[n].xml)),this._extensions[n].parent=this}return this._extensions[n]},set:function(e){if(e){var n=this[t.prototype._name];e===!0&&(e={}),i(n,e)}}}},e.multiExtension=function(t){return{get:function(){for(var e=this,n=o(this.xml,t.prototype._NS,t.prototype._EL),r=[],i=0,s=n.length;s>i;i++)r.push(new t({},n[i],e));return r},set:function(e){e=e||[];var n,r,i=this,s=o(this.xml,t.prototype._NS,t.prototype._EL);for(n=0,r=s.length;r>n;n++)i.xml.removeChild(s[n]);for(n=0,r=e.length;r>n;n++){var a=new t(e[n],null,i);i.xml.appendChild(a.xml)}}}},e.enumSub=function(t,e){return{get:function(){var n=this,r=[];return e.forEach(function(e){var i=o(n.xml,t,e);i.length&&r.push(i[0].nodeName)}),r[0]||""},set:function(n){var r=this;if(e.forEach(function(e){var n=o(r.xml,t,e);n.length&&r.xml.removeChild(n[0])}),n){var i=s(t,n);this.xml.appendChild(i)}}}},e.subExtension=function(t,e,n,r){return{get:function(){if(!this._extensions[t]){var i=o(this.xml,e,n);i.length?i=i[0]:(i=s(e,n,this._NS),this.xml.appendChild(i));var a=o(i,r.prototype._NS,r.prototype._EL);a.length?this._extensions[t]=new r(null,a[0],{xml:i}):(this._extensions[t]=new r({},null,{xml:i}),i.appendChild(this._extensions[t].xml)),this._extensions[t].parent=this}return this._extensions[t]},set:function(r){var s=o(this.xml,e,n);if(s.length&&!r&&this.xml.removeChild(s[0]),r){var a=this[t];r===!0&&(r={}),i(a,r)}}}},e.subMultiExtension=function(t,e,n){return{get:function(){var r=this,i=[],s=o(this.xml,t,e);if(!s.length)return i;s=s[0];var a=o(s,n.prototype._NS,n.prototype._EL);return a.forEach(function(t){i.push(new n({},t,r))}),i},set:function(r){var i=this,a=o(this.xml,t,e);a.length&&i.xml.removeChild(a[0]),r.length&&(a=s(t,e,this._NS),r.forEach(function(t){var e=new n(t,null,i);a.appendChild(e.xml)}),i.xml.appendChild(a))}}}}).call(e,n(2).Buffer)},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./dom-element":64,"./dom-element.js":64,"./element":65,"./element.js":65,"./index":98,"./index-browserify":66,"./index-browserify.js":66,"./index.js":98,"./parse":67,"./parse.js":67,"./sax/sax_easysax":139,"./sax/sax_easysax.js":139,"./sax/sax_expat":140,"./sax/sax_expat.js":140,"./sax/sax_ltx":99,"./sax/sax_ltx.js":99,"./sax/sax_node-xml":141,"./sax/sax_node-xml.js":141,"./sax/sax_saxjs":142,"./sax/sax_saxjs.js":142};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=431},function(t,e,n){var r=(n(16).EventEmitter,n(6)),i=n(100)("node_expat"),o=n(17).Stream,s=function(t){this.encoding=t,this._getNewParser(),this.parser.emit=this.emit.bind(this),this.writable=!0,this.readable=!0};r.inherits(s,o),s.prototype._getNewParser=function(){this.parser=new i.Parser(this.encoding)},s.prototype.parse=function(t,e){return this.parser.parse(t,e)},s.prototype.setEncoding=function(t){return this.encoding=t,this.parser.setEncoding(this.encoding)},s.prototype.setUnknownEncoding=function(t,e){return this.parser.setUnknownEncoding(t,e)},s.prototype.getError=function(){return this.parser.getError()},s.prototype.stop=function(){return this.parser.stop()},s.prototype.pause=function(){return this.stop()},s.prototype.resume=function(){return this.parser.resume()},s.prototype.destroy=function(){this.parser.stop(),this.end()},s.prototype.destroySoon=function(){this.destroy()},s.prototype.write=function(t){var e,n;try{n=this.parse(t),n||(e=this.getError())}catch(r){e=r}return e&&(this.emit("error",e),this.emit("close")),n},s.prototype.end=function(t){var e,n;try{n=this.parse(t||"",!0),n||(e=this.getError())}catch(r){e=r}e?this.emit("error",e):this.emit("end"),this.emit("close")},s.prototype.reset=function(){return this.parser.reset()},s.prototype.getCurrentLineNumber=function(){return this.parser.getCurrentLineNumber()},s.prototype.getCurrentColumnNumber=function(){return this.parser.getCurrentColumnNumber()},s.prototype.getCurrentByteIndex=function(){return this.parser.getCurrentByteIndex()},e.Parser=s,e.createParser=function(t){var e=new s;return t&&e.on("startElement",t),e}},function(t,e,n){(function(t){!function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);var i=this;o(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=H.BEGIN,i.ENTITIES=Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(V)),i.trackPosition=i.opt.position!==!1,i.trackPosition&&(i.position=i.line=i.column=0),d(i,"onready")}function i(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),r=0,i=0,o=O.length;o>i;i++){var s=t[O[i]].length;if(s>n)switch(O[i]){case"textNode":m(t);break;case"cdata":h(t,"oncdata",t.cdata),t.cdata="";break;case"script":h(t,"onscript",t.script),t.script="";break;default:v(t,"Max buffer length exceeded: "+O[i])}r=Math.max(r,s)}t.bufferCheckPosition=e.MAX_BUFFER_LENGTH-r+t.position}function o(t){for(var e=0,n=O.length;n>e;e++)t[O[e]]=""}function s(t){m(t),""!==t.cdata&&(h(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(h(t,"onscript",t.script),t.script="")}function a(t,e){return new u(t,e)}function u(t,e){if(!(this instanceof u))return new u(t,e);T.apply(this),this._parser=new r(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,j.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){return e?void n.on(t,e):(n.removeAllListeners(t),n._parser["on"+t]=e)},enumerable:!0,configurable:!1})})}function c(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function l(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function p(t,e){return l(t)?!!e.match(t):t[e]}function f(t,e){return!p(t,e)}function d(t,e,n){t[e]&&t[e](n)}function h(t,e,n){t.textNode&&m(t),d(t,e,n)}function m(t){t.textNode=g(t.opt,t.textNode),t.textNode&&d(t,"ontext",t.textNode),t.textNode=""}function g(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function v(t,e){return m(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,d(t,"onerror",e),t}function y(t){return t.closedRoot||_(t,"Unclosed root tag"),t.state!==H.BEGIN&&t.state!==H.TEXT&&v(t,"Unexpected end"),m(t),t.c="",t.closed=!0,d(t,"onend"),r.call(t,t.strict,t.opt),t}function _(t,e){if("object"!=typeof t||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&v(t,e)}function b(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0}function E(t,e){var n=t.indexOf(":"),r=0>n?["",t]:t.split(":"),i=r[0],o=r[1];return e&&"xmlns"===t&&(i="xmlns",o=""),{prefix:i,local:o}}function x(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";if(t.opt.xmlns){var e=E(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==B)_(t,"xml: prefix must be bound to "+B+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==U)_(t,"xmlns: prefix must be bound to "+U+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,h(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function w(t,e){if(t.opt.xmlns){var n=t.tag,r=E(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(_(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){h(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,s=t.attribList.length;s>o;o++){var a=t.attribList[o],u=a[0],c=a[1],l=E(u,!0),p=l.prefix,f=l.local,d=""==p?"":n.ns[p]||"",m={name:u,value:c,prefix:p,local:f,uri:d};p&&"xmlns"!=p&&!d&&(_(t,"Unbound namespace prefix: "+JSON.stringify(p)),m.uri=p),t.tag.attributes[u]=m,h(t,"onattribute",m)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),h(t,"onopentag",t.tag),e||(t.state=t.noscript||"script"!==t.tagName.toLowerCase()?H.TEXT:H.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function S(t){if(!t.tagName)return _(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=H.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=H.SCRIPT);h(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){var i=t.tags[e];if(i.name===r)break;_(t,"Unexpected close tag")}if(0>e)return _(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=H.TEXT);t.tagName=n;for(var o=t.tags.length;o-->e;){var s=t.tag=t.tags.pop();t.tagName=t.tag.name,h(t,"onclosetag",t.tagName);var a={};for(var u in s.ns)a[u]=s.ns[u];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&s.ns!==c.ns&&Object.keys(s.ns).forEach(function(e){var n=s.ns[e];h(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=H.TEXT}function C(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),e=parseInt(n,16),i=e.toString(16)):(n=n.slice(1),e=parseInt(n,10),i=e.toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(_(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function N(t){var e=this;if(this.error)throw this.error;if(e.closed)return v(e,"Cannot write after close. Assign an onready handler.");if(null===t)return y(e);for(var n=0,r="";e.c=r=t.charAt(n++);)switch(e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++),e.state){case H.BEGIN:"<"===r?(e.state=H.OPEN_WAKA,e.startTagPosition=e.position):f(I,r)&&(_(e,"Non-whitespace before first tag."),e.textNode=r,e.state=H.TEXT);continue;case H.TEXT:if(e.sawRoot&&!e.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)r=t.charAt(n++),r&&e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(o,n-1)}"<"===r?(e.state=H.OPEN_WAKA,e.startTagPosition=e.position):(!f(I,r)||e.sawRoot&&!e.closedRoot||_(e,"Text data outside of root node."),"&"===r?e.state=H.TEXT_ENTITY:e.textNode+=r);continue;case H.SCRIPT:"<"===r?e.state=H.SCRIPT_ENDING:e.script+=r;continue;case H.SCRIPT_ENDING:"/"===r?e.state=H.CLOSE_TAG:(e.script+="<"+r,e.state=H.SCRIPT);continue;case H.OPEN_WAKA:if("!"===r)e.state=H.SGML_DECL,e.sgmlDecl="";else if(p(I,r));else if(p(q,r))e.state=H.OPEN_TAG,e.tagName=r;else if("/"===r)e.state=H.CLOSE_TAG,e.tagName="";else if("?"===r)e.state=H.PROC_INST,e.procInstName=e.procInstBody="";else{if(_(e,"Unencoded <"),e.startTagPosition+1<e.position){var s=e.position-e.startTagPosition;r=new Array(s).join(" ")+r}e.textNode+="<"+r,e.state=H.TEXT}continue;case H.SGML_DECL:(e.sgmlDecl+r).toUpperCase()===L?(h(e,"onopencdata"),e.state=H.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+r==="--"?(e.state=H.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+r).toUpperCase()===F?(e.state=H.DOCTYPE,(e.doctype||e.sawRoot)&&_(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===r?(h(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=H.TEXT):p(k,r)?(e.state=H.SGML_DECL_QUOTED,e.sgmlDecl+=r):e.sgmlDecl+=r;continue;case H.SGML_DECL_QUOTED:r===e.q&&(e.state=H.SGML_DECL,e.q=""),e.sgmlDecl+=r;continue;case H.DOCTYPE:">"===r?(e.state=H.TEXT,h(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=r,"["===r?e.state=H.DOCTYPE_DTD:p(k,r)&&(e.state=H.DOCTYPE_QUOTED,e.q=r));continue;case H.DOCTYPE_QUOTED:e.doctype+=r,r===e.q&&(e.q="",e.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:e.doctype+=r,"]"===r?e.state=H.DOCTYPE:p(k,r)&&(e.state=H.DOCTYPE_DTD_QUOTED,e.q=r);continue;case H.DOCTYPE_DTD_QUOTED:e.doctype+=r,r===e.q&&(e.state=H.DOCTYPE_DTD,e.q="");continue;case H.COMMENT:"-"===r?e.state=H.COMMENT_ENDING:e.comment+=r;continue;case H.COMMENT_ENDING:"-"===r?(e.state=H.COMMENT_ENDED,e.comment=g(e.opt,e.comment),e.comment&&h(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+r,e.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==r?(_(e,"Malformed comment"),e.comment+="--"+r,e.state=H.COMMENT):e.state=H.TEXT;continue;case H.CDATA:"]"===r?e.state=H.CDATA_ENDING:e.cdata+=r;continue;case H.CDATA_ENDING:"]"===r?e.state=H.CDATA_ENDING_2:(e.cdata+="]"+r,e.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===r?(e.cdata&&h(e,"oncdata",e.cdata),h(e,"onclosecdata"),e.cdata="",e.state=H.TEXT):"]"===r?e.cdata+="]":(e.cdata+="]]"+r,e.state=H.CDATA);continue;case H.PROC_INST:"?"===r?e.state=H.PROC_INST_ENDING:p(I,r)?e.state=H.PROC_INST_BODY:e.procInstName+=r;continue;case H.PROC_INST_BODY:if(!e.procInstBody&&p(I,r))continue;"?"===r?e.state=H.PROC_INST_ENDING:e.procInstBody+=r;continue;case H.PROC_INST_ENDING:">"===r?(h(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=H.TEXT):(e.procInstBody+="?"+r,e.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:p(z,r)?e.tagName+=r:(b(e),">"===r?w(e):"/"===r?e.state=H.OPEN_TAG_SLASH:(f(I,r)&&_(e,"Invalid character in tag name"),e.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===r?(w(e,!0),S(e)):(_(e,"Forward-slash in opening tag not followed by >"),e.state=H.ATTRIB);continue;case H.ATTRIB:if(p(I,r))continue;">"===r?w(e):"/"===r?e.state=H.OPEN_TAG_SLASH:p(q,r)?(e.attribName=r,e.attribValue="",e.state=H.ATTRIB_NAME):_(e,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===r?e.state=H.ATTRIB_VALUE:">"===r?(_(e,"Attribute without value"),e.attribValue=e.attribName,x(e),w(e)):p(I,r)?e.state=H.ATTRIB_NAME_SAW_WHITE:p(z,r)?e.attribName+=r:_(e,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===r)e.state=H.ATTRIB_VALUE;else{if(p(I,r))continue;_(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",h(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===r?w(e):p(q,r)?(e.attribName=r,e.state=H.ATTRIB_NAME):(_(e,"Invalid attribute name"),e.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(p(I,r))continue;p(k,r)?(e.q=r,e.state=H.ATTRIB_VALUE_QUOTED):(_(e,"Unquoted attribute value"),e.state=H.ATTRIB_VALUE_UNQUOTED,e.attribValue=r);continue;case H.ATTRIB_VALUE_QUOTED:if(r!==e.q){"&"===r?e.state=H.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=r;continue}x(e),e.q="",e.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:p(I,r)?e.state=H.ATTRIB:">"===r?w(e):"/"===r?e.state=H.OPEN_TAG_SLASH:p(q,r)?(_(e,"No whitespace between attributes"),e.attribName=r,e.attribValue="",e.state=H.ATTRIB_NAME):_(e,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(f(M,r)){"&"===r?e.state=H.ATTRIB_VALUE_ENTITY_U:e.attribValue+=r;continue}x(e),">"===r?w(e):e.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(e.tagName)">"===r?S(e):p(z,r)?e.tagName+=r:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=H.SCRIPT):(f(I,r)&&_(e,"Invalid tagname in closing tag"),e.state=H.CLOSE_TAG_SAW_WHITE);else{if(p(I,r))continue;f(q,r)?e.script?(e.script+="</"+r,e.state=H.SCRIPT):_(e,"Invalid tagname in closing tag."):e.tagName=r}continue;case H.CLOSE_TAG_SAW_WHITE:if(p(I,r))continue;">"===r?S(e):_(e,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:switch(e.state){case H.TEXT_ENTITY:var a=H.TEXT,u="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:var a=H.ATTRIB_VALUE_QUOTED,u="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:var a=H.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===r?(e[u]+=C(e),e.entity="",e.state=a):p(P,r)?e.entity+=r:(_(e,"Invalid character entity"),e[u]+="&"+e.entity+r,e.entity="",e.state=a);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&i(e),e}e.parser=function(t,e){return new r(t,e)},e.SAXParser=r,e.SAXStream=u,e.createStream=a,e.MAX_BUFFER_LENGTH=65536;var O=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),r.prototype={end:function(){y(this)},write:N,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};try{var T=n(17).Stream}catch(D){var T=function(){}}var j=e.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});u.prototype=Object.create(T.prototype,{constructor:{value:u}}),u.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var r=n(104).StringDecoder;this._decoder=new r("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},u.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},u.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===j.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),T.prototype.on.call(n,t,e)};var I="\r\n	 ",A="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",k="'\"",P=A+R+"#",M=I+">",L="[CDATA[",F="DOCTYPE",B="http://www.w3.org/XML/1998/namespace",U="http://www.w3.org/2000/xmlns/",V={xml:B,xmlns:U};I=c(I),A=c(A),R=c(R);var q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;k=c(k),P=c(P),M=c(M);var H=0;e.STATE={BEGIN:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r});for(var H in e.STATE)e.STATE[e.STATE[H]]=H;H=e.STATE,/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
String.fromCodePoint||!function(){var t=String.fromCharCode,e=Math.floor,n=function(){var n,r,i=16384,o=[],s=-1,a=arguments.length;if(!a)return"";for(var u="";++s<a;){var c=Number(arguments[s]);if(!isFinite(c)||0>c||c>1114111||e(c)!=c)throw RangeError("Invalid code point: "+c);65535>=c?o.push(c):(c-=65536,n=(c>>10)+55296,r=c%1024+56320,o.push(n,r)),(s+1==a||o.length>i)&&(u+=t.apply(null,o),o.length=0)}return u};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(e)}).call(e,n(2).Buffer)},function(t,e,n){function r(t,e,n){var r=o(e);if(!n)return i(e,t,r);for(var s=-1,a=r.length;++s<a;){var u=r[s],c=t[u],l=n(c,e[u],u,t,e);(l===l?l===c:c!==c)&&("undefined"!=typeof c||u in t)||(t[u]=l)}return t}var i=n(435),o=n(436);t.exports=r},function(t,e,n){function r(t,e,n){n||(n=e,e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}t.exports=r},function(t,e,n){function r(t,e){return t=+t,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function o(t){for(var e=a(t),n=e.length,o=n&&t.length,s=o&&i(o)&&(c(t)||g.nonEnumArgs&&u(t)),l=-1,p=[];++l<n;){var d=e[l];(s&&r(d,o)||f.call(t,d))&&p.push(d)}return p}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(c(t)||g.nonEnumArgs&&u(t))&&e||0;for(var n=t.constructor,o=-1,a="function"==typeof n&&n.prototype===t,l=Array(e),p=e>0;++o<e;)l[o]=o+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||l.push(d);return l}var u=n(437),c=n(9),l=n(438),p=Object.prototype,f=p.hasOwnProperty,d=p.propertyIsEnumerable,h=l(h=Object.keys)&&h,m=Math.pow(2,53)-1,g={};!function(t){try{g.nonEnumArgs=!d.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var v=h?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&i(n)?o(t):s(t)?h(t):[]}:o;t.exports=v},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=r(t)?t.length:void 0;return i(e)&&u.call(t)==s}var s="[object Arguments]",a=Object.prototype,u=a.toString,c=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return null==t?!1:d.call(t)==a?h.test(f.call(t)):i(t)&&u.test(t)}function s(t){return t=r(t),t&&l.test(t)?t.replace(c,"\\$&"):t}var a="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,l=RegExp(c.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,h=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){function r(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var s=e[n-2],a=e[n-1],u=e[3];n>3&&"function"==typeof s?(s=i(s,a,5),n-=2):(s=n>2&&"function"==typeof a?a:null,n-=s?1:0),u&&o(e[1],e[2],u)&&(s=3==n?null:s,n=2);for(var c=0;++c<n;){var l=e[c];l&&t(r,l,s)}return r}}var i=n(440),o=n(441);t.exports=r},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=r},function(t,e,n){function r(t,e){return t=+t,e=null==e?a:e,t>-1&&t%1==0&&e>t}function i(t,e,n){if(!s(n))return!1;var i=typeof e;if("number"==i)var a=n.length,u=o(a)&&r(e,a);else u="string"==i&&e in n;if(u){var c=n[e];return t===t?t===c:c!==c}return!1}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&a>=t}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}var a=Math.pow(2,53)-1;t.exports=i},function(t,e,n){function r(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[++i]=s)}return o}t.exports=r},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?"undefined"==typeof e?t:h(t,e,n):null==t?f:"object"==r?o(t):"undefined"==typeof e?a(t+""):s(t+"",e)}function i(t,e,n,r,i){for(var o=-1,s=e.length,a=!i;++o<s;)if(a&&r[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<s;){var u=e[o],c=t[u],l=n[o];if(a&&r[o])var p="undefined"!=typeof c||u in t;else p=i?i(c,l,u):void 0,"undefined"==typeof p&&(p=d(l,c,i,!0));if(!p)return!1}return!0}function o(t){var e=m(t),n=e.length;if(!n)return p(!0);if(1==n){var r=e[0],o=t[r];if(u(o))return function(t){return null!=t&&t[r]===o&&("undefined"!=typeof o||r in c(t))}}for(var s=Array(n),a=Array(n);n--;)o=t[e[n]],s[n]=o,a[n]=u(o);return function(t){return null!=t&&i(c(t),e,s,a)}}function s(t,e){return u(e)?function(n){return null!=n&&n[t]===e&&("undefined"!=typeof e||t in c(n))}:function(n){return null!=n&&d(e,n[t],null,!0)}}function a(t){return function(e){return null==e?void 0:e[t]}}function u(t){return t===t&&(0===t?1/t>0:!l(t))}function c(t){return l(t)?t:Object(t)}function l(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function p(t){return function(){return t}}function f(t){return t}var d=n(444),h=n(446),m=n(68);t.exports=r},function(t,e,n){function r(t,e,n,o,s,a){if(t===e)return 0!==t||1/t==1/e;var u=typeof t,c=typeof e;return"function"!=u&&"object"!=u&&"function"!=c&&"object"!=c||null==t||null==e?t!==t&&e!==e:i(t,e,r,n,o,s,a)}function i(t,e,n,r,i,l,d){var h=u(t),m=u(e),v=f,_=f;h||(v=w.call(t),v==p?v=y:v!=y&&(h=c(t))),m||(_=w.call(e),_==p?_=y:_!=y&&(m=c(e)));var b=v==y||i&&v==g,E=_==y||i&&_==g,S=v==_;if(S&&!h&&!b)return s(t,e,v);if(i){if(!(S||b&&E))return!1}else{var C=b&&x.call(t,"__wrapped__"),N=E&&x.call(e,"__wrapped__");if(C||N)return n(C?t.value():t,N?e.value():e,r,i,l,d);if(!S)return!1}l||(l=[]),d||(d=[]);for(var O=l.length;O--;)if(l[O]==t)return d[O]==e;l.push(t),d.push(e);var T=(h?o:a)(t,e,n,r,i,l,d);return l.pop(),d.pop(),T}function o(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++a<u;){var p=t[a],f=e[a];if(l=void 0,r&&(l=i?r(f,p,a):r(p,f,a)),"undefined"==typeof l)if(i)for(var d=c;d--&&(f=e[d],!(l=p&&p===f||n(p,f,r,i,o,s))););else l=p&&p===f||n(p,f,r,i,o,s)}return!!l}function s(t,e,n){switch(n){case d:case h:return+t==+e;case m:return t.name==e.name&&t.message==e.message;case v:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case _:case b:return t==e+""}return!1}function a(t,e,n,r,i,o,s){var a=l(t),u=a.length,c=l(e),p=c.length;if(u!=p&&!i)return!1;for(var f=i,d=-1;++d<u;){var h=a[d],m=i?h in e:x.call(e,h);if(m){var g=t[h],v=e[h];m=void 0,r&&(m=i?r(v,g,h):r(g,v,h)),"undefined"==typeof m&&(m=g&&g===v||n(g,v,r,i,o,s))}if(!m)return!1;f||(f="constructor"==h)}if(!f){var y=t.constructor,_=e.constructor;if(y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}var u=n(9),c=n(445),l=n(68),p="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Function]",v="[object Number]",y="[object Object]",_="[object RegExp]",b="[object String]",E=Object.prototype,x=E.hasOwnProperty,w=E.toString;t.exports=r},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&A>=t}function o(t){return r(t)&&i(t.length)&&!!D[I.call(t)]}var s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",f="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",D={};D[b]=D[E]=D[x]=D[w]=D[S]=D[C]=D[N]=D[O]=D[T]=!0,D[s]=D[a]=D[_]=D[u]=D[c]=D[l]=D[p]=D[f]=D[d]=D[h]=D[m]=D[g]=D[v]=D[y]=!1;var j=Object.prototype,I=j.toString,A=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=r},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(448);t.exports=r},function(t,e,n){function r(t,e){return f(t,e,c)}function i(t,e){return function(n,r){var i=n?n.length:0;if(!s(i))return t(n,r);for(var o=e?i:-1,u=a(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function o(t){return function(e,n,r){for(var i=a(e),o=r(e),s=o.length,u=t?s:-1;t?u--:++u<s;){var c=o[u];if(n(i[c],c,i)===!1)break}return e}}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function a(t){return u(t)?t:Object(t)}function u(t){var e=typeof t;return"function"==e||!!t&&"object"==e}var c=n(68),l=Math.pow(2,53)-1,p=i(r),f=o();t.exports=p},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=r(t)?t.length:void 0;return i(e)&&u.call(t)==s}var s="[object Arguments]",a=Object.prototype,u=a.toString,c=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return null==t?!1:d.call(t)==a?h.test(f.call(t)):i(t)&&u.test(t)}function s(t){return t=r(t),t&&l.test(t)?t.replace(c,"\\$&"):t}var a="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,l=RegExp(c.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,h=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){function r(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=r},function(t,e,n){function r(t,e){return f(t,e,c)}function i(t,e){return function(n,r){var i=n?n.length:0;if(!s(i))return t(n,r);for(var o=e?i:-1,u=a(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function o(t){return function(e,n,r){for(var i=a(e),o=r(e),s=o.length,u=t?s:-1;t?u--:++u<s;){var c=o[u];if(n(i[c],c,i)===!1)break}return e}}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function a(t){return u(t)?t:Object(t)}function u(t){var e=typeof t;return"function"==e||!!t&&"object"==e}var c=n(453),l=Math.pow(2,53)-1,p=i(r),f=o();t.exports=p},function(t,e,n){function r(t,e){return t=+t,e=null==e?m:e,t>-1&&t%1==0&&e>t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function o(t){for(var e=a(t),n=e.length,o=n&&t.length,s=o&&i(o)&&(c(t)||g.nonEnumArgs&&u(t)),l=-1,p=[];++l<n;){var d=e[l];(s&&r(d,o)||f.call(t,d))&&p.push(d)}return p}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(c(t)||g.nonEnumArgs&&u(t))&&e||0;for(var n=t.constructor,o=-1,a="function"==typeof n&&n.prototype===t,l=Array(e),p=e>0;++o<e;)l[o]=o+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||l.push(d);return l}var u=n(454),c=n(9),l=n(455),p=Object.prototype,f=p.hasOwnProperty,d=p.propertyIsEnumerable,h=l(h=Object.keys)&&h,m=Math.pow(2,53)-1,g={};!function(t){try{g.nonEnumArgs=!d.call(arguments,1)}catch(e){g.nonEnumArgs=!0}}(0,0);var v=h?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&i(n)?o(t):s(t)?h(t):[]}:o;t.exports=v},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=r(t)?t.length:void 0;return i(e)&&u.call(t)==s}var s="[object Arguments]",a=Object.prototype,u=a.toString,c=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return!!t&&"object"==typeof t}function o(t){return null==t?!1:d.call(t)==a?h.test(f.call(t)):i(t)&&u.test(t)}function s(t){return t=r(t),t&&l.test(t)?t.replace(c,"\\$&"):t}var a="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,l=RegExp(c.source),p=Object.prototype,f=Function.prototype.toString,d=p.toString,h=RegExp("^"+s(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=r},function(t,e,n){function r(t,e){for(var n,r=-1,i=t.length,o=-1,s=[];++r<i;){var a=t[r],u=e?e(a,r,t):a;r&&n===u||(n=u,s[++o]=a)}return s}function i(t,e,n,i){var u=t?t.length:0;return u?(null!=e&&"boolean"!=typeof e&&(i=n,n=a(t,e,i)?null:e,e=!1),n=null==n?n:o(n,i,3),e?r(t,n):s(t,n)):[]}{var o=n(458),s=n(463),a=n(467);n(9),n(101)}t.exports=i},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?"undefined"==typeof e?t:h(t,e,n):null==t?f:"object"==r?o(t):"undefined"==typeof e?a(t+""):s(t+"",e)}function i(t,e,n,r,i){for(var o=-1,s=e.length,a=!i;++o<s;)if(a&&r[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<s;){var u=e[o],c=t[u],l=n[o];if(a&&r[o])var p="undefined"!=typeof c||u in t;else p=i?i(c,l,u):void 0,"undefined"==typeof p&&(p=d(l,c,i,!0));if(!p)return!1}return!0}function o(t){var e=m(t),n=e.length;if(!n)return p(!0);if(1==n){var r=e[0],o=t[r];if(u(o))return function(t){return null!=t&&t[r]===o&&("undefined"!=typeof o||r in c(t))}}for(var s=Array(n),a=Array(n);n--;)o=t[e[n]],s[n]=o,a[n]=u(o);return function(t){return null!=t&&i(c(t),e,s,a)}}function s(t,e){return u(e)?function(n){return null!=n&&n[t]===e&&("undefined"!=typeof e||t in c(n))}:function(n){return null!=n&&d(e,n[t],null,!0)}}function a(t){return function(e){return null==e?void 0:e[t]}}function u(t){return t===t&&(0===t?1/t>0:!l(t))}function c(t){return l(t)?t:Object(t)}function l(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function p(t){return function(){return t}}function f(t){return t}var d=n(459),h=n(461),m=n(145);t.exports=r},function(t,e,n){function r(t,e,n,o,s,a){if(t===e)return 0!==t||1/t==1/e;var u=typeof t,c=typeof e;return"function"!=u&&"object"!=u&&"function"!=c&&"object"!=c||null==t||null==e?t!==t&&e!==e:i(t,e,r,n,o,s,a)}function i(t,e,n,r,i,l,d){var h=u(t),m=u(e),v=f,_=f;h||(v=w.call(t),v==p?v=y:v!=y&&(h=c(t))),m||(_=w.call(e),_==p?_=y:_!=y&&(m=c(e)));var b=v==y||i&&v==g,E=_==y||i&&_==g,S=v==_;if(S&&!h&&!b)return s(t,e,v);if(i){if(!(S||b&&E))return!1}else{var C=b&&x.call(t,"__wrapped__"),N=E&&x.call(e,"__wrapped__");if(C||N)return n(C?t.value():t,N?e.value():e,r,i,l,d);if(!S)return!1}l||(l=[]),d||(d=[]);for(var O=l.length;O--;)if(l[O]==t)return d[O]==e;l.push(t),d.push(e);var T=(h?o:a)(t,e,n,r,i,l,d);return l.pop(),d.pop(),T}function o(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++a<u;){var p=t[a],f=e[a];if(l=void 0,r&&(l=i?r(f,p,a):r(p,f,a)),"undefined"==typeof l)if(i)for(var d=c;d--&&(f=e[d],!(l=p&&p===f||n(p,f,r,i,o,s))););else l=p&&p===f||n(p,f,r,i,o,s)}return!!l}function s(t,e,n){switch(n){case d:case h:return+t==+e;case m:return t.name==e.name&&t.message==e.message;case v:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case _:case b:return t==e+""}return!1}function a(t,e,n,r,i,o,s){var a=l(t),u=a.length,c=l(e),p=c.length;if(u!=p&&!i)return!1;for(var f=i,d=-1;++d<u;){var h=a[d],m=i?h in e:x.call(e,h);if(m){var g=t[h],v=e[h];m=void 0,r&&(m=i?r(v,g,h):r(g,v,h)),"undefined"==typeof m&&(m=g&&g===v||n(g,v,r,i,o,s))}if(!m)return!1;f||(f="constructor"==h)}if(!f){var y=t.constructor,_=e.constructor;if(y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}var u=n(9),c=n(460),l=n(145),p="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",m="[object Error]",g="[object Function]",v="[object Number]",y="[object Object]",_="[object RegExp]",b="[object String]",E=Object.prototype,x=E.hasOwnProperty,w=E.toString;t.exports=r},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&A>=t}function o(t){return r(t)&&i(t.length)&&!!D[I.call(t)]}var s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",f="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",T="[object Uint32Array]",D={};D[b]=D[E]=D[x]=D[w]=D[S]=D[C]=D[N]=D[O]=D[T]=!0,D[s]=D[a]=D[_]=D[u]=D[c]=D[l]=D[p]=D[f]=D[d]=D[h]=D[m]=D[g]=D[v]=D[y]=!1;var j=Object.prototype,I=j.toString,A=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}t.exports=r},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=r(t)?t.length:void 0;return i(e)&&u.call(t)==s}var s="[object Arguments]",a=Object.prototype,u=a.toString,c=Math.pow(2,53)-1;t.exports=o},function(t,e,n){function r(t,e){var n=-1,r=i,a=t.length,u=!0,c=u&&a>=200,l=c?s():null,p=[];l?(r=o,u=!1):(c=!1,l=e?[]:p);t:for(;++n<a;){var f=t[n],d=e?e(f,n,t):f;if(u&&f===f){for(var h=l.length;h--;)if(l[h]===d)continue t;e&&l.push(d),p.push(f)}else r(l,d,0)<0&&((e||c)&&l.push(d),p.push(f))}return p}var i=n(464),o=n(465),s=n(466);t.exports=r},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function i(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=r},function(t,e,n){function r(t,e){var n=t.data,r="string"==typeof e||i(e)?n.set.has(e):n.hash[e];return r?0:-1}function i(t){var e=typeof t;return"function"==e||!!t&&"object"==e}t.exports=r},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:c(null),set:new u};e--;)this.push(t[e])}function i(t){var e=this.data;"string"==typeof t||o(t)?e.set.add(t):e.hash[t]=!0}function o(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function s(t){return function(){return t}}var a=n(101),u=a(u=e.Set)&&u,c=a(c=Object.create)&&c,l=c&&u?function(t){return new r(t)}:s(null);r.prototype.push=i,t.exports=l}).call(e,function(){return this}())},function(t,e,n){function r(t,e){return t=+t,e=null==e?a:e,t>-1&&t%1==0&&e>t}function i(t,e,n){if(!s(n))return!1;var i=typeof e;if("number"==i)var a=n.length,u=o(a)&&r(e,a);else u="string"==i&&e in n;if(u){var c=n[e];return t===t?t===c:c!==c}return!1}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&a>=t}function s(t){var e=typeof t;return"function"==e||!!t&&"object"==e}var a=Math.pow(2,53)-1;t.exports=i},function(t,e,n){(function(t){!function(n,r){r(e,t)}(this,function(t,e){function n(){}n.prototype.name="ANONYMOUS",n.prototype.clientFirst=!0,n.prototype.response=function(t){return t.trace||""},n.prototype.challenge=function(t){},t=e.exports=n})}).call(e,n(21)(t))},function(t,e,n){(function(t){!function(r,i){i(e,t,n(468))}(this,function(t,e,n){t=e.exports=n,t.Mechanism=n})}).call(e,n(21)(t))},function(t,e,n){(function(t){!function(n,r){r(e,t)}(this,function(t,e){function n(){}n.prototype.name="EXTERNAL",n.prototype.clientFirst=!0,n.prototype.response=function(t){return t.authzid||""},n.prototype.challenge=function(t){},t=e.exports=n})}).call(e,n(21)(t))},function(t,e,n){(function(t){!function(r,i){i(e,t,n(470))}(this,function(t,e,n){t=e.exports=n,t.Mechanism=n})}).call(e,n(21)(t))},function(t,e,n){(function(t){!function(n,r){r(e,t)}(this,function(t,e){function n(){}n.prototype.name="PLAIN",n.prototype.clientFirst=!0,n.prototype.response=function(t){var e="";return e+=t.authzid||"",e+="\x00",e+=t.username,e+="\x00",e+=t.password},n.prototype.challenge=function(t){return this},t=e.exports=n})}).call(e,n(21)(t))},function(t,e,n){(function(t){!function(r,i){i(e,t,n(472))}(this,function(t,e,n){t=e.exports=n,t.Mechanism=n})}).call(e,n(21)(t))},function(t,e,n){(function(e){function r(t){t=t||{},this._genNonce=t.genNonce||o.genNonce,this._stage="initial"}var i=n(475),o=n(476),s={};r.Mechanism=r,r.prototype.name="SCRAM-SHA-1",r.prototype.clientFirst=!0,r.prototype.response=function(t){return s[this._stage](this,t)},r.prototype.challenge=function(t){var n=o.parse(t);return this._salt=new e(n.s||"","base64"),this._iterationCount=parseInt(n.i,10),this._nonce=n.r,this._verifier=n.v,this._error=n.e,this._challenge=t,this},s.initial=function(t,e){t._cnonce=t._genNonce();var n="";e.authzid&&(n="a="+o.saslname(e.authzid)),t._gs2Header="n,"+n+",";var r="r="+t._cnonce,i="n="+o.saslname(e.username);t._clientFirstMessageBare=i+","+r;var s=t._gs2Header+t._clientFirstMessageBare;return t._stage="challenge",s},s.challenge=function(t,n){var r=new e(t._gs2Header).toString("base64");t._clientFinalMessageWithoutProof="c="+r+",r="+t._nonce;var o,s,a;n.clientKey&&n.serverKey?(s=n.clientKey,a=n.serverKey):(o=n.saltedPassword||i.Hi(n.password,t._salt,t._iterationCount),s=i.HMAC(o,"Client Key"),a=i.HMAC(o,"Server Key"));var u=i.H(s),c=t._clientFirstMessageBare+","+t._challenge+","+t._clientFinalMessageWithoutProof,l=i.HMAC(u,c),p=i.XOR(s,l).toString("base64");t._serverSignature=i.HMAC(a,c);var f=t._clientFinalMessageWithoutProof+",p="+p;return t._stage="final",t.cache={saltedPassword:o,clientKey:s,serverKey:a},f},s["final"]=function(){return""},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(t){var r=n(146),i=n(486),o=n(477);e.XOR=o,e.H=function(t){return r("sha1").update(t).digest()},e.HMAC=function(t,e){return i("sha1",t).update(e).digest()},e.Hi=function(n,r,i){for(var o=e.HMAC(n,t.concat([r,new t([0,0,0,1],"binary")])),s=o,a=0;i-1>a;a++)o=e.HMAC(n,o),s=e.XOR(s,o);return s}}).call(e,n(2).Buffer)},function(t,e,n){var r=n(488);e.parse=function(t){for(var e={},n=t.split(/,(?=(?:[^"]|"[^"]*")*$)/),r=0,i=n.length;i>r;r++){var o=/(\w+)=["]?([^"]+)["]?$/.exec(n[r]);o&&(e[o[1]]=o[2])}return e},e.saslname=function(t){for(var e=[],n="",r=0;r<t.length;r++)n=t[r],e.push(","===n?"=2C":"="===n?"=3D":n);return e.join("")},e.genNonce=function(t){return r((t||32)/2).toString("hex")}},function(t,e,n){(function(e){function n(t,n){e.isBuffer(t)||(t=new e(t)),e.isBuffer(n)||(n=new e(n));var r=[];if(t.length>n.length)for(var i=0;i<n.length;i++)r.push(t[i]^n[i]);else for(var i=0;i<t.length;i++)r.push(t[i]^n[i]);return new e(r)}t.exports=n}).call(e,n(2).Buffer)},function(t,e,n){(function(t){"use strict";function n(e,n){if(e.length%o!==0){var r=e.length+(o-e.length%o);e=t.concat([e,s],r)}for(var i=[],a=n?e.readInt32BE:e.readInt32LE,u=0;u<e.length;u+=o)i.push(a.call(e,u));return i}function r(e,n,r){for(var i=new t(n),o=r?i.writeInt32BE:i.writeInt32LE,s=0;s<e.length;s++)o.call(i,e[s],4*s,!0);return i}function i(e,i,o,s){t.isBuffer(e)||(e=new t(e));var u=i(n(e,s),e.length*a);return r(u,o,s)}var o=4,s=new t(o);s.fill(0);var a=8;e.hash=i}).call(e,n(2).Buffer)},function(t,e,n){"use strict";function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,p=0;p<t.length;p+=16){var f=n,d=r,h=i,m=l;n=o(n,r,i,l,t[p+0],7,-680876936),l=o(l,n,r,i,t[p+1],12,-389564586),i=o(i,l,n,r,t[p+2],17,606105819),r=o(r,i,l,n,t[p+3],22,-1044525330),n=o(n,r,i,l,t[p+4],7,-176418897),l=o(l,n,r,i,t[p+5],12,1200080426),i=o(i,l,n,r,t[p+6],17,-1473231341),r=o(r,i,l,n,t[p+7],22,-45705983),n=o(n,r,i,l,t[p+8],7,1770035416),l=o(l,n,r,i,t[p+9],12,-1958414417),i=o(i,l,n,r,t[p+10],17,-42063),r=o(r,i,l,n,t[p+11],22,-1990404162),n=o(n,r,i,l,t[p+12],7,1804603682),l=o(l,n,r,i,t[p+13],12,-40341101),i=o(i,l,n,r,t[p+14],17,-1502002290),r=o(r,i,l,n,t[p+15],22,1236535329),n=s(n,r,i,l,t[p+1],5,-165796510),l=s(l,n,r,i,t[p+6],9,-1069501632),i=s(i,l,n,r,t[p+11],14,643717713),r=s(r,i,l,n,t[p+0],20,-373897302),n=s(n,r,i,l,t[p+5],5,-701558691),l=s(l,n,r,i,t[p+10],9,38016083),i=s(i,l,n,r,t[p+15],14,-660478335),r=s(r,i,l,n,t[p+4],20,-405537848),n=s(n,r,i,l,t[p+9],5,568446438),l=s(l,n,r,i,t[p+14],9,-1019803690),i=s(i,l,n,r,t[p+3],14,-187363961),r=s(r,i,l,n,t[p+8],20,1163531501),n=s(n,r,i,l,t[p+13],5,-1444681467),l=s(l,n,r,i,t[p+2],9,-51403784),i=s(i,l,n,r,t[p+7],14,1735328473),r=s(r,i,l,n,t[p+12],20,-1926607734),n=a(n,r,i,l,t[p+5],4,-378558),l=a(l,n,r,i,t[p+8],11,-2022574463),i=a(i,l,n,r,t[p+11],16,1839030562),r=a(r,i,l,n,t[p+14],23,-35309556),n=a(n,r,i,l,t[p+1],4,-1530992060),l=a(l,n,r,i,t[p+4],11,1272893353),i=a(i,l,n,r,t[p+7],16,-155497632),r=a(r,i,l,n,t[p+10],23,-1094730640),n=a(n,r,i,l,t[p+13],4,681279174),l=a(l,n,r,i,t[p+0],11,-358537222),i=a(i,l,n,r,t[p+3],16,-722521979),r=a(r,i,l,n,t[p+6],23,76029189),n=a(n,r,i,l,t[p+9],4,-640364487),l=a(l,n,r,i,t[p+12],11,-421815835),i=a(i,l,n,r,t[p+15],16,530742520),r=a(r,i,l,n,t[p+2],23,-995338651),n=u(n,r,i,l,t[p+0],6,-198630844),l=u(l,n,r,i,t[p+7],10,1126891415),i=u(i,l,n,r,t[p+14],15,-1416354905),r=u(r,i,l,n,t[p+5],21,-57434055),n=u(n,r,i,l,t[p+12],6,1700485571),l=u(l,n,r,i,t[p+3],10,-1894986606),i=u(i,l,n,r,t[p+10],15,-1051523),r=u(r,i,l,n,t[p+1],21,-2054922799),n=u(n,r,i,l,t[p+8],6,1873313359),l=u(l,n,r,i,t[p+15],10,-30611744),i=u(i,l,n,r,t[p+6],15,-1560198380),r=u(r,i,l,n,t[p+13],21,1309151649),n=u(n,r,i,l,t[p+4],6,-145523070),l=u(l,n,r,i,t[p+11],10,-1120210379),i=u(i,l,n,r,t[p+2],15,718787259),r=u(r,i,l,n,t[p+9],21,-343485551),n=c(n,f),r=c(r,d),i=c(i,h),l=c(l,m)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function u(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var p=n(478);t.exports=function(t){return p.hash(t,r,16)}},function(t,e,n){(function(e){function n(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e}function r(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e}function i(t,e,n){for(var r=0;16>r;r++){var i=n+r,p=e[i];e[i]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var y,_,b,E,x,w,S,C,N,O;w=y=t[0],S=_=t[1],C=b=t[2],N=E=t[3],O=x=t[4];for(var T,r=0;80>r;r+=1)T=y+e[n+f[r]]|0,T+=16>r?o(_,b,E)+g[0]:32>r?s(_,b,E)+g[1]:48>r?a(_,b,E)+g[2]:64>r?u(_,b,E)+g[3]:c(_,b,E)+g[4],T=0|T,T=l(T,h[r]),T=T+x|0,y=x,x=E,E=l(b,10),b=_,_=T,T=w+e[n+d[r]]|0,T+=16>r?c(S,C,N)+v[0]:32>r?u(S,C,N)+v[1]:48>r?a(S,C,N)+v[2]:64>r?s(S,C,N)+v[3]:o(S,C,N)+v[4],T=0|T,T=l(T,m[r]),T=T+O|0,w=O,O=N,N=l(C,10),C=S,S=T;T=t[1]+b+N|0,t[1]=t[2]+E+O|0,t[2]=t[3]+x+w|0,t[3]=t[4]+y+S|0,t[4]=t[0]+_+C|0,t[0]=T}function o(t,e,n){return t^e^n}function s(t,e,n){return t&e|~t&n}function a(t,e,n){return(t|~e)^n}function u(t,e,n){return t&n|e&~n}function c(t,e,n){return t^(e|~n)}function l(t,e){return t<<e|t>>>32-e}function p(t){var o=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var s=n(t),a=8*t.length,u=8*t.length;s[a>>>5]|=128<<24-a%32,s[(a+64>>>9<<4)+14]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8);for(var c=0;c<s.length;c+=16)i(o,s,c);for(var c=0;5>c;c++){var l=o[c];o[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var p=r(o);return new e(p)}/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];t.exports=p}).call(e,n(2).Buffer)},function(t,e,n){var e=t.exports=function(t){var n=e[t.toLowerCase()];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};e.sha=n(482),e.sha1=n(483),e.sha224=n(484),e.sha256=n(147),e.sha384=n(485),e.sha512=n(148)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}function i(t,e){return t<<e|t>>>32-e}var o=n(31),s=n(40),a=new Array(80);o(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){function e(){return o[p-3]^o[p-8]^o[p-14]^o[p-16]}function n(t,e){o[p]=t;var n=i(s,5)+e+l+t+r;l=c,c=u,u=i(a,30),a=s,s=n,p++}var r,o=this._w,s=this._a,a=this._b,u=this._c,c=this._d,l=this._e,p=0;for(r=1518500249;16>p;)n(t.readInt32BE(4*p),a&u|~a&c);for(;20>p;)n(e(),a&u|~a&c);for(r=1859775393;40>p;)n(e(),a^u^c);for(r=-1894007588;60>p;)n(e(),a&u|a&c|u&c);for(r=-899497514;80>p;)n(e(),a^u^c);this._a=s+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=new e(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}function i(t,e){return t<<e|t>>>32-e}var o=n(31),s=n(40),a=new Array(80);o(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){function e(){return i(o[p-3]^o[p-8]^o[p-14]^o[p-16],1)}function n(t,e){o[p]=t;var n=i(s,5)+e+l+t+r;l=c,c=u,u=i(a,30),a=s,s=n,p++}var r,o=this._w,s=this._a,a=this._b,u=this._c,c=this._d,l=this._e,p=0;for(r=1518500249;16>p;)n(t.readInt32BE(4*p),a&u|~a&c);for(;20>p;)n(e(),a&u|~a&c);for(r=1859775393;40>p;)n(e(),a^u^c);for(r=-1894007588;60>p;)n(e(),a&u|a&c|u&c);for(r=-899497514;80>p;)n(e(),a^u^c);this._a=s+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=new e(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,64,56)}var i=n(31),o=n(147),s=n(40),a=new Array(64);i(r,o),r.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},r.prototype._hash=function(){var t=new e(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){function r(){this.init(),this._w=a,s.call(this,128,112)}var i=n(31),o=n(148),s=n(40),a=new Array(160);i(r,o),r.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},r.prototype._hash=function(){function t(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new e(48);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),n},t.exports=r}).call(e,n(2).Buffer)},function(t,e,n){(function(e){"use strict";function r(t,n){s.call(this),"string"==typeof n&&(n=new e(n));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=n,n.length>r?n=i(t).update(n).digest():n.length<r&&(n=e.concat([n,a],r));for(var o=this._ipad=new e(r),u=this._opad=new e(r),c=0;r>c;c++)o[c]=54^n[c],u[c]=92^n[c];this._hash=i(t).update(o)}var i=n(146),o=n(487),s=n(17).Transform,a=new e(128);a.fill(0),o(r,s),r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype._transform=function(t,e,n){this._hash.update(t),n()},r.prototype._flush=function(t){this.push(this.digest()),t()},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)},t.exports=function(t,e){return new r(t,e)}}).call(e,n(2).Buffer)},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(e,n,r){"use strict";function i(t,e){var i=new n(t);return s.getRandomValues(i),"function"==typeof e?r.nextTick(function(){e(null,i)}):i}function o(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=e.crypto||e.msCrypto;t.exports=s&&s.getRandomValues?i:o}).call(e,function(){return this}(),n(2).Buffer,n(1))},function(t,e,n){(function(t){!function(n,r){r(e,t)}(this,function(t,e){function n(){this._mechs=[]}n.prototype.use=function(t,e){return e||(e=t,t=e.prototype.name),this._mechs.push({name:t,mech:e}),this},n.prototype.create=function(t){for(var e=0,n=this._mechs.length;n>e;e++)for(var r=0,i=t.length;i>r;r++){var o=this._mechs[e];if(o.name==t[r])return new o.mech}return null},t=e.exports=n})}).call(e,n(21)(t))},function(t,e,n){(function(t){!function(r,i){i(e,t,n(489))}(this,function(t,e,n){t=e.exports=n,t.Factory=n})}).call(e,n(21)(t))},function(t,e,n){(function(e){var n;if(e.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=n}).call(e,function(){return this}())},function(t,e,n){(function(e){t.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{}}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}t.exports=r,r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},function(t,e,n){function r(t,e,n){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(t)?i(t,e,n):"string"==typeof t?o(t,e,n):s(t,e,n)}function i(t,e,n){for(var r=0,i=t.length;i>r;r++)c.call(t,r)&&e.call(n,t[r],r,t)}function o(t,e,n){for(var r=0,i=t.length;i>r;r++)e.call(n,t.charAt(r),r,t)}function s(t,e,n){for(var r in t)c.call(t,r)&&e.call(n,t[r],r,t)}var a=n(495);t.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(t,e,n){function r(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=r;var i=Object.prototype.toString},function(t,e,n){function r(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=r,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){var r=n(496),i=n(494),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),s=r(t.slice(n+1));"undefined"==typeof e[i]?e[i]=s:o(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}},function(t,e,n){"use strict";var r=n(499);e.available=!1,e.toUnicode=r.toUnicode,e.nameprep=function(t){return t.toLowerCase()},e.nodeprep=function(t){return t.toLowerCase()},e.resourceprep=function(t){return t}},function(t,e,n){var r;(function(t,i){!function(o){function s(t){throw RangeError(A[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(I,".");var i=t.split("."),o=a(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=P(t>>>10&1023|55296),t=56320|1023&t),e+=P(t)}).join("")}function p(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function f(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?k(t/C):t>>1,t+=k(t/e);t>R*w>>1;r+=E)t=k(t/R);return k(r+(R+1)*t/(t+S))}function h(t){var e,n,r,i,o,a,u,c,f,h,m=[],g=t.length,v=0,y=O,_=N;for(n=t.lastIndexOf(T),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&s("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;g>i;){for(o=v,a=1,u=E;i>=g&&s("invalid-input"),c=p(t.charCodeAt(i++)),(c>=E||c>k((b-v)/a))&&s("overflow"),v+=c*a,f=_>=u?x:u>=_+w?w:u-_,!(f>c);u+=E)h=E-f,a>k(b/h)&&s("overflow"),a*=h;e=m.length+1,_=d(v-o,e,0==o),k(v/e)>b-y&&s("overflow"),y+=k(v/e),v%=e,m.splice(v++,0,y)}return l(m)}function m(t){var e,n,r,i,o,a,u,l,p,h,m,g,v,y,_,S=[];for(t=c(t),g=t.length,e=O,n=0,o=N,a=0;g>a;++a)m=t[a],128>m&&S.push(P(m));for(r=i=S.length,i&&S.push(T);g>r;){for(u=b,a=0;g>a;++a)m=t[a],m>=e&&u>m&&(u=m);for(v=r+1,u-e>k((b-n)/v)&&s("overflow"),n+=(u-e)*v,e=u,a=0;g>a;++a)if(m=t[a],e>m&&++n>b&&s("overflow"),m==e){for(l=n,p=E;h=o>=p?x:p>=o+w?w:p-o,!(h>l);p+=E)_=l-h,y=E-h,S.push(P(f(h+_%y,0))),l=k(_/y);S.push(P(f(l,0))),o=d(n,v,r==i),n=0,++r}++n,++e}return S.join("")}function g(t){return u(t,function(t){return D.test(t)?h(t.slice(4).toLowerCase()):t})}function v(t){return u(t,function(t){return j.test(t)?"xn--"+m(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(y.global===y||y.window===y||y.self===y)&&(o=y);var _,b=2147483647,E=36,x=1,w=26,S=38,C=700,N=72,O=128,T="-",D=/^xn--/,j=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=E-x,k=Math.floor,P=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:c,encode:l},decode:h,encode:m,toASCII:v,toUnicode:g},r=function(){return _}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(21)(t),function(){return this}())},function(t,e,n){var r=n(164);"string"==typeof r&&(r=[[t.id,r,""]]);n(69)(r,{})},function(t,e,n){var r=n(165);"string"==typeof r&&(r=[[t.id,r,""]]);n(69)(r,{})},function(t,e,n){var r=n(166);"string"==typeof r&&(r=[[t.id,r,""]]);n(69)(r,{})},function(t,e,n){var r=n(167);"string"==typeof r&&(r=[[t.id,r,""]]);n(69)(r,{})},function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===p?62:e===a||e===f?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function n(t){function n(t){c[p++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var p=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),p="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}(e)},function(t,e,n){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,p=n?i-1:0,f=n?-1:1,d=t[e+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+p],p+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+p],p+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:(d?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+p>=1?f/u:f*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(e*u-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=h,s/=256,c-=8);t[n+d-h]|=128*m}},function(t,e,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(t){return!!t&&"[object Array]"==i.call(t)}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===s(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var c=[],u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(1))},function(t,e,n){t.exports=n(32)},function(t,e,n){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){t.exports=n(152)},function(t,e,n){e=t.exports=n(153),e.Stream=n(17),e.Readable=e,e.Writable=n(103),e.Duplex=n(32),e.Transform=n(102),e.PassThrough=n(152)},function(t,e,n){t.exports=n(102)},function(t,e,n){t.exports=n(103)},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){}]);